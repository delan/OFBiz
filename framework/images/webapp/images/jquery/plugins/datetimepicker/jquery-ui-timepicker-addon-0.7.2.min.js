(function($){
var _1=new Date();
this.hour=_1.getHours();
this.minute=_1.getMinutes();
this.second=_1.getSeconds();
function _2(_3){
if(typeof (_3)==="boolean"&&_3==true){
this.regional=[];
this.regional[""]={currentText:"Now",ampm:false,timeFormat:"hh:mm tt",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second"};
this.defaults={showButtonPanel:true,timeOnly:false,showHour:true,showMinute:true,showSecond:false,showTime:true,stepHour:0.05,stepMinute:0.05,stepSecond:0.05,hour:0,minute:0,second:0,hourMin:0,minuteMin:0,secondMin:0,hourMax:23,minuteMax:59,secondMax:59,hourGrid:0,minuteGrid:0,secondGrid:0,alwaysSetTime:true};
$.extend(this.defaults,this.regional[""]);
}else{
this.defaults=$.extend({},$.timepicker.defaults);
}
};
_2.prototype={$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,hour:0,minute:0,second:0,ampm:"",hour:hour,minute:minute,second:second,formattedDate:"",formattedTime:"",formattedDateTime:"",addTimePicker:function(_4){
var _5=this;
var _6;
if((this.$altInput)&&this.$altInput!=null){
_6=this.$input.val()+" "+this.$altInput.val();
}else{
_6=this.$input.val();
}
var _7=this.defaults.timeFormat.toString().replace(/h{1,2}/ig,"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/t{1,2}/ig,"(am|pm|a|p)?").replace(/\s/g,"\\s?")+"$";
if(!this.defaults.timeOnly){
var _8=$.datepicker._get(_4,"dateFormat");
_7=".{"+_8.length+",}\\s+"+_7;
}
var _9=this.getFormatPositions();
var _a=_6.match(new RegExp(_7,"i"));
if(_a){
if(_9.t!==-1){
this.ampm=((_a[_9.t]===undefined||_a[_9.t].length===0)?"":(_a[_9.t].charAt(0).toUpperCase()=="A")?"AM":"PM").toUpperCase();
}
if(_9.h!==-1){
if(this.ampm=="AM"&&_a[_9.h]=="12"){
this.hour=0;
}else{
if(this.ampm=="PM"&&_a[_9.h]!="12"){
this.hour=(parseFloat(_a[_9.h])+12).toFixed(0);
}else{
this.hour=_a[_9.h];
}
}
}
if(_9.m!==-1){
this.minute=_a[_9.m];
}
if(_9.s!==-1){
this.second=_a[_9.s];
}
}
_5.timeDefined=(_a)?true:false;
if(typeof (_4.stay_open)!=="boolean"||_4.stay_open===false){
setTimeout(function(){
_5.injectTimePicker(_4,_5);
},10);
}else{
_5.injectTimePicker(_4,_5);
}
},getFormatPositions:function(){
var _b=this.defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|t{1,2})/g);
var _c={h:-1,m:-1,s:-1,t:-1};
if(_b){
for(var i=0;i<_b.length;i++){
if(_c[_b[i].toString().charAt(0)]==-1){
_c[_b[i].toString().charAt(0)]=i+1;
}
}
}
return _c;
},injectTimePicker:function(_d,_e){
var _f=_d.dpDiv;
var _10=_e.defaults;
var _11=_10.hourMax-(_10.hourMax%_10.stepHour);
var _12=_10.minuteMax-(_10.minuteMax%_10.stepMinute);
var _13=_10.secondMax-(_10.secondMax%_10.stepSecond);
if(_f.find("div#ui-timepicker-div-"+_d.id).length===0){
var _14=" style=\"display:none;\"";
var _15="<div class=\"ui-timepicker-div\" id=\"ui-timepicker-div-"+_d.id+"\"><dl>"+"<dt class=\"ui_tpicker_time_label\" id=\"ui_tpicker_time_label_"+_d.id+"\""+((_10.showTime)?"":_14)+">"+_10.timeText+"</dt>"+"<dd class=\"ui_tpicker_time\" id=\"ui_tpicker_time_"+_d.id+"\""+((_10.showTime)?"":_14)+"></dd>"+"<dt class=\"ui_tpicker_hour_label\" id=\"ui_tpicker_hour_label_"+_d.id+"\""+((_10.showHour)?"":_14)+">"+_10.hourText+"</dt>";
var _16=0;
var _17=0;
var _18=0;
if(_10.showHour&&_10.hourGrid>0){
_15+="<dd class=\"ui_tpicker_hour\">"+"<div id=\"ui_tpicker_hour_"+_d.id+"\""+((_10.showHour)?"":_14)+"></div>"+"<div style=\"padding-left: 1px\"><table><tr>";
for(var h=0;h<=_11;h+=_10.hourGrid){
_16++;
var _19=h;
if(_10.ampm&&h>12){
_19=h-12;
}else{
_19=h;
}
if(_19<10){
_19="0"+_19;
}
if(_10.ampm){
if(h==0){
_19=12+"a";
}else{
if(h<12){
_19+="a";
}else{
_19+="p";
}
}
}
_15+="<td>"+_19+"</td>";
}
_15+="</tr></table></div>"+"</dd>";
}else{
_15+="<dd class=\"ui_tpicker_hour\" id=\"ui_tpicker_hour_"+_d.id+"\""+((_10.showHour)?"":_14)+"></dd>";
}
_15+="<dt class=\"ui_tpicker_minute_label\" id=\"ui_tpicker_minute_label_"+_d.id+"\""+((_10.showMinute)?"":_14)+">"+_10.minuteText+"</dt>";
if(_10.showMinute&&_10.minuteGrid>0){
_15+="<dd class=\"ui_tpicker_minute\">"+"<div id=\"ui_tpicker_minute_"+_d.id+"\""+((_10.showMinute)?"":_14)+"></div>"+"<div style=\"padding-left: 1px\"><table><tr>";
for(var m=0;m<=_12;m+=_10.minuteGrid){
_17++;
_15+="<td>"+((m<10)?"0":"")+m+"</td>";
}
_15+="</tr></table></div>"+"</dd>";
}else{
_15+="<dd class=\"ui_tpicker_minute\" id=\"ui_tpicker_minute_"+_d.id+"\""+((_10.showMinute)?"":_14)+"></dd>";
}
_15+="<dt class=\"ui_tpicker_second_label\" id=\"ui_tpicker_second_label_"+_d.id+"\""+((_10.showSecond)?"":_14)+">"+_10.secondText+"</dt>";
if(_10.showSecond&&_10.secondGrid>0){
_15+="<dd class=\"ui_tpicker_second\">"+"<div id=\"ui_tpicker_second_"+_d.id+"\""+((_10.showSecond)?"":_14)+"></div>"+"<div style=\"padding-left: 1px\"><table><tr>";
for(var s=0;s<=_13;s+=_10.secondGrid){
_18++;
_15+="<td>"+((s<10)?"0":"")+s+"</td>";
}
_15+="</tr></table></div>"+"</dd>";
}else{
_15+="<dd class=\"ui_tpicker_second\" id=\"ui_tpicker_second_"+_d.id+"\""+((_10.showSecond)?"":_14)+"></dd>";
}
_15+="</dl></div>";
$tp=$(_15);
if(_10.timeOnly===true){
$tp.prepend("<div class=\"ui-widget-header ui-helper-clearfix ui-corner-all\">"+"<div class=\"ui-datepicker-title\">"+_10.timeOnlyTitle+"</div>"+"</div>");
_f.find(".ui-datepicker-header, .ui-datepicker-calendar").hide();
}
_e.hour_slider=$tp.find("#ui_tpicker_hour_"+_d.id).slider({orientation:"horizontal",value:_e.hour,min:_10.hourMin,max:_11,step:_10.stepHour,slide:function(_1a,ui){
_e.hour_slider.slider("option","value",ui.value);
_e.onTimeChange(_d,_e);
}});
_e.minute_slider=$tp.find("#ui_tpicker_minute_"+_d.id).slider({orientation:"horizontal",value:_e.minute,min:_10.minuteMin,max:_12,step:_10.stepMinute,slide:function(_1b,ui){
_e.minute_slider.slider("option","value",ui.value);
_e.onTimeChange(_d,_e);
}});
_e.second_slider=$tp.find("#ui_tpicker_second_"+_d.id).slider({orientation:"horizontal",value:_e.second,min:_10.secondMin,max:_13,step:_10.stepSecond,slide:function(_1c,ui){
_e.second_slider.slider("option","value",ui.value);
_e.onTimeChange(_d,_e);
}});
if(_10.showHour&&_10.hourGrid>0){
var _1d=100*_16*_10.hourGrid/(_11-_10.hourMin);
$tp.find(".ui_tpicker_hour table").css({"width":_1d+"%","margin-left":(_1d/(-2*_16))+"%","border-collapse":"collapse"});
$tp.find(".ui_tpicker_hour td").each(function(_1e){
$(this).click(function(){
var h=$(this).html();
if(_10.ampm){
var ap=h.substring(2).toLowerCase();
var aph=new Number(h.substring(0,2));
if(ap=="a"){
if(aph==12){
h=0;
}else{
h=aph;
}
}else{
if(aph==12){
h=12;
}else{
h=aph+12;
}
}
}
_e.hour_slider.slider("option","value",h);
_e.onTimeChange(_d,_e);
});
$(this).css({"cursor":"pointer","width":(100/_16)+"%","text-align":"center","overflow":"hidden"});
});
}
if(_10.showMinute&&_10.minuteGrid>0){
var _1d=100*_17*_10.minuteGrid/(_12-_10.minuteMin);
$tp.find(".ui_tpicker_minute table").css({"width":_1d+"%","margin-left":(_1d/(-2*_17))+"%","border-collapse":"collapse"});
$tp.find(".ui_tpicker_minute td").each(function(_1f){
$(this).click(function(){
_e.minute_slider.slider("option","value",$(this).html());
_e.onTimeChange(_d,_e);
});
$(this).css({"cursor":"pointer","width":(100/_17)+"%","text-align":"center","overflow":"hidden"});
});
}
if(_10.showSecond&&_10.secondGrid>0){
var _1d=100*_18*_10.secondGrid/(_13-_10.secondMin);
$tp.find(".ui_tpicker_second table").css({"width":_1d+"%","margin-left":(_1d/(-2*_18))+"%","border-collapse":"collapse"});
$tp.find(".ui_tpicker_second td").each(function(_20){
$(this).click(function(){
_e.second_slider.slider("option","value",$(this).html());
_e.onTimeChange(_d,_e);
});
$(this).css({"cursor":"pointer","width":(100/_18)+"%","text-align":"center","overflow":"hidden"});
});
}
_f.find(".ui-datepicker-calendar").after($tp);
_e.$timeObj=$("#ui_tpicker_time_"+_d.id);
if(_d!==null){
var _21=_e.timeDefined;
_e.onTimeChange(_d,_e);
_e.timeDefined=_21;
}
}
},onTimeChange:function(_22,_23){
var _24=(_23.hour_slider)?_23.hour_slider.slider("value"):_23.hour;
var _25=(_23.minute_slider)?_23.minute_slider.slider("value"):_23.minute;
var _26=(_23.second_slider)?_23.second_slider.slider("value"):_23.second;
var _27=(_24<11.5)?"AM":"PM";
_24=(_24>=11.5&&_24<12)?12:_24;
var _28=false;
if(_23.hour!=_24||_23.minute!=_25||_23.second!=_26||(_23.ampm.length>0&&_23.ampm!=_27)){
_28=true;
}
_23.hour=parseFloat(_24).toFixed(0);
_23.minute=parseFloat(_25).toFixed(0);
_23.second=parseFloat(_26).toFixed(0);
_23.ampm=_27;
_23.formatTime(_23);
if(_23.$timeObj){
_23.$timeObj.text(_23.formattedTime);
}
if(_28){
_23.updateDateTime(_22,_23);
_23.timeDefined=true;
}
},formatTime:function(_29){
var _2a=_29.defaults.timeFormat.toString();
var _2b=((_29.ampm=="AM")?(_29.hour):(_29.hour%12));
_2b=(Number(_2b)===0)?12:_2b;
if(_29.defaults.ampm===true){
_2a=_2a.toString().replace(/hh/g,((_2b<10)?"0":"")+_2b).replace(/h/g,_2b).replace(/mm/g,((_29.minute<10)?"0":"")+_29.minute).replace(/m/g,_29.minute).replace(/ss/g,((_29.second<10)?"0":"")+_29.second).replace(/s/g,_29.second).replace(/TT/g,_29.ampm.toUpperCase()).replace(/tt/g,_29.ampm.toLowerCase()).replace(/T/g,_29.ampm.charAt(0).toUpperCase()).replace(/t/g,_29.ampm.charAt(0).toLowerCase());
}else{
_2a=_2a.toString().replace(/hh/g,((_29.hour<10)?"0":"")+_29.hour).replace(/h/g,_29.hour).replace(/mm/g,((_29.minute<10)?"0":"")+_29.minute).replace(/m/g,_29.minute).replace(/ss/g,((_29.second<10)?"0":"")+_29.second).replace(/s/g,_29.second);
_2a=$.trim(_2a.replace(/t/gi,""));
}
_29.formattedTime=_2a;
return _29.formattedTime;
},updateDateTime:function(_2c,_2d){
var dt=new Date(_2c.selectedYear,_2c.selectedMonth,_2c.selectedDay);
var _2e=$.datepicker._get(_2c,"dateFormat");
var _2f=$.datepicker._getFormatConfig(_2c);
this.formattedDate=$.datepicker.formatDate(_2e,(dt===null?new Date():dt),_2f);
var _30=this.formattedDate;
var _31=((dt!==null&&_2d.timeDefined)!==true)?false:true;
if(this.defaults.timeOnly===true){
_30=this.formattedTime;
}else{
if(this.defaults.timeOnly!==true&&(this.defaults.alwaysSetTime||_31)){
if((this.$altInput)&&this.$altInput!=null){
this.$altInput.val(this.formattedTime);
}else{
_30+=" "+this.formattedTime;
}
}
}
this.formattedDateTime=_30;
if(!_2c.inline&&this.$input){
this.$input.val(_30);
this.$input.trigger("change");
}
},setDefaults:function(_32){
_33(this.defaults,_32||{});
return this;
}};
jQuery.fn.datetimepicker=function(o){
var _34=(o===undefined?{}:o);
var _35=$(this);
if(typeof (o)=="string"){
if(o=="setDate"){
return _35.datepicker(o,arguments[1]);
}
if(o=="options"&&typeof (arguments[1])=="string"){
return _35.datepicker(o,arguments[1],arguments[2]);
}
if(o=="dialog"){
return _35.datepicker(o,arguments[1],arguments[2],arguments[3],arguments[4]);
}
return _35.datepicker(o);
}
var tp=new _2();
var _36={};
for(var _37 in tp.defaults){
var _38=_35.attr("time:"+_37);
if(_38){
try{
_36[_37]=eval(_38);
}
catch(err){
_36[_37]=_38;
}
}
}
tp.defaults=$.extend(tp.defaults,_36);
var _39=function(_3a,_3b){
tp.hour=tp.defaults.hour;
tp.minute=tp.defaults.minute;
tp.second=tp.defaults.second;
tp.ampm="";
tp.$input=$(_3a);
if(_34.altField!=undefined&&_34.altField!=""){
tp.$altInput=$($.datepicker._get(_3b,"altField"));
}
tp.inst=_3b;
tp.addTimePicker(_3b);
if($.isFunction(_34.beforeShow)){
_34.beforeShow(_3a,_3b);
}
};
var _3c=function(_3d,_3e,_3f){
tp.updateDateTime(_3f,tp);
if($.isFunction(_34.onChangeMonthYear)){
_34.onChangeMonthYear(_3d,_3e,_3f);
}
};
var _40=function(_41,_42){
if(tp.timeDefined===true&&_35.val()!=""){
tp.updateDateTime(_42,tp);
}
if($.isFunction(_34.onClose)){
_34.onClose(_41,_42);
}
};
if((_34.altField)&&_34.altField!=null){
var me=$(_34.altField);
me.css({"cursor":"pointer"});
me.focus(function(){
_35.trigger("focus");
});
}
tp.defaults=$.extend({},tp.defaults,_34,{beforeShow:_39,onChangeMonthYear:_3c,onClose:_40,timepicker:tp});
return _35.datepicker(tp.defaults);
};
jQuery.fn.timepicker=function(_43){
if(typeof _43=="object"){
_43=$.extend(_43,{timeOnly:true});
}
return $(this).datetimepicker(_43,arguments[1],arguments[2],arguments[3],arguments[4]);
};
$.datepicker._base_selectDate=$.datepicker._selectDate;
$.datepicker._selectDate=function(id,_44){
var _45=$(id);
var _46=this._getInst(_45[0]);
var _47=$.datepicker._get(_46,"timepicker");
if(_47){
_46.inline=true;
_46.stay_open=true;
$.datepicker._base_selectDate(id,_44);
_46.stay_open=false;
_46.inline=false;
this._notifyChange(_46);
this._updateDatepicker(_46);
}else{
$.datepicker._base_selectDate(id,_44);
}
};
$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker;
$.datepicker._updateDatepicker=function(_48){
if(typeof (_48.stay_open)!=="boolean"||_48.stay_open===false){
this._base_updateDatepicker(_48);
this._beforeShow(_48.input,_48);
}
};
$.datepicker._beforeShow=function(_49,_4a){
var _4b=this._get(_4a,"beforeShow");
if(_4b){
_4a.stay_open=true;
_4b.apply((_4a.input?_4a.input[0]:null),[_4a.input,_4a]);
_4a.stay_open=false;
}
};
$.datepicker._base_doKeyPress=$.datepicker._doKeyPress;
$.datepicker._doKeyPress=function(_4c){
var _4d=$.datepicker._getInst(_4c.target);
var _4e=$.datepicker._get(_4d,"timepicker");
if(_4e){
if($.datepicker._get(_4d,"constrainInput")){
var _4f=$.datepicker._possibleChars($.datepicker._get(_4d,"dateFormat"));
var chr=String.fromCharCode(_4c.charCode===undefined?_4c.keyCode:_4c.charCode);
var _50=chr.toLowerCase();
return _4c.ctrlKey||(chr<" "||!_4f||_4f.indexOf(chr)>-1||_4c.keyCode==58||_4c.keyCode==32||chr==":"||chr==" "||_50=="a"||_50=="p"||_50=="m");
}
}else{
return $.datepicker._base_doKeyPress(_4c);
}
};
$.datepicker._base_gotoToday=$.datepicker._gotoToday;
$.datepicker._gotoToday=function(id){
$.datepicker._base_gotoToday(id);
var _51=$(id);
var _52=this._getInst(_51[0]);
this._setTime(_52,new Date());
};
$.datepicker._setTime=function(_53,_54){
var _55=$.datepicker._get(_53,"timepicker");
if(_55){
var _56=_54.getHours();
var _57=_54.getMinutes();
var _58=_54.getSeconds();
if((_56<_55.defaults.hourMin||_56>_55.defaults.hourMax)||(_57<_55.defaults.minuteMin||_57>_55.defaults.minuteMax)||(_58<_55.defaults.secondMin||_58>_55.defaults.secondMax)){
_56=_55.defaults.hourMin;
_57=_55.defaults.minuteMin;
_58=_55.defaults.secondMin;
}
if(_55.hour_slider&&_55.minute_slider&&_55.second_slider){
_55.hour_slider.slider("value",_56);
_55.minute_slider.slider("value",_57);
_55.second_slider.slider("value",_58);
}else{
_55.hour=_56;
_55.minute=_57;
_55.second=_58;
}
_55.onTimeChange(_53,_55);
}
};
$.datepicker._base_setDate=$.datepicker._setDate;
$.datepicker._setDate=function(_59,_5a,_5b){
var _5c=$.datepicker._get(_59,"timepicker");
var _5d=new Date(_5a.getYear(),_5a.getMonth(),_5a.getDay(),_5a.getHours(),_5a.getMinutes(),_5a.getSeconds());
$.datepicker._base_setDate(_59,_5a,_5b);
if(_5c){
this._setTime(_59,_5d);
}
};
$.datepicker._base_getDate=$.datepicker._getDate;
$.datepicker._getDate=function(_5e){
var _5f=$.datepicker._get(_5e,"timepicker");
if(_5f){
var _60=(!_5e.currentYear||(_5e.input&&_5e.input.val()=="")?null:this._daylightSavingAdjust(new Date(_5e.currentYear,_5e.currentMonth,_5e.currentDay,_5f.hour,_5f.minute,_5f.second)));
return _60;
}
return $.datepicker._base_getDate(_5e);
};
function _33(_61,_62){
$.extend(_61,_62);
for(var _63 in _62){
if(_62[_63]==null||_62[_63]==undefined){
_61[_63]=_62[_63];
}
}
return _61;
};
$.timepicker=new _2(true);
})(jQuery);

