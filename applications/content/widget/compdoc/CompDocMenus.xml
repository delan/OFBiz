<?xml version="1.0" encoding="UTF-8"?>
<!--
 *  Copyright (c) 2003-2005 The Open For Business Project - www.ofbiz.org
 *
 *  Permission is hereby granted, free of charge, to any person obtaining a
 *  copy of this software and associated documentation files (the "Software"),
 *  to deal in the Software without restriction, including without limitation
 *  the rights to use, copy, modify, merge, publish, distribute, sublicense,
 *  and/or sell copies of the Software, and to permit persons to whom the
 *  Software is furnished to do so, subject to the following conditions:
 *
 *  The above copyright notice and this permission notice shall be included
 *  in all copies or substantial portions of the Software.
 *
 *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 *  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 *  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 *  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 *  OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR
 *  THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-->

<menus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xsi:noNamespaceSchemaLocation="http://www.ofbiz.org/dtds/widget-menu.xsd">
    <menu name="empty" default-title-style="tabButton"
        default-selected-style="tabButtonSelected"
        default-menu-item-name="content"
        orientation="horizontal"
        menu-width="100%"
        default-tooltip-style="tabletext" default-widget-style="tabButton"
        default-permission-operation="HAS_AUTHOR_ROLE|CONTENT_ADMIN"
        default-permission-entity-action="_ADMIN"
        default-associated-content-id="${userLogin.userLoginId}"
        selected-menuitem-context-field-name="currentMenuItemName"
        title="" type="simple">
    </menu>
        
    <menu name="find" default-title-style="tabButton"
        default-selected-style="tabButtonSelected"
        default-menu-item-name="content"
        orientation="horizontal"
        menu-width="100%"
        default-tooltip-style="tabletext" default-widget-style="tabButton"
        default-permission-operation="HAS_AUTHOR_ROLE|CONTENT_ADMIN"
        default-permission-entity-action="_ADMIN"
        default-associated-content-id="${userLogin.userLoginId}"
        selected-menuitem-context-field-name="currentMenuItemName"
        title="" type="simple">
        <menu-item name="find" title="Find" >
            <link target="FindCompDocTemplate"/>
        </menu-item>

    </menu>
        
    <menu name="tree" default-title-style="tabButton"
        default-selected-style="tabButtonSelected"
        default-menu-item-name="content"
        orientation="horizontal"
        menu-width="100%"
        default-tooltip-style="tabletext" default-widget-style="tabButton"
        selected-menuitem-context-field-name="currentMenuItemName"
        title="" type="simple">
        <menu-item name="viewtree" title="View Tree" >
            <link target="ViewCompDocTree?contentRevisionSeqId=${currentContentRevisionSeqId}&amp;rootTemplateContentId=${parameters.rootTemplateContentId}&amp;rootInstanceContentId=${parameters.rootInstanceContentId}"/>
        </menu-item>
        <menu-item name="editcd" title="Edit" >
            <link target="EditCompDoc?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}"/>
        </menu-item>
        <menu-item name="role" title="Roles" >
            <link target="EditCompDocContentRole?contentId=${contentId}"/>
        </menu-item>
        <menu-item name="approval" title="Approvals" >
            <link target="ListContentApproval?contentId=${contentId}&amp;rootRevisionSeqId=${rootRevisionSeqId}"/>
        </menu-item>
        <menu-item name="rev-cdt" title="Template Revisions" >
            <link target="ListTemplateRevisions?contentId=${contentId}&amp;templateRevisionSeqId=${templateRevisionSeqId}"/>
        </menu-item>
        <menu-item name="approval-cdi" title="Instance Approval" >
            <link target="ListInstanceApprovals?contentId=${contentId}&amp;templateRevisionSeqId=${templateRevisionSeqId}"/>
        </menu-item>
        <menu-item name="rev-cdi" title="Instance Revisions" >
            <link target="ListInstanceRevisions?contentId=${contentId}&amp;templateRevisionSeqId=${templateRevisionSeqId}"/>
        </menu-item>
        <menu-item name="edit-data" title="Edit Data" >
            <link target="EditInstanceData?contentId=${contentId}&amp;templateRevisionSeqId=${templateRevisionSeqId}"/>
        </menu-item>

    </menu>
        
    <menu name="treeline" default-title-style="tabButton"
        default-selected-style="tabButtonSelected"
        default-menu-item-name="content"
        orientation="horizontal"
        menu-width="100%"
        default-tooltip-style="tabletext" default-widget-style="tabButton"
        selected-menuitem-context-field-name="currentMenuItemName"
        title="" type="simple">
        <menu-item name="edit-inplace" title="${contentName}[${contentId}]" >
            <link target="EditRootCompDoc?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}"/>
        </menu-item>
        <menu-item name="edit-link" title="Edit" >
            <link target="EditRootCompDoc?contentId=${contentId}&amp;caContentIdTo=${contentIdTo}&amp;caContentAssocTypeId=${contentAssocTypeId}&amp;caSequenceNum=${seqNumBefore}&amp;caFromDate=${fromDate}"/>
        </menu-item>
        <menu-item name="child" title="+Child" >
            <link target="EditCompDoc?caContentIdTo=${contentId}&amp;caSequenceNum=9999"/>
        </menu-item>
        <menu-item name="bef" title="+Bef" >
            <link target="EditCompDoc?caContentIdTo=${contentIdTo}&amp;caContentAssocTypeId=${contentAssocTypeId}&amp;caSequenceNum=${seqNumBefore}&amp;caFromDate=${fromDate}"/>
        </menu-item>
        <menu-item name="aft" title="+Aft" >
            <link target="EditCompDoc?caContentIdTo=${contentIdTo}&amp;caContentAssocTypeId=${contentAssocTypeId}&amp;caSequenceNum=${seqNumAfter}&amp;caFromDate=${fromDate}"/>
        </menu-item>
    </menu>
    
    <menu name="rootTreeline" default-title-style="tabButton"
        default-selected-style="tabButtonSelected"
        default-menu-item-name="content"
        orientation="horizontal"
        menu-width="100%"
        default-tooltip-style="tabletext" default-widget-style="tabButton"
        selected-menuitem-context-field-name="currentMenuItemName"
        title="" type="simple">
        <menu-item name="edit-inplace" title="${contentName}[${contentId}]" >
            <link target="EditRootCompDoc?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}"/>
        </menu-item>
        <menu-item name="edit-link" title="Edit" >
            <link target="EditRootCompDoc?contentId=${contentId}&amp;caContentIdTo=${contentIdTo}&amp;caContentAssocTypeId=${contentAssocTypeId}&amp;caSequenceNum=${seqNumBefore}&amp;caFromDate=${fromDate}"/>
        </menu-item>
        <menu-item name="child" title="+Child" >
            <link target="EditCompDoc?caContentIdTo=${contentId}&amp;caSequenceNum=9999"/>
        </menu-item>
        <menu-item name="addinst" title="Add Instance" use-when="&quot;COMPDOC_TEMPLATE&quot;.equals(contentTypeId)">
            <link target="EditRootCompDoc?rootTemplateContentId=${contentId}&amp;instanceOfContentId=${contentId}&amp;currentContentTypeId=COMPDOC_INSTANCE"/>
        </menu-item>
    </menu>
                <container>
                    <link text="${contentName}[${contentId}]"  target="EditRootCompDoc?contentId=${contentId}" style="responseheader" />
                    <link text="Edit" target="EditRootCompDoc?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}" style="tabButton" />
                    <!-- 
                    <link text="Approval" target="ListApprovalTemplateAndHistory?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}" style="tabButton" />
                    <link text="Revision" target="ListContentRevision?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}" style="tabButton" />
                    -->
                    <link text="+Child" target="AddCompDocTemplate?caContentIdTo=${contentId}&amp;caSequenceNum=9999" style="tabButton" target-window="_top" />
                </container>    
        
    <menu name="main" default-title-style="tabButton"
        default-selected-style="tabButtonSelected"
        default-menu-item-name="content"
        orientation="horizontal"
        menu-width="100%"
        default-tooltip-style="tabletext" default-widget-style="tabButton"
        default-permission-operation="HAS_AUTHOR_ROLE|CONTENT_ADMIN"
        default-permission-entity-action="_ADMIN"
        default-associated-content-id="${userLogin.userLoginId}"
        selected-menuitem-context-field-name="currentMenuItemName"
        title="" type="simple">


        <menu-item name="FindContent" title="Find" >
            <link target="FindContent"/>
        </menu-item>

        <menu-item name="EditContent" title="Content" >
          <condition>
            <not>
                <if-empty field-name="contentId" />
            </not>
          </condition>
            <link target="EditContent?contentId=${contentId}"/>
        </menu-item>

        <menu-item name="AddContent" title="Content" >
          <condition>
                <if-empty field-name="contentId" />
          </condition>
            <link target="AddContent"/>
        </menu-item>

        <menu-item name="contentassoc" title="Association" >
          <condition disabled-style="buttontextdisabled">
            <not>
                <if-empty field-name="contentId" />
            </not>
          </condition>
            <link target="EditContentAssoc?contentId=${contentId}"/>
        </menu-item>

        <menu-item name="role" title="Role" >
          <condition disabled-style="buttontextdisabled">
            <not>
                <if-empty field-name="contentId" />
            </not>
          </condition>
          <link target="EditContentRole?contentId=${contentId}"/>
        </menu-item>

        <menu-item name="purpose" title="Purpose" >
          <condition disabled-style="buttontextdisabled">
            <not>
                <if-empty field-name="contentId" />
            </not>
          </condition>
            <link target="EditContentPurpose?contentId=${contentId}"/>
        </menu-item>

        <menu-item name="attribute" title="Attribute" >
          <condition disabled-style="buttontextdisabled">
            <not>
                <if-empty field-name="contentId" />
            </not>
          </condition>
            <link target="EditContentAttribute?contentId=${contentId}"/>
        </menu-item>

        <menu-item name="metadata" title="Metadata" >
          <condition disabled-style="buttontextdisabled">
            <not>
                <if-empty field-name="contentId" />
            </not>
          </condition>
            <link target="EditContentMetaData?contentId=${contentId}"/>
        </menu-item>


    </menu>


</menus>
