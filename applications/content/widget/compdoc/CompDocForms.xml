<?xml version="1.0" encoding="UTF-8"?>
<!--
 *  Copyright (c) 2003 The Open For Business Project - www.ofbiz.org
 *
 *  Permission is hereby granted, free of charge, to any person obtaining a
 *  copy of this software and associated documentation files (the "Software"),
 *  to deal in the Software without restriction, including without limitation
 *  the rights to use, copy, modify, merge, publish, distribute, sublicense,
 *  and/or sell copies of the Software, and to permit persons to whom the
 *  Software is furnished to do so, subject to the following conditions:
 *
 *  The above copyright notice and this permission notice shall be included
 *  in all copies or substantial portions of the Software.
 *
 *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 *  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 *  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 *  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 *  OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR
 *  THE USE OR OTHER DEALINGS IN THE SOFTWARE.
-->

<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xsi:noNamespaceSchemaLocation="http://www.ofbiz.org/dtds/widget-form.xsd">
    <!-- CompDoc forms -->
    <form name="FindCompDocTemplate" default-title-style="tableheadtext"
        default-tooltip-style="tabletext" default-widget-style="inputBox"
        default-entity-name="ContentAssocViewFrom"
        target="ListCompDocTemplate" title=" " type="single" > 
        <field name="contentName" title="Name" ><text-find/></field>
        <field name="contentId" title="Content Id" ><text-find/></field>
        <field name="caFromDate" title="From Date" ><date-find/></field>
        <field name="caThruDate" title="Thru Date" ><date-find/></field>
        <field name="caContentIdTo" title="Publish-to content" ><text-find/></field>
        <field name="submitButton" title="Find" widget-style="smallSubmit"><submit button-type="button"/></field>
        <field name="addCompDocTemplate" title="">
            <hyperlink also-hidden="false" description="Create" target="EditCompDocTemplate"/> 
        </field>
    </form>
    
    <form name="ListCompDocTemplate" default-title-style="tableheadtext" default-tooltip-style="tabletext" 
        default-widget-style="tabletext" title="" type="list" list-name="compDocFindList"
        target=""  paginate-target="ListCompDocTemplate">
        <field name="contentId" title="Content Id" ><display/></field>
        <field name="contentName" title="Name" ><display/></field>
        <field name="caContentIdTo" title="Content Id To" ><display/></field>
        <field name="caContentAssocTypeId" title="Content Assoc Type ID" ><display/></field>
        <field name="caFromDate" title="From Date" ><display/></field>
        <field name="caThruDate"><hidden/></field>
        <field name="editTemplate" title="">
           <hyperlink also-hidden="false" description="Edit" target="EditCompDocTemplate?contentId=${contentId}&amp;caContentIdTo=${caContentIdTo}&amp;caContentAssocTypeId=${caContentAssocTypeId}&amp;caFromDate=${caFromDate}"/> 
        </field>
        <field name="templateTree" title="">
            <hyperlink also-hidden="false" description="Tree" target="CompDocTemplateTree?contentId=${contentId}&amp;contentName=${contentName}"/> 
        </field>
    </form>
    
    <!-- ContentRevision forms -->
    <form name="EditContentRevision" default-map-name="contentRevision" target="updateContentRevision" title="" type="single"
        default-title-style="tableheadtext" default-tooltip-style="tabletext" default-widget-style="inputBox">
        <auto-fields-entity entity-name="ContentRevision" />
        <alt-target target="createContentRevision" use-when="contentRevision==null"/>
        
        <field name="contentId" title="" widget-style="buttontext" ><lookup target-form-name="LookupContent"/><text/></field>
        <field name="contentRevisionSeqId" title="" widget-style="inputBox"></field>
<!--         <field name="contentRevisionSeqId">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="" key-field-name="contentRevisionSeqId"/>
            </drop-down>
        </field>
-->
        <field name="committedByPartyId" title="" widget-style="inputBox"></field>
        <field name="comments" title="" widget-style="inputBox"></field>
        <field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit/></field>
    </form>

    <form name="ListContentRevision" default-title-style="tableheadtext" default-tooltip-style="tabletext" default-widget-style="tabletext" title="" type="list">
        <actions>
            <entity-and entity-name="ContentRevision" use-cache="true">
                <field-map env-name="contentId" field-name="contentId" />
            </entity-and>
        </actions>
        <field name="contentId"><display/></field>
        <field name="contentRevisionSeqId"><display/></field>
        <field name="committedByPartyId"><display/></field>
        <field name="comments"><display/></field>
        <field name="editLink" title=" " widget-style="buttontext">
            <hyperlink also-hidden="false" description="[Edit]" target="EditContentRevision?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}"/>
        </field>
        <field name="itemLink" title=" " widget-style="buttontext">
            <hyperlink also-hidden="false" description="[Item]" target="ListContentRevisionItem?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}"/>
        </field>
        <field name="create" title=" " widget-style="buttontext">
            <hyperlink also-hidden="false" description="[Create]" target="EditContentRevision"/>
        </field>
    </form>
    
    <!-- ContentRevisionItem forms -->
    <form name="EditContentRevisionItem" default-map-name="contentRevisionItem" target="updateContentRevisionItem" title="" type="single"
        default-title-style="tableheadtext" default-tooltip-style="tabletext" default-widget-style="inputBox">
        <auto-fields-entity entity-name="ContentRevisionItem" />
        <alt-target target="createContentRevisionItem" use-when="contentRevisionItem==null"/>
        
        <field name="contentId" title="" widget-style="buttontext" ><lookup target-form-name="LookupContent"/><text/></field>
        <field name="contentRevisionSeqId" title="" widget-style="inputBox"></field>
<!--         <field name="contentRevisionSeqId">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="" key-field-name="contentRevisionSeqId"/>
            </drop-down>
        </field>
-->
        <field name="itemContentId" title="" widget-style="inputBox"></field>
        <field name="oldDataResourceId" title="" widget-style="inputBox"></field>
        <field name="newDataResourceId" title="" widget-style="inputBox"></field>
        <field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit/></field>
    </form>

    <form name="ListContentRevisionItem" default-title-style="tableheadtext" default-tooltip-style="tabletext" default-widget-style="tabletext" title="" type="list">
        <actions>
            <entity-and entity-name="ContentRevisionItem" use-cache="true">
                <field-map env-name="contentId" field-name="contentId" />
                <field-map env-name="contentRevisionSeqId" field-name="contentRevisionSeqId" />
            </entity-and>
        </actions>
        <field name="contentId"><display/></field>
        <field name="contentRevisionSeqId"><display/></field>
        <field name="itemContentId"><display/></field>
        <field name="oldDataResourceId"><display/></field>
        <field name="newDataResourceId"><display/></field>
        <field name="editLink" title=" " widget-style="buttontext">
            <hyperlink also-hidden="false" description="[Edit]" target="EditContentRevisionItem?contentId=${contentId}&amp;contentRevisionSeqId=${contentRevisionSeqId}&amp;itemContentId=${itemContentId}"/>
        </field>
        <field name="create" title=" " widget-style="buttontext">
            <hyperlink also-hidden="false" description="[Create]" target="EditContentRevisionItem"/>
        </field>
    </form>

    <!-- ContentApproval forms -->
    <form name="EditContentApproval" default-map-name="contentApproval" target="updateContentApproval" title="" type="single"
        default-title-style="tableheadtext" default-tooltip-style="tabletext" default-widget-style="inputBox">
            <alt-target target="createContentApproval" use-when="contentApproval==null"/>
        <auto-fields-entity entity-name="ContentApproval"/>
        <field name="contentApprovalId" title="" widget-style="buttontext" ><text/></field>
        <field name="contentId" title="" widget-style="inputBox"><lookup target-form-name="LookupContent"/><text/></field>
        <field name="contentRevisionSeqId" title="" widget-style="inputBox"></field>
        <field name="partyId" title="" widget-style="inputBox">
            <lookup target-form-name="LookupPartyName"/>
        </field>
        <field name="roleTypeId">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="RoleType" key-field-name="roleTypeId">
                    <entity-constraint name="parentTypeId" value="CALENDAR_ROLE"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="approvalStatusId">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem" key-field-name="statusId">
                    <entity-constraint name="statusTypeId" value="CALENDAR_STATUS"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="approvalDate" title="" widget-style="inputBox"></field>
        <field name="sequenceNum" title="" widget-style="inputBox"></field>
        <field name="comments" title="" widget-style="inputBox"></field>

        <field name="submitButton" title="${uiLabelMap.CommonSave}" widget-style="smallSubmit"><submit/></field>
    </form>

    <form name="ListContentApproval" default-title-style="tableheadtext" default-tooltip-style="tabletext" default-widget-style="tabletext" title="" type="list">
        <actions>
            <entity-condition entity-name="ContentApproval">
                <condition-list>
                    <condition-expr field-name="contentId" operator="equals" env-name="contentId"/>
                </condition-list>
            </entity-condition>
        </actions>
        <field name="contentApprovalId"><display/></field>
        <field name="contentId"><display/></field>
        <field name="contentRevisionSeqId"><display/></field>
        <field name="partyId"><display/></field>
        <field name="roleTypeId"><display/></field>
        <field name="approvalStatusId"><display/></field>
        <field name="approvalDate"><display/></field>
        <field name="sequenceNum"><display/></field>
        <field name="comments"><display/></field>
        <field name="Edit" title=" " widget-style="buttontext">
            <hyperlink also-hidden="false" description="[Edit]" target="EditContentApproval?contentApprovalId=${contentApprovalId}"/>
        </field>
    </form>

   <form name="EditCompDocTemplate" default-map-name="content" title="" type="single" target="updateCompDocTemplate" 
        default-title-style="tableheadtext" default-tooltip-style="tabletext" default-widget-style="inputBox">
       <alt-target target="createCompDocTemplate" use-when="contentAssoc==null"/> 
       <field name="contentName"  field-name="contentName" map-name="content"><display/></field>
       <field name="contentId"  field-name="contentId" map-name="content"><text/></field> +        <field name="contentTypeId"  field-name="contentTypeId" map-name="content"><hidden value="COMPDOC_TEMPLATE"/></field> +        <field name="ownerContentId"  field-name="ownerContentId" map-name="content"><text/></field>
       <field name="instanceOfContentId"  field-name="instanceOfContentId" map-name="content"><text/></field>
       <field name="dataResourceId"  field-name="dataResourceId" map-name="content"><text/></field> +        <field name="templateDataResourceId"  field-name="templateDataResourceId" map-name="content"><text/></field>
       <field name="dataSourceId"  field-name="dataSourceId" map-name="content"><text/></field>
       <field name="statusId"  field-name="statusId" map-name="content"><text/></field>
       <field name="privilegeEnumId"  field-name="privilegeEnumId" map-name="content"><text/></field>
       <field name="serviceName"  field-name="serviceName" map-name="content"><text/></field>
       <field name="description"  field-name="description" map-name="content"><text/></field>
       <field name="localeString"  field-name="localeString" map-name="content"><text/></field>
       <field name="mimeTypeId"  field-name="mimeTypeId" map-name="content"><text/></field>
       <field name="characterSetId"  field-name="characterSetId" map-name="content"><text/></field>
       <field name="childLeafCount"  field-name="childLeafCount" map-name="content"><text/></field>
       <field name="childBranchCount"  field-name="childBranchCount" map-name="content"><text/></field>
       <field name="createdDate"  field-name="createdDate" map-name="content"><text/></field>
       <field name="createdByUserLogin"  field-name="createdByUserLogin" map-name="content"><text/></field>
       <field name="lastModifiedDate"  field-name="lastModifiedDate" map-name="content"><text/></field>
       <field name="lastModifiedByUserLogin"  field-name="lastModifiedByUserLogin" map-name="content"><text/></field>

       <field name="contentIdTo"  field-name="contentIdTo" map-name="contentAssoc"><text/></field>
       <field name="contentAssocTypeId"  field-name="contentAssocTypeId" map-name="contentAssoc"><hidden value="COMPDOC_PART"/></field>
       <field use-when="contentAssoc!=null" name="fromDate"  field-name="fromDate" map-name="contentAssoc"><display/></field>
       <field use-when="contentAssoc==null" name="fromDate" field-name="fromDate"><hidden value="${nowTimestamp}"/></field>
       <field name="thruDate"  field-name="thruDate" map-name="contentAssoc"><text/></field>
       <field name="contentAssocPredicateId"  field-name="contentAssocPredicateId" map-name="contentAssoc"><text/></field>
       <field name="sequenceNum"  field-name="sequenceNum" map-name="contentAssoc"><text/></field>
       <field name="mapKey"  field-name="mapKey" map-name="contentAssoc"><text/></field>
       <field name="upperCoordinate"  field-name="upperCoordinate" map-name="contentAssoc"><text/></field>
       <field name="leftCoordinate"  field-name="leftCoordinate" map-name="contentAssoc"><text/></field>
       <field name="submitButton" title="Update" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>

    <form name="EditCompDocInstance" title="" type="single" target="persistCompDocTemplate"
        default-title-style="tableheadtext" default-tooltip-style="tabletext" default-widget-style="inputBox">
        <auto-fields-entity entity-name="Content"/>
        <auto-fields-entity entity-name="ContentAssoc"/>
        <field name="contentName"><text/></field>

        <field name="contentId"><hidden/></field>
        <field name="contentTypeId"><hidden value="COMPDOC_INSTANCE"/></field>
        <field name="ownerContentId"><hidden/></field>
        <field name="instanceOfContentId"><hidden/></field>
        <field name="dataResourceId"><hidden/></field>
        <field name="templateDataResourceId"><hidden/></field>
        <field name="dataSourceId"><hidden/></field>
        <field name="statusId"><hidden/></field>
        <field name="privilegeEnumId"><hidden/></field>
        <field name="serviceName"><hidden/></field>
        <field name="description"><hidden/></field>
        <field name="localeString"><hidden/></field>
        <field name="mimeTypeId"><hidden/></field>
        <field name="characterSetId"><hidden/></field>
        <field name="childLeafCount"><hidden/></field>
        <field name="childBranchCount"><hidden/></field>
        <field name="createdDate"><hidden/></field>
        <field name="createdByUserLogin"><hidden/></field>
        <field name="lastModifiedDate"><hidden/></field>
        <field name="lastModifiedByUserLogin"><hidden/></field>

        <field name="contentIdTo"><hidden/></field>
        <field name="contentAssocTypeId"><hidden value="TREE_CHILD"/></field>
        <field name="fromDate"><hidden value="${nowTimestamp}"/></field>
        <field name="thruDate"><hidden/></field>
        <field name="contentAssocPredicateId"><hidden/></field>
        <field name="sequenceNum"><hidden/></field>
        <field name="mapKey"><hidden/></field>
        <field name="upperCoordinate"><hidden/></field>
        <field name="leftCoordinate"><hidden/></field>

        <field name="submitButton" title="Create" widget-style="smallSubmit"><submit button-type="button"/></field>
        <field name="Approval" title="">
            <hyperlink also-hidden="false" description="Approval" target="ListContentApproval?contentId=${contentId}"/> 
        </field>
        <field name="Revision" title="">
            <hyperlink also-hidden="false" description="Revision" target="ListContentRevision?contentId=${contentId}"/> 
        </field>
    </form>
</forms>
