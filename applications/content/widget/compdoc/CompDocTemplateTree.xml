<?xml version="1.0" encoding="UTF-8"?>
<trees xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xsi:noNamespaceSchemaLocation="http://www.ofbiz.org/dtds/widget-tree.xsd">
    <tree name="CompDocTemplateTree" root-node-name="node-root" 
        default-render-style="simple" default-wrap-style="responseTreeWrapper">
        <node name="node-root">
            <entity-one entity-name="Content"  use-cache="false">
                <field-map field-name="contentId" env-name="rootEntityId"/>
            </entity-one>
            <include-screen name="cDTreeLine"
                location="component://content/widget/compdoc/CompDocScreens.xml" />
            <sub-node node-name="node-body">
                <entity-condition entity-name="AssocRevisionItemView" use-cache="false" >
                   <condition-list combine="and">
                        <condition-expr field-name="contentIdTo" operator="equals" env-name="rootEntityId" />
                        <condition-expr field-name="rootRevisionContentId" operator="equals" env-name="rootEntityId" />
                        <condition-expr field-name="contentRevisionSeqId" operator="less-equals" value="templateRevisionSeqId" />
                        <condition-expr field-name="contentAssocTypeId" operator="equals" value="COMPDOC_PART" />
                        <condition-expr field-name="thruDate" operator="equals" value=""/>
                   </condition-list> 
                   <select-field field-name="rootRevisionContentId"/>
                   <select-field field-name="itemContentId"/>
                   <select-field field-name="maxRevisionSeqId"/>
                </entity-condition>
            </sub-node>
        </node>
        <node name="node-body" join-field-name="contentId">
            <entity-one entity-name="Content"  use-cache="false">
                <field-map field-name="contentId" env-name="itemContentId"/>
            </entity-one>
            <include-screen name="responseTreeLine" 
                location="component://content/widget/compdoc/CompDocScreens.xml" />
            <sub-node node-name="node-body">
                <entity-condition entity-name="AssocRevisionItemView" use-cache="false" >
                   <condition-list combine="and">
                        <condition-expr field-name="contentIdTo" operator="equals" env-name="contentId" />
                        <condition-expr field-name="rootRevisionContentId" operator="equals" env-name="rootEntityId" />
                        <condition-expr field-name="contentAssocTypeId" operator="equals" value="COMPDOC_PART" />
                        <condition-expr field-name="contentRevisionSeqId" operator="less-equals" env-name="templateRevisionSeqId" />
                        <condition-expr field-name="thruDate" operator="equals" value=""/>
                   </condition-list> 
                   
                   <select-field field-name="rootRevisionContentId"/>
                   <select-field field-name="itemContentId"/>
                   <select-field field-name="maxRevisionSeqId"/>
                </entity-condition>
                <!-- 
                <service service-name="getMaxContentRevisionItems" result-map-name="result" result-map-list-name="contentRevisionItemList">
                    <field-map field-name="contentIdTo" env-name="contentId"/>
                    <field-map field-name="rootContentId" env-name="rootEntityId"/>
                </service>
                -->
            </sub-node>
        </node>
        <node name="node-test">
            <label text="i am here"/>
        </node>
    </tree>
</trees>
