<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
        xsi:noNamespaceSchemaLocation="http://www.ofbiz.org/dtds/widget-screen.xsd">
  <screen name="ViewCDResponse">
        <section>
        <actions>
          <set  field="rootEntityId" from-field="parameters.contentId" />
          <set  field="contentId" from-field="parameters.contentId" />
          <set  field="responseContentId" from-field="parameters.contentId" />
          <set  field="ownerContentId" from-field="parameters.ownerContentId" />
            <entity-one entity-name="Content" value-name="content" use-cache="true">
              <field-map field-name="contentId" env-name="contentId"/>
            </entity-one>
          <set field="enableEdit" value="false"/>
          <set field="rsp.contentId" value="${content.contentId}" />
        </actions>
          <widgets>
                <label text="&lt;p/&gt;" />
                <container style="cdhr">
                <label text="Response tree: " style="cdtitle"/>
                </container>
                <include-tree  name="ResponseTree" location="component://playset/widget/playset/CDTrees.xml"/>
                <label text="Content Id: ${rsp.contentId}"/>
          </widgets>
        </section>
  </screen>
  <screen name="responseTreeLine">
    <section>
        <widgets>
          <section>
             <condition>
                <if-compare-field field-name="responseContentId" operator="not-equals" to-field-name="rsp.contentId" />
             </condition>
             <widgets>
              <container>
                      <label text="${rsp.contentName}[${rsp.contentId}]" style="responseheader" />
                        <link  text="View" target="ViewCDResponse?contentId=${rsp.contentId}&amp;ownerContentId=${rsp.ownerContentId}&amp;articleContentId=${articleContentId}" style="tabButton"/>
                      <container style="responsetext">
                        <label text="${rsp.description}" style="responsetext" />
                      </container>
              </container>    
             </widgets>
          </section>
          <section>
             <condition>
                <if-compare-field field-name="responseContentId" operator="equals" to-field-name="rsp.contentId" />
             </condition>
             <widgets>
              <container style="responseSelected">
                      <label text="${rsp.contentName}[${rsp.contentId}]" style="responseheader" />
                        <link  text="View" target="ViewCDResponse?contentId=${rsp.contentId}&amp;ownerContentId=${rsp.ownerContentId}&amp;articleContentId=${articleContentId}" style="tabButton"/>
                      <container style="responsetext">
                        <label text="${rsp.description}" style="responsetext" />
                      </container>
              </container>    
             </widgets>
          </section>
        </widgets>
    </section>
  </screen>
  <screen name="cDTreeLine">
    <section>
        <widgets>
          <container>
                      <label text="${rsp.contentName}[${rsp.contentId}]" style="responseheader" />
                        <link  text="Create Approval" target="CreateApproval?contentId=${rsp.contentId}" style="tabButton"/>
                      <container style="responsetext">
                        <label text="${rsp.description}" style="responsetext" />
                      </container>
          </container>    
        </widgets>
    </section>
  </screen>
  <screen name="AddContent">
      <section>
          <condition>
              <if-has-permission permission="CONTENTMGR" action="CREATE"/>
          </condition>
          <actions>
              <set field="headerItem" value="Content"/>
<!--               <script location="component://content/widget/getMenuContext.bsh"/> -->
              <set field="title" value="CD Content Edit Page"/>
              <set field="titleProperty" value="PageTitleEditContent"/>
          </actions>
          <widgets>
              <decorator-screen name="mainContentDecorator" location="component://playset/widget/playset/CommonScreens.xml">
                  <decorator-section name="body">
                      <include-form name="AddContent" location="component://component://playset/widget/playset/CDForms.xml"/>
                  </decorator-section>
              </decorator-screen>
          </widgets>
      </section>
  </screen>
</screens>


