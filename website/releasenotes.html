<h2 align="center">The Open For Business Project - Release Notes</h2>

<br>Written By: David E. Jones, Andy Zeneski
<br>Email: <a href="mailto:jonesde@ofbiz.org">jonesde@ofbiz.org</a>, <a href="mailto:jaz@zsolv.com">jaz@zsolv.com</a>
<br>Open For Business Site: <a href="http://www.ofbiz.org/">http://www.ofbiz.org</a>
<br>
<A href="http://sf.net/projects/ofbiz"> <IMG src="http://sourceforge.net/sflogo.php?group_id=27173" width="88" height="31" border="0" alt="SourceForge Logo"></A> 
<br>
Founders and Lead Architects: David E. Jones &amp; Andy Zeneski<br>
<hr>
<h3>Table of Contents</h3>
<ul>
  <li><a href="#2.0Beta3">Release 2.0 Beta 3 - November 2, 2002</a>
  <li><a href="#2.0Beta2">Release 2.0 Beta 2 - July 2, 2002</a>
  <li><a href="#2.0Beta1">Release 2.0 Beta 1 - March 19, 2002</a>
  <li><a href="#2.0Alpha2">Release 2.0 Alpha 2 - February 11, 2002</a>
  <li><a href="#2.0Alpha1">Release 2.0 Alpha 1 - January 16, 2002</a>
  <li><a href="#1.0Beta1">Release 1.0 Beta 1 - October 29, 2001</a>
  <li><a href="#2001.09.29">Release 2001.09.29</a>
  <li><a href="#2001.07.20">Release 2001.07.20</a>
  <li><a href="#2001.06.30">Release 2001.06.30</a>
  <li><a href="#2001.06.22">Release 2001.06.22</a>
  <li><a href="#2001.06.01">Release 2001.06.01</a>
  <li><a href="#2001.05.28">Release 2001.05.28</a>
  <li><a href="#2001.05.24">Release 2001.05.24</a>
</ul>

<hr>
<h3><a name="2.0Beta3">Release 2.0 Beta 3 - November 2, 2002</a></h3>
<hr>
<h4>Overview</h4>
<p>It's amazing that another four months have passed since we did the last OFBiz release.
August through October are always the big crunch times for e-commerce sites hoping to go
live before Christmas, and this has resulted in some significant improvements in the
feature set and stability of OFBiz. In addition to all of the e-commerce features that
got pushed forward, or along with them really, we have started getting into marketing and
many extensions have been added to the WorkEffort and Party Managers.</p>

<p>Some of the future directions mentioned before are starting to take place, but there is
a lot left to do there. Note that we are not planning on getting all of these done for the 
2.0 final release, in fact we aren't planning anything really huge for 2.0 final. Actually,
we are planning on going to a new versioning scheme where the initial "stable" 2.0 release
will be 2.0.0, and then we will do minor and major version increments as seems appropriate
given the work done since the previous release.</p>

<p>There are a few more third party packages included in this release: 
the JasperReports and DataVision reporting tools with ViewHandler implementations for the web controller and
the WEKA data analysis package which is really best used as a stand alone Java GUI application hitting a database or exported data files directly.
There will be more third party packages and more use of these packages as the project continues.</p>

<p>We have tested a number of additional app servers for production, and because of the difficulties we
have had with Tyrex as a transaction manager we recommend using something else. The best commercial
options we found were Orion (www.orionserver.com) and JRun4 (www.macromedia.com). In addition to
these commercial products the newer versions of Tomcat (in the 4.1.X series) are running extremely
well and are close to Orion and Resin in speed. For Tomcat you can run with Tyrex if it is sufficient
for you, but you may want to consider using parts of JBoss for transaction management, JMS, etc. Adjustments
have been made to OFBiz to be able to handle various quirks and funny things in these and other app servers.</p>

<h4>New Features & Improvements</h4>
<p>New features and improvements include:</p>
<ul>
    <li>e-Commerce related
    <ul>
    	<li>expanded use of product features and order adjustments
    	<li>improved payment processing options and capabilities; it's also easier to add new payment processors
    	<li>numerous keyword search improvements (weighted keywords and improved indexing, order by total weight, stop words, suffix removal, etc)
    	<li>
    </ul>
    <li>NEW Marketing features
    <ul>
    	<li>marketing manager for data sources, marketing campaigns, tracking codes, and contact lists (mail, phone, email, etc)
    	<li>optional events automatically handle passed tracking codes and attach them to visits and orders and maintain information needed for affiliates, internal tracking,etc.
    	<li>note that much of this functionality is not yet complete
    </ul>
	<li>Web Controller related
	<ul>
		<li>implemented visit tracking and attached all server hits, orders, keyword search results, etc to visits
		<li>events can be run at the start of each visit in addition to before or after each request hit
	</ul>
	<li>Service Engine related
	<ul>
		<li>Service ECA (Event-Condition-Action) rules that can trigger other services at various points of a call to a service and under specific conditions
		<li>More distributed service options: improved JMS and HTTP direct without SOAP
		<li>Service Groups that are services which simply call a group of other services in flexible ways
		<li>Interface services that are used to simply define a set of parameter attributes and are not implemented directly
		<li>Services can extend other services, inheriting all parameter attributes from the services extended
		<li>Improved scheduling options
	</ul>
	<li>Entity Engine related
	<ul>
		<li>distributed cache clearing using the distributed call mechanisms of the Service Engine (JMS, HTTP, SOAP, etc)
		<li>fixed transaction issues with sequence id generator, now runs in own transaction to avoid deadlocks on this commonly used entity
		<li>expanded view-entities
		<ul>
			<li>optional member entities (uses left joins)
			<li>grouping by aliased fields
			<li>functions on aliased fields (such as count, sum, min, max, avg, etc)
		</ul>
		<li>addition query options including lists of expressions and other conditions combinable in many ways, introduced generic EntityCondition
		<li>EntityListIterator based find method are now available on the delegator and can be used to handle large result sets
	</ul>
	<li>Workflow Engine related
	<ul>
		<li>a great deal of refactoring and bug fixing has been done, including the integration of many contributions
	</ul>
	<li>MiniLang simple-method related
	<ul>
		<li>many new tags/operations have been added and expanded
		<li>method call operations have been added for calling static or class methods, passing general parameters and handling return values; these run much faster than BeanShell and address most situations where BeanShel would otherwise be necessary; also makes it easy to write code in Java and invoke it from and MiniLang simple-method
		<li>log and return operations have added to make these common tasks easier
	</ul>
	<li>General Core features
	<ul>
		<li>some i18n/l10n features have been added to UtilProperties and other areas to help get the ball rolling for internationalization which is getting an increasing amount of attention
		<li>the Service Engine and MiniLang components now make the Locale available for use with localized messages
		<li>a best practice static method now exists for getting the Locale either from an attribute in the user's session, or if not there then the request, if not there then the default
	</ul>
</ul>

<hr>
<h3><a name="2.0Beta2">Release 2.0 Beta 2 - July 2, 2002</a></h3>
<hr>
<h4>Overview</h4>
<p>Since Beta 1 of 2.0 was released in March a lot has been added to OFBiz. We
were planning on doing cleanups and stabilization work and moving towards a
2.0 Final release, but some contracts came up. This is both good and bad. The
bad part is that 2.0 Final is getting delayed, the good part is that a whole lot
has been cleaned up and completed, and even more has been added.</p>

<h4>New Features</h4>

<p>Most of the new features are centered around making a feature rich eCommerce package
that competes nicely with commercial alternatives. The
Catalog, Order and Party Management applications have matured right along with
eCommerce and are now sufficient for managing data behind the eCommerce
site.</p>

<p>New eCommerce related features include:</p>
<ul>
    <li>Variant Product Support (unlimited features and feature types)
    <li>Psuedo-rules Based Product Pricing
    <li>Effective Dated, Multiple Currency Product Prices
    <li>Psuedo-rules Based Promotions (free shipping, gift with purchase, discounts, etc)
    <li>Inventory Support
    <ul>
        <li>Checking (can require for purchase or show time estimate)
        <li>Reservation (FIFO/LIFO based on arrival or expiration)
    </ul>
    <li>Payment Processing Support
    <ul>
        <li>Cybersource
        <li>Verisign Payflow Pro
    </ul>
    <li>Taxware Integration
    <li>Enhanced Security Options (encrypted passwords, automatic disable/reenable accounts, etc)
    <li>Improved Product Keyword Search
    <li>Improved Multi-Catalog Functionality
    <li>Improved Order Information (includes adjustments, contact mechanisms, inventory reservations, price calculation trace, payment info, etc)
</ul>

<p>In addition to all of these the data model has been cleaned up and added to a
great deal and many pieces of the project have been refactored or completed.</p>

<h4>Near Future Direction</h4>

<p>So, what's next? There are a few areas we are planning on focusing on (the key
word being "planning"):</p>

<ul>
    <li>Content Management (based on JPublish and WSP from eInnovation)
    <li>Portal Framework (basicly an extension to the Control Servlet and Regions components)
    <li>Data migration and warehousing tool (ETL style)
    <li>Reporting Tool (probably DataVision or JasperReports) and various Reports
    <li>A WEKA based Data Analysis package
    <li>Point of Sale (POS) integration (probably with Mercator)
    <li>More back-office functionality including:
    <ul>
        <li>Order accessories like invoices and shipments
        <li>GL based accounting
        <li>Warehouse Management and inventory improvements
    </ul>
</ul>

<p>Some of this functionality will not be a lot of work and may be included
before 2.0 Final is released, but this list is really more of a near term set of
goals from our long term list that will realistically take a few months to get in 
place initially and refinements and improvements may continue for years.</p>

<p>Onward and upward!</p>

<hr>
<h3><a name="2.0Beta1">Release 2.0 Beta 1 - March 19, 2002</a></h3>
<hr>
<h4>Overview</h4>
<p>This first beta release of version 2.0 represents the completion of all of the main components of the
OFBiz framework. Other framework components will be added as the project progresses,
but the most important architectural enablers are now in place.</p>

<p>A number of people have contributed to this release that are regular users of
Open For Business, including (in no particular order) Chris Nelson, Chris Worley, 
Mike Cannon-Brookes, Victor Salaman, Dustin Caldwell, and Ian Pojman. In addition
to these people we have received recommendations and feedback from dozens of users
and enthusiasts of OFBiz. Thanks everyone!</p>

<p>This release includes a number of bug fixes and cleanups that have been uncovered
by use of the software in the project, and now that it is in beta we would like
even more help making sure things work as expected, and as desired.</p>

<h4>Configuration</h4>
<p>There are a few changes in the way things work in this release. Both the Entity
Engine and the Service Engine are now configured through XML files instead of 
properties files, which makes the configuration easier, and enabled some additional
options. One of the main additional options for both is the ability to load the
entity and service definition files through various loaders, including file, URL
and classpath loaders. This allows applications to be completely contained in
JARs, WARs, and/or other archives.</p>

<h4>Webapp Framework</h4>
<p>The Webapp Framework now includes an implementation of the Composite View pattern
with a Regions package very similar to the one in the book "Advanced Java Server Pages"
by David M. Geary. Along with the addition of support for Velocity views that makes
a total of three view types available: JSP, Velocity and Regions.</p>

<p>The set of available events types now includes 4 options: java, soap, service 
and simple. The simple-method MiniLang can now be used for both events and services.</p>

<h4>MiniLang: simple-method</h4>
<p>The simple-method MiniLang has been greatly expanded and improved. MiniLangs
are Ant-like scripting languages used in OFBiz to perform high level tasks and tie
together and simplify components.</p>

<p>Simple methods can now be called as either Events or Services. Tags for 
conditional execution, Entity Engine operations, executing BeanShell scripts, 
executing inlined simple-map-processors (or external ones), performing various
environment operations, and even calling other simple-methods in the same context
have been added.</p>

<h4>Workflow and Service Engines</h4>
<p>A number of improvements have been made to the Workflow and Service Engines. A
number of fixes and flexibility features have been added to the Workflow Engine. Both
engines have improved support for scalability and running multiple identically
configured servers against the same database. This includes support for having all
servers in a "cluster" sharing the load of asynchronous execution of services and
workflow processes.</p>

<h4>Rule Engine</h4>
<p>The Rule Engine is still not mature, but many features are complete and can
be used for a number of purposes. Numerous examples of using the engine are 
included and a document is now in place describing the Rule Engine, the concepts
behind it, it's current state and future plans, and an explanation of how to use
the API.</p>

<h4>Applications</h4>
<p>A number of improvements have been made to the applications. The most notable
changes include the user of the Regions (Composite View) package, and the more
consistent use of CSS for the look and feel of the applications.</p>
<p>A few features and improvement have been added to eCommerce, the Catalog Mgr, 
the WorkEffort Mgr and the Order Mgr.</p>
<p>The focus for version 2.0 has been the completion of the basic components
of the framework. The future focus will be more on the implementation and expansion 
of applications. This will especially be the case after the 2.0 final version is released.</p>


<hr>
<h3><a name="2.0Alpha2">Release 2.0 Alpha 2 - February 11, 2002</a></h3>
<hr>
<h4>Overview</h4>
<p>This release includes many cleanups and adds the capability of running on
various J2EE app servers including Tomcat4, Jetty4, JBoss, Resin, Orion, and 
Weblogic. Some profiling has been done on this release and changes were made
that result in a performance increase of many time. On Orion, the fastest
container that we've tested, we got a volume of 400 dynamic catalog browse pages per
second on a PIII 1Ghz with 20 continuous threads hitting the machine. Caucho Resin was
the second fastest (the two being far faster than the rest tested) and came in
close behind.</p>

<p>A number of cleanups and refactorings have also been done. The profile code
in the eCommerce package is now uses the new Party module services through the
SimpleEvent and SimpleMapProcessor Mini-Languages. Other components are moving
in this direction.</p>

<p>In addition to the cleanups, performance increase, and deployment options a 
number of new features are included in this release in the Catalog Manager and
eCommerce applications and various parts of the core framework. The Control
Servlet also now gathers statistics about resource hits and response times.
Logging is now done through Log4J and is more granular than before with more
useful and less verbose (unless verbose is turned on) logging has been adopted
in many parts of OFBiz.</p>

<h4>Tasks Completed</h4>
<p>A number of tasks have been planned and completed for this release, in addition
to the many smaller refinements and changes that have been done. These tasks include:</p>
<ul>
<li><b>Core Subproject</b>
  <ul>
  <li>41462 - Have GenericEntity Implement Comparable & Cloneable
  </ul>
</ul>

<hr>
<h3><a name="2.0Alpha1">Release 2.0 Alpha 1 - January 16, 2002</a></h3>
<hr>
<h4>Overview</h4>
<p>The 2.0 Alpha 1 release represents a MAJOR step forward for Open For Business,
as have many releases before this. This release is an Alpha release because
there are so many new pieces that have not been extensively tested, and in some
cases are missing some functionality. Other pieces are beta quality or stable,
like the Entity Engine and the eCommerce application.</p>

<h4>Web Controller Improvements</h4> 
<p>The Web Controller includes the controller servlet, the request processing classes as
  well as the event handling classes. The request mappings XML DTD has been revised,
  supporting improved response handling, the event handling has been re-designed 
  to allow for different types of event handlers. New event handlers have been implemented
  to support features such as the SOAP interface listener for the Service Engine (see below) and the 
  new SimpleService Mini-Language (see below). <i>(stable)</i></p>
 
<h4>Service Engine Introduction</h4> 
<p>The Service Engine is the tool that allows us to
  organize our applications around internal services that can seamlessly be exposed
  as web services, or can be implemented using remote web services. It provides a
  simple interface so that the caller does not have to know what language the service
  is implemented in or where that service is located. Service definitions are done in XML. 
  <i>(stable)</i></p>

<h4>Entity Engine Improvements</h4> 
<p>The Entity Engine now support JTA transactions. The default implementation
is done with Tyrex from Exolab, but can easily be adapted to run with J2EE
application servers like JBoss, Weblogic, etc. The Entity Engine now also provides
an easy way to do joins with View Entities and has more flexible find methods,
especially the findByAnd that accepts a List of EntityExpr objects to constrain
the query. <i>(stable)</i></p>

<h4>Workflow Engine Introduction</h4> 
<p>The Workflow Engine makes it easy to layout and
execute business processes as part of a J2EE application. It is based in the XPDL and other
specifications from WfMC and the Workflow Management Facility Specification from OMG. It takes
advantage of and is well integrated with the OFBiz Service and Entity Engines. Workflows can be
invoked synchronously or asynchronously and locally or remotely through the Service Engine, and
any activity in a process can be implemented as a service. <i>(alpha)</i></p>

<h4>Mini-Languages Introduction</h4> 
<p>The Mini-Languages are XML files that describe simple
  processes making common operations fast and easy to write and maintain. At the moment
  the existing languages make it easy to create events to validate and convert form input
  and pass it on to a service. Future extensions will allow complete applications to be
  written using JSP, XML Mini-Languages, and Entity and Service definitions. This will be
  anywhere from 5-10 times as efficient as coding these common components in Java. <i>(beta)</i></p>

<h4>Rule Engine Introduction</h4> 
<p>The Rule Engine makes it easy to express and execute business
rules and constraints. It is based on modern standards like RuleML and the mature language Prolog.
It is written in Java and runs with an application in the same JVM, and can be invoked locally or 
remotely through the Service or Entity Engines. It can also call back into Services as sensors or
effectors and integrates seamlessly with the Entity Engine to expand your knowledgebase in a ruleset
to all of the data in your relational database. The Rule Engine is only partially in place
and certain features are still in planning. <i>(alpha)</i></p>

<h4>Tasks Completed</h4>
<p>A number of tasks have been planned and completed for this release, in addition
to the many smaller refinements and changes that have been done. These tasks include:</p>
<ul>
<li><b>Core Subproject</b>
  <ul>
  <li>41462 - Have GenericEntity Implement Comparable & Cloneable
  <li>40657 - Get properties and xml files to relead when removed from cache
  <li>41692 - Improve GenericEntity serialization/deserialization
  <li>41463 - Add change notification listeners to GenericEntity
  <li>41679 - Find By And with operator list
  <li>41678 - Find By Like
  <li>41891 - Calendar Recurrence Rules
  <li>41892 - Job Scheduler Overhaul
  <li>39716 - View Entities (Really Cool)
  <li>42176 - Data File read Utilities
  <li>40656 - Entity - XML String & Stream in and out routines
  <li>42495 - Add string/stream in/out routines to DataFile
  <li>42493 - Add code to write a DataFile object out to a file
  <li>42199 - Document View Entities
  <li>42200 - Document findByAnd using EntityExpr & other new finds
  <li>40013 - Services Engine (Framework)
  <li>43044 - Update Entity Engine BMP Entity Bean
  <li>43465 - BeanShell Script Service Engine
  <li>43464 - SOAP Interface to the Services Framework
  <li>43524 - Event Processing Overhaul - Implement EventHandler as interface
  <li>43638 - SOAP Client Service Engine
  <li>44084 - removeAll method on delegator, etc
  <li>44085 - JTA Transaction support with XADataSources
  <li>44276 - Use JTA in delegator storeAll and removeAll
  <li>44379 - Add security methods for service dispatcher
  <li>44377 - Remove preStoreOther and change all code using it
  <li>44466 - Add environment access to FlexibleProperties
  <li>44889 - Change StringProcessor to SimpleMapProcessor
  <li>44862 - MiniLang: SimpleEvent
  <li>45593 - Add use-transaction to SimpleEvent
  <li>45860 - Add security check to change delegator/dispatcher events.
  <li>45859 - Change delegator event for webapps
  <li>45855 - New Request Processing Response Types
  <li>45853 - Add basic job scheduling to the dispatcher
  <li>45807 - inputvalue tag: param optional, fullattrs attribute
  </ul>
<li><b>CommonApp Subproject</b>
  <ul>
  <li>42494 - Create a page to view Data File records
  <li>41350 - Entity definitions for Workflow Persisted Entities
  <li>43241 - Create page to import/read/update XPDL files
  <li>40658 - Add string in/out to the XML import/export pages
  <li>43243 - Rule engine interaction page - backward chaining
  <li>43639 - Order Processing Services
  <li>40545 - Finish GenericView Page
  <li>45771 - Fix add order role service
  </ul>
<li><b>Workflow Subproject</b>
  <ul>
  <li>41351 - Create Interfaces from OMG IDL
  <li>41523 - Create simple interface implementations
  <li>41711 - Create workmgr webapp skeleton
  <li>41896 - Create Workflow Service Engine
  <li>41762 - Work Effort Manager - Scheduled event editor page
  <li>42173 - Upcoming events view, separated by day
  <li>41754 - Context & Results Map serialization to XML
  <li>41354 - XPDL Parser to Create Process Def Entities
  <li>41760 - Work Effort Manager - "Task" viewing & editing
  <li>43641 - Create Client API
  <li>44368 - Read all assignments params from XPDL
  <li>44381 - Refactor workeffort events to make services
  <li>44380 - Call workflow services in Activty page events
  <li>44800 - Update WorkEffort Events for StringProcessor & SimpleEvent
  <li>45770 - Update Context on Manual Activities
  <li>45405 - Add Role and Group Activities to Task List
  </ul>
<li><b>Rule Subproject</b>
  <ul>
  <li>42496 - Import Building Parsers with Java code
  <li>45911 - Create webtools page to run rulesets
  </ul>
<li><b>Documentation Subproject</b>
  <ul>
  <li>45914 - Create Service Engine Guide
  <li>45912 - Update control servlet docs for new features
  <li>45360 - Update website for release: blurb and rel notes
  <li>45402 - MiniLang Guide with sections for SimpleMapProcessor, SimpleEvent
  <li>45358 - Update setup docs for 2.0 alpha 1
  </ul>
</ul>

<hr>
<h3><a name="1.0Beta1">Release 1.0 Beta 1 - October 29, 2001</a></h3>
<hr>
<h4>Major Cleanups and Feature Enhancements</h4>
<p>This release includes a number of clean ups and refactorings in addition to
many new features in the eCommerce application, the Catalog Manager application, 
and the many tools included to make development, maintenance, and administration
faster and easier.</p>
<h4>Version 1.0 Beta 1</h4>
<p>We are calling this release 1.0 Beta 1 and it is being released in preparation
for the final version 1.0 release of Open For Business. Version 1.0 will include
the eCommerce application, the Catalog Manager, and the many tools and components 
in the framework such as the Entity Engine, the Control Servlet, and the Data Model.
It will also contain a "sneak peak" at the upcoming Generic Services Framework, the
Workflow Engine and the Rules Engine which will be the primary elements of the 
version 2.0 release.</p>
<h4>Complete Download - Quick Setup Package</h4>
<p>The complete download is now configured to use the Hypersonic SQL Java database
so that a complete installation is included in the release. This means that installation
for a demonstration or playing with it is as easy as 1) download it, 2) put it 
/ofbiz/work and 3) run it! This includes a sample database which is prebuilt
so you can run the various applications immediately.</p>
<p>Of course, all of the configuration
options are available still, including using various other databases. Starting from
nothing with a new database is easy because the Entity Engine can create all of its
own tables and check them, and initial data is included in XML and SQL files.</p>
<h4>Tasks Completed</h4>
<p>A number of tasks have been planned and completed for this release, in addition
to the many smaller refinements and changes that have been done. These tasks include:</p>
<ul>
<li><b>eCommerce Subproject</b>
  <ul>
  <li>39628 - Associated Products
  <li>39630 - Support Multiple "Catalogs"
  <li>39635 - ecommerce.properties from URL
  <li>39655 - Shipping Calculation
  <li>39681 - Order History based Quick Reorder
  <li>40613 - Quick add products from special category
  <li>40896 - Make ecommerce.properties visual settings more flexible
  <li>41070 - Only show associated products within date range
  </ul>
<li><b>Catalog Subproject</b>
  <ul>
  <li>39631 - Support keyword groups
  <li>39632 - Category & Product: Browse & Search
  <li>39633 - Associated Products Editor
  <li>39634 - Visually organize prod & cat pages
  <li>40588 - Support multiple top level categories
  </ul>
<li><b>CommonApp Subproject</b>
  <ul>
  <li>40342 - Reserved word checker in entityref_main.jsp
  <li>40343 - Fix reserved word warnings
  <li>40475 - Change .sql data init files to XML files
  <li>40495 - Add ISO Country and Currency Codes
  <li>40496 - Another Round of Reserved Word Resolutions
  <li>40529 - Entity from Database tool JSP
  <li>40553 - When writing entity model, also write entity group file
  <li>40816 - Tighten security in commonapp entity pages
  <li>40975 - Make entity ref fast by making warning checking optional
  </ul>
<li><b>Core Subproject</b>
  <ul>
  <li>39440 - Updates to the RequestHandler
  <li>39441 - Update ConfigXMLReader and all scheduler/request XML files
  <li>39593 - New JSP Tag - Tag for GenericValue attributes
  <li>39636 - Change FlexibleProperties to use Factory pattern
  <li>39710 - Multiple Entity Definition XML Files
  <li>39713 - findAllByPrimaryKeys
  <li>39962 - Add column type warnings to DAO database checker
  <li>40012 - XML import/export functions in value objects
  <li>40341 - Add storeAll method to delegator
  </ul>
</ul>

<hr>
<h3><a name="2001.09.29">Release 2001.09.29</a></h3>
<hr>
<h4>First Major Release</h4>
<p>This release is the first major release of the Open For Business Project. The
last two months have been very busy for those involved with development. The
current software is now being used in commercial projects and will soon have a
number of deployed sites. Because of the many changed in this release, I am
going to keep these release notes on a higher level and not put too much detail
in about specific features.</p>
<p>The first real user facing application (eCommerce) is essentially stable and
now available for use. The catalog management tool is in place with very basic
features and more to come soon. After running into some major design
inconveniences and doing some refactoring, the data handling layer is not
looking very good. There are also a number of tools available for management of
data and data definitions.</p>
<h4>New Lighter Weight Default Deployment</h4>
<p>This release of Open For Business can run entirely on Tomcat and the default
platform is Tomcat 4.0, or Catalina. With the new Entity Engine CMP Entity Beans
are no longer necessary for persistence, so JBoss is not required for simple
deployments. For larger scaled deployments JBoss or any other EJB container can
be used by the Entity Engine as a persistence server to take the persistence
related transaction load off the JSP/Servlet servers. This can be done through
some simple configuration changes.</p>
<h4>eCommerce Application Added</h4>
<p>The first release of the eCommerce Application is included in this release of
Open For Business. It has been tested a fair amount and is running very nicely.
There are three integrated modules in the current eCommerce application:
catalog, user profile, and order. The catalog module provides all of the product
and product category browsing and finding products through a keyword search that
supports wildcards, and a separate web application is included for editing
catalog information. The user profile module has general contact information
functionality in addition to personal information, credit card information, and
user login or login account information. The order module allows customers to
place orders using a shopping cart, view their order history and status, and
even reuse old orders by adding them to the cart.</p>
<h4>Entity Engine Added</h4>
<p>The old Entity Code Generator has been deprecated in favor of the new dynamic
Entity Engine. The OFBiz Entity Engine is the first of the major Common Tool
Components of the Open For Business Architecture. The Entity Engine is dynamic
in that none of the code in the engine is entity definition specific. It is all
generic code that supports the persistence of any entity defined in its XML
files. These defined entities can be communicated over any interface and to or
from any data source the has an implementation of the GenericHelper interface.
Documentation for the Entity Engine is located in ofbiz/core/docs/entity.html.</p>
<hr>
<h3><a name="2001.07.20">Release 2001.07.20</a></h3>
<hr>
<h4>New Controller Servlet Added</h4>
<p>The architecture used in commonapp for separating presentation logic from 
other logic and handling authorization was done with a dispatcher that was 
invoked by each JSP. The new servlet controller handles not only the separation 
of presentation logic from other logic and security authorization, but also 
provides a way to control the flow of the application and externalize that
from the events and views.&nbsp;</p>

<p> The definitions to control the servlet controller
are specified in an XML file whose location is specified in the web.xml file.
This file can be used to define requests and the events and views that
correspond to them, the security settings for them, and is also used to define
view maps. The controller is designed to be flexible so that many advanced
things can be done easily with it, such as logging in or adding an item to the
shopping cart, and staying on the same page. It also provides added simplicity
for the JSPs by allowing the combination of views and events in a request such
as the UpdateUserLogin request which calls the UserLogin update event, and on
success forward the user to the ViewUserLogin view, which is then mapped to the
appropriate JSP.</p>

<p>The servlet not only acts as a controller for the web application and its
views and events, but also has a job scheduler so that events can be run
repeatedly. An XML file is used to specify optional start and stop date/times,
intervals and interval units, the event to invoke, and parameters to pass to the
event. The location of this XML file is also specified in web.xml.</p>

<p>The servlet controller is in the new 'core' module. A number of classes have 
been moved from the commonapp module into this module, namely from commonapp.common
to core.util. This is part of a move to remove from commonapp everything that
does not fit the definition of its purpose. The commonapp module is meant to 
contain the Common Application Components as described in the architecture
documents. It will contain the entities shared by all of the other applications
in the ofbiz project. This includes the entity beans, administration pages, and
other pieces that are entity based.</p>

<h4>Various Enhancements to the Entity Code Generator</h4>
<p>A number of enhancement have been made to the entitygen module, and the code
in the commonapp module has been regenerated to reflect the changes to the 
templates in the entitygen module. Following is a list of those changes, and
their corresponding task ids on the SourceForge site.</p>
<ul>
<li>34237: Merge ViewEntity.jsp.jsp &amp; EditEntity.jsp.jsp
<li>34259: Optimize entitygen DefReader.java for speed
<li>32122: Entity relation support
<li>33906: Add isModified() to EntityBean.java.jsp
<li>34129: Enhance User Interface: tabs in ViewEntity
<li>33869: Improve ViewEntity.jsp relation use
<li>34019: Add title Field to Relation
<li>33870: Support order-by in Finder definitions
</ul>
<p>A number of other small changes have been made that are not associated with
tasks. These include making EntityHelper generated classes more thread safe,
and the use of the core.util.Debug class for logging debug messages.</p>

<hr>
<h3><a name="2001.06.30">Release 2001.06.30</a></h3>
<hr>
<h4>Added Cache to Speed Up the Entity Code Generator</h4>
<p>Entitygen now uses a cache for each entity definition it reads from the XML data descriptor file.
This dramatically speeds up the generation of source code, especially for large
definition files and generation of all files and snippets for each, or for all,
entities.</p>

<h4>Updated CommonApp for the new Data Model, and Tested/Refined the Data Model</h4>
<p>The CommonApp module now uses the basic user login and security entities from
the big Data Model. Also, the data model has been organized, expanded, debugged
and partially tested. All files and snippets generate succesfully, and all Java
files compile successfully and with the generated deployment descriptors they
deploy successfully in JBoss. Even with all 401 of the entities, JBoss starts up
in less than a minute on my 500Mhz Athlon. All SQL files run successfully in
MySQL.</p>
<p>The Data Model has been cleaned up and expanded. The datamodel-data.sql file
is now cleaned up and works with the data model definition in the new
datamodel.xml file. Part of this included adding tables to make the main
entities extensible, and cleaning up the tables that are already there. Also,
the Content module has been enhanced significantly to support very flexible
content organization. Relations have been defined for the Content module, and
for the entities which implement the extensibility of the main entities.&nbsp;</p>
<p>All of this brings the total number of entities in the data model to 401. The
datamodel.xml file is now almost 9,000 lines long and is about 540Kb large. With
the speed ups and all of these entities it takes about 45 minutes to generate
all of the files on my 500Mhz Athlon. It generates 2630 Java files, 1203 JSP
files, and about 2Mb of snippets in 8 files. Running wc on these files shows a
count of 954,865 lines, 3,074,034 words, and 35,290,606 characters.</p>
<p>With this progress in place the Open For Business Data Model is now ready to
be used as a basis for the various applications that we wish to build. As each
application is built it will probably require various changes to the data model,
but the basis is in place and is essentially bug free.</p>
<h4>Bugs Fixed and Ease of Generated Entity Deployment Enhanced</h4>
<p>A number of lurking bugs have been fixed in this release in the entitygen
templates and some of the commonapp support code. While generating and test
compiling and deploying all of the Data Model entities a number of bugs and
omissions were found and corrected. Also, some small restructurings (especially
with EntityWebEvent.java) and additions to the templates make deploying the
generated entities into an application is much more simple.</p>

<hr>
<h3><a name="2001.06.22">Release 2001.06.22</a></h3>
<hr>
<p>It's been a while since the last release, but I assure you, this one will be
worth the wait! Actually the biggest reason for the delay was my two week
vacation to the United Kingdom, mostly Wales and Scotland. Enjoy this new stuff!</p>
<h4>Auto Generate JSP and Java Files for One Entity or All Entities in a XML
Data Descriptor File</h4>
<p>Instead of right clicking on each file and saving from the entitygen main
page, you can now specify a root directory and generate all Java or JSP files in
directories under the root directory which correspond to the package name for
each entity. The files are generated in a ready to use state (given no bugs in
the templates or data definitions). This is done with a JSP which uses an open
source library to retrieve the contents of a URL, and then saves those contents
to the corresponding file under the specified root directory and package
directory. The library used for this is from the open source project JoBo which
can be found at <a href="http://www.matuschek.net/software/jobo/index.html">http://www.matuschek.net/software/jobo/index.html</a>.
Thanks for making some cool stuff Daniel!</p>
<h4>Extensive Data Model Introduced</h4>
<p>This is a very exciting new part of the project. The file ofbiz/commonapp/entitydef/datamodel.xml
contains definitions for about 288 entities covering common areas of business
data. This effort stems from browsing a bookstore a finding two excellent books
by Len Silverston called The Data Model Resource Book Revised Edition - Volumes
1 &amp; 2, published by John Wiley &amp; Sons. This is a good starting point for
any enterprise system development effort. Changes will be made to this model
over time to expand and (hopefully) improve it. Industry specific models to be
used along with the main model will also be added to the project over time. Many
Thanks to Len Silverston. Anyone using these models will no doubt benefit from
having a copy of his books on hand. These models include models for: parties
(persons, companies, etc.) products &amp; catalogs, ordering, invoicing,
shipping, accounting, human resources, work effort &amp; flow, and content
management.</p>
<p>Using the new automated code generator, it is easy to build the EJBs, JSPs
and other code related to these entities. A few interesting stats: 292 entities,
877 JSPs, 1606 Java Files, 9 snippet files (one for each type of snippet, just to get
a size on them), totaling ~23 Mb, ~650,000 lines, ~2,100,000 words, ~23,800,000 characters. The XML definition
file alone is about 4500 lines long. And yes, it does take my poor little
500Mhz Athlon a while to generate all of this code (around 2.5 hours for all of it). I am
not including all of this generated code right now, and I don't plan to until
the definitions settle down more and some of this stuff is actually tested, if
ever. I may create a separate distribution for it too.</p>
<h4>Relation Support in ViewEntity.jsp</h4>
<p>All generated ViewEntity.jsp files now take advantage of the relation
definitions in the XML descriptor file. There are two types of relations: one
and many. For a one relation, a view of the related entity similar to the normal
view is created and a links as well. For a many relation, the corresponding
finder is called and all results are listed in the page. This is a neat thing to
see. You can now create an order entity, an order line item entity, and link
them up to create a fully functional order entry system, or catalog browsing, or
whatever you might want to do with relational entities. Note that the relations
for the data model mentioned above are not yet finished. I can't wait untill
they are!</p>
<h4>A Few Other Small Changes</h4>
<p>More data types are now supported in the generated JSP files for field entry
and display, including primary key fields. Also, the ValueUpdate methods in the
EntityHelper and EntityBean files are changes so that they only update a field
when it is not null. This is an easy way to specify whether or not each field
should be updated. To set a field to null, simply use the field specific setter.</p>
<hr>
<h3><a name="2001.06.01">Release 2001.06.01</a></h3>
<hr>
<h4>New Versions of JBoss and Tomcat</h4>
<p>This release includes updates for the new versions of JBoss and Tomcat. JBoss
version 2.2.2 and Tomcat version 3.2.2 are now being used.</p>
<h4>Input Validation</h4>
<p>All EditEntity.jsp files from the Entity Code Generator (including the
current entity admin pages) now support server-side input validation. The
validation routines can be found in commonapp/src/org/ofbiz/common/UtilValidate.java.
Many of these validation routines are based on the Netscape JavaScript
validation package (FormChek.js). They have all been converted to Java and
modified to work in the server-side validation context. Some additional
validation routines have also been added. The current library of validators
includes everything from not being empty to algorithmic verification of credit
card numbers to a validator for email addresses.<p>The Entity Code Generator
automatically uses the validators specified in the XML entity descriptor file.
This file for commonapp can be found in /commonapp/entitydef/commonapp.xml. Any
number of validators can be specified for each field of an entity.<p>In the JSP
when the user has an error, all of the data on the page is maintained and a full
list of all current errors is displayed in a red list at the top.<h4>Field Type
Shorthand in XML Entity Descriptor</h4>
<p>Field types can be defined in each XML entity descriptor file. Each field
type definition specifies a field-type name, and a java-type, a sql-type, and
any number of validate elements. Once a field-type is defined it can be used by
any field definition of an entity definition in the descriptor file. The
field-type is used in place of the sql-type, the java-type, and may specify some
validators. If a sql-type or java-type is used in the cmp-field definition, they
will override the field-type defaults. If validators are specified in the cmp-field
definition they are added to the validators from the field-type.</p>

<p>A first attempt at a list of common field types has been added to the
beginning of /commonapp/entitydef/commonapp.xml. Some version of these field
types will be used in every entity definition file in the project. This makes
the XML descriptor code more concise and provides for more consistency in data
type definitions.</p>

<h4>Data Layout for Entity Relation</h4>

<p>The data layout of the XML Entity Descriptor file for specifying entity
relations has been defined. the /commonapp/entitydef/commonapp.xml has a number
of examples of how this feature might be used. It supports nested relations and
relations where one or many instances of the related entity may be returned
depending on how the relation is defined.</p>

<p>Entity relation definitions will be used in two main places: the JSP
ViewEntity.jsp file to show information related to the current entity and
provide for easy access to viewing and editing related entities; and in the
Entity.java file to provide convenient methods of looking up related entities.
NOTE: These have NOT been implemented yet. The relation data model is in place
in the current release of ofbiz, but it is not used in any of the templates.</p>

<hr>
<h3><a name="2001.05.28">Release 2001.05.28</a></h3>
<hr>
<h4>No Cookie Session Management Support</h4>
<p>A call to reponse.encodeURL has been added to all <font SIZE="2" COLOR="#0000c0">&lt;a
href&gt;</font>s and all <font SIZE="2" COLOR="#0000c0">&lt;form action&gt;</font>s to support session management
with cookies turned off. All existing JSPs in the project support this, and all JSPs generated by entitygen support this.

<h4>Cache Management</h4>
<p>Three JSPs have been added along with a number of web event handlers and
extensions to the UtilCache class.&nbsp;</p>

<p>First of all, a number of bugs have been fixed in the UtilCache class making
the caches actually work now.&nbsp;</p>

<p>The expire feature has been enhanced so that whenever get() or containsKey()
are called hasExpired() is checked and on expiration the element is removed from
the cache. The get() method will then return null, not being able to find the
element, and the containsKey() method will return false, also not being able to
find the element. This becomes simply a cache hit and the routine which uses the
cache will load the value the normal way.</p>

<p>All caches have a name that they pass to the constructor and then
initialization parameters are loaded from the conf/cache.properties file. If no
name is passed, a default name is used with a number appended to it to make it
unique. A Hashtable now stores a collection of all of the caches so that they
can be maintained easily through a generic maintenance utility.</p>

<p>The JSPs that have been added are common/FindUtilCache.jsp, common/EditUtilCache.jsp,
and common/FindUtilCacheElements.jsp. All cache parameters can now be viewed in
real time including cache size, hitCount and missCount, and maxSize and
expireTime can not only be viewed by changed through the JSP interface. The
pages are permission protected using the security system. Individual cache lines
can now also be viewed, and removed, through the JSP interface.</p>

<h4>Security Speed Enhancements</h4>
<p>The Security class now has two caches (using UtilCache) to speed up the
hasPermission() and hasEntityPermission() methods. The first cache stores a
collection of security groups for each person. If a person belongs to no
security groups, an empty collection is put into the cache so that those look
ups will be fast too. The second cache corresponds to the
SecurityGroupPermission entity and caches Boolean values keyed on a
SecurityGroupPermissionPK. The Boolean value is true if the corresponding
SecurityGroupPermission entity exists in the database, or false if it does not.</p>

<h4>EntityPK Class Enhancement</h4>
<p>All EntityPK, or primary key, classes now override the toString() method to make display of primary key information more simple and consistent.</p>

<hr>
<h3><a name="2001.05.24">Release 2001.05.24</a></h3>
<hr>
<h4>Initial Release</h4>
<p>This initial release includes the first version of the Entity Code Generator (entitygen) module 
and the basic pieces of the Common Application Components (commonapp) module.</p>
<p>The entitygen module represents a first round attempt using JSPs as templates to generate Java code (including Entity EJBs), 
SQL table creation code, XML deployment descriptors, and JSP user interfaces to manage entities defined in XML descriptor files
which resemble the ejb-jar.xml deployment descriptor.
<p>The commonapp module will eventually contain all of the core entities that any enterprise would likely need to run their business.
At the moment it is only the frameword to support the code generated by entitygen. This includes a security framework, a caching framework,
output formatting utilities, the web event handler (removes non-display logic from JSPs), and a basic user interface layout.