<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="CONTENT-TYPE" content="text/html; charset=windows-1252"/>
        <title>Advanced Framework Training Outline</title>
        <style type="">
		DIV,LI {
		font-size: 11px;
		font-family: Verdana, Arial, Helvetica, sans-serif;
		}
        </style>
    </head>
    <body lang="en-US">
        <center><h2>Advanced Framework Training Outline</h2></center>
        <div>Written By: David E. Jones</div>
        <div>Email: <a href="mailto:jonesde@ofbiz.org">jonesde@ofbiz.org</a></div>
        <div>Open For Business Site: <a href="http://www.ofbiz.org/">http://www.ofbiz.org</a></div>
        <br/>
        <div>Last Updated: June 2006</div>
        <hr/>
        <br/>
        <h3>Target Audience</h3>
        <ol>
            <li>Senior Developers</li>
            <li>Senior Architects</li>
        </ol>
        <h3>Pre-Requisites</h3>
        <ol>
            <li>OFBiz Framework Introduction (Videos) - Important!</li>
            <li>Basic Java &amp; J2EE (Servlet, JDBC, JNDI, JTA) Familiarity</li>
        </ol>
        <h3>Topics Covered</h3>
        <h4>Part 1: Just Enough Java and J2EE</h4>
        <ol>
            <li>The Java Classpath</li>
            <li>Servlet API &amp; JSP
                <ol>
                    <li>Request &amp; Response</li>
                    <li>Contexts: page/screen, request, session, application</li>
                </ol>
            </li>
            <li>JDBC</li>
            <li>JNDI</li>
            <li>JTA
                <ol>
                    <li>UserTransaction &amp; TransactionManager</li>
                    <li>Transaction Isolation Levels
                        <ol>
                            <li>None</li>
                            <li>ReadCommitted (Recommended)</li>
                            <li>ReadUncommitted</li>
                            <li>RepeatableRead</li>
                            <li>Serializable (NOT Recommended, Performance and Dead-locking)</li>
                        </ol>
                    </li>
                    <li>Transaction Control: rollback and setRollbackOnly</li>
                    <li>On Pausing and Resuming Transactions</li>
                </ol>
            </li>
        </ol>
        <h4>Part 2: The OFBiz Base: Containers and Components</h4>
        <ol>
            <li>The OFBiz Base Utilities &amp; Loader</li>
            <li>Containers</li>
            <li>Components
                <ol>
                    <li>component-load.xml (base/config, applications, framework, specialized, etc)</li>
                    <li>Component Definition
                        <ol>
                            <li>&lt;component-directory&gt;/ofbiz-component.xml</li>
                            <li>Resource Loaders</li>
                            <li>Classpath Entries</li>
                            <li>Entity Resources</li>
                            <li>Service Resources</li>
                            <li>Test Resources</li>
                            <li>Webapps</li>
                        </ol>
                    </li>
                    <li>Component Structure Conventions
                        <ol>
                            <li>config</li>
                            <li>data</li>
                            <li>dtd</li>
                            <li>entitydef</li>
                            <li>lib</li>
                            <li>script</li>
                            <li>src</li>
                            <li>servicedef</li>
                            <li>templates (email, survey, etc)</li>
                            <li>testdef</li>
                            <li>webapp</li>
                            <li>widget</li>
                        </ol>
                    </li>
                    <li>The Component URI: component://&lt;component-name&gt;/relative-path</li>
                </ol>
            </li>
        </ol>
        <h4>Part 3: The Webapp Framework, Widgets &amp; MiniLang</h4>
        <ol>
            <li>Basic Framework Review</li>
            <li>The Webapp Framework
                <ol>
                    <li>Control Servlet
                        <ol>
                            <li>ofbiz/framework/webapp/dtd/site-conf.dtd</li>
                            <li>&lt;webapp&gt;/WEB-INF/controller.xml</li>
                            <li>Requests</li>
                            <li>Events
                                <ol>
                                    <li>Event Context (parameters and return values)</li>
                                    <li>Event Handlers/Types</li>
                                    <li>Service Events</li>
                                    <li>simple-method Events</li>
                                    <li>Java Events</li>
                                    <li>Designing a new Event Handler</li>
                                </ol>
                            </li>
                            <li>Responses</li>
                            <li>Views
                                <ol>
                                    <li>View Handlers/Types</li>
                                    <li>Designing a new View Handler</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>Screen Widget Based Views - Templates, Widgets, etc
                        <ol>
                            <li>Screen Widget
                                <ol>
                                    <li>Screen Definitions</li>
                                    <li>&lt;component&gt;/widgets/**/*Screens.xml</li>
                                    <li>Screen -> Section</li>
                                    <li>Section -> Actions</li>
                                    <li>Section -> Widgets</li>
                                    <li>Section -> Conditions</li>
                                    <li>Screen Contexts (protected, inherited, etc)</li>
                                    <li>parameters Map: request attributes, request parameters, session attributes, application attributes</li>
                                    <li>Screen Decoration Pattern</li>
                                </ol>
                            </li>
                            <li>Form Widget
                                <ol>
                                    <li>Form Definitions</li>
                                    <li>&lt;component&gt;/widgets/**/*Forms.xml</li>
                                    <li>Form Element</li>
                                    <li>Form Actions</li>
                                    <li>Form Auto-Fields from Entities and Services</li>
                                    <li>Form Fields</li>
                                    <li>Form Sort Order</li>
                                </ol>
                            </li>
                            <li>Menu Widget
                                <ol>
                                    <li>Menu Definitions</li>
                                    <li>&lt;component&gt;/widgets/**/*Menus.xml</li>
                                    <li>Menu Items</li>
                                </ol>
                            </li>
                            <li>Tree Widget
                                <ol>
                                    <li>Tree Definitions</li>
                                    <li>&lt;component&gt;/widgets/**/*Trees.xml</li>
                                    <li>Tree Nodes</li>
                                </ol>
                            </li>
                            <li>BeanShell
                                <ol>
                                    <li>Data Preparation Actions</li>
                                    <li>www.beanshell.org</li>
                                    <li>&lt;webapp&gt;/WEB-INF/actions/**/*.bsh</li>
                                    <li>Java Syntax, with some scripting like features</li>
                                    <li>Dynamic Types</li>
                                </ol>
                            </li>
                            <li>FreeMarker
                                <ol>
                                    <li>Content Templates</li>
                                    <li>www.freemarker.org</li>
                                    <li>&lt;webapp&gt;/**/*.ftl</li>
                                    <li>PHP-like Syntax with Java Robustness and Flexibility</li>
                                    <li>Control Constructs (#if/#else/#elseif, #list, #assign)</li>
                                    <li>Built-ins</li>
                                    <li>Existence Concept and Fail-Fast (?exists, ?has_content, ?if_exists)</li>
                                </ol>
                            </li>
                            <li>Generating PDFs (or other print formatted documents)
                                <ol>
                                    <li>Introduction to XSL:FO - Like HTML, but for Page Oriented Layout</li>
                                    <li>A Powerful Combination: Screen Widget, BeanShell, FreeMarker, and FOP</li>
                                    <li>How to Setup the view-map in controller.xml</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>JPublish Based Views - Generic Templates <ol>
                            <li>JPublish <ol>
                                    <li>Page Definitions</li>
                                    <li>www.jpublish.org</li>
                                    <li>&lt;webapp&gt;/WEB-INF/jpublish.xml</li>
                                    <li>&lt;webapp&gt;/WEB-INF/pagedefs/**/*.xml</li>
                                    <li>Page Variables</li>
                                    <li>Decoration Templates</li>
                                    <li>Content, Template, and Page Actions</li>
                                </ol>
                            </li>
                            <li>Just as in Screen Widget use BeanShell for data preparation and FreeMarker for temapltes</li>
                        </ol>
                    </li>
                    <li>Region Based Views - Servlet/JSP Templates <ol>
                            <li>Region Framework
                                <ol>
                                    <li>Defining Template Based Regions</li>
                                    <li>Defining Inheritance or Region Based Regions</li>
                                    <li>Using, or Not Using, Sections</li>
                                </ol>
                            </li>
                            <li>OFBiz Taglib
                                <ol>
                                    <li>URL Tags</li>
                                    <li>Conditional Tags</li>
                                    <li>Flow Control Tags</li>
                                    <li>Data Presentation Tags</li>
                                    <li>Internationalization Tags</li>
                                    <li>Service Engine Tags</li>
                                    <li>Other Tags</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>OFBiz Widgets
                <ol>
                    <li>Meant for use in various types of UIs, initial implementations for webapps</li>
                    <li>Menu Widget
                        <ol>
                            <li>Menu Definition XML</li>
                            <li>Rendering Menus</li>
                        </ol>
                    </li>
                    <li>Form Widget
                        <ol>
                            <li>Form Definition XML</li>
                            <li>Rendering Forms</li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>MiniLang
                <ol>
                    <li>simple-map-processor
                        <ol>
                            <li>General Concept</li>
                            <li>Make In String Operations</li>
                            <li>Process Field Operations</li>
                        </ol>
                    </li>
                    <li>simple-method
                        <ol>
                            <li>General Concept</li>
                            <li>Call Operations</li>
                            <li>Java Call Operations</li>
                            <li>Control and Error Handling Operations</li>
                            <li>Event Specific Operations</li>
                            <li>Service Specific Operations</li>
                            <li>Method Environment Operations</li>
                            <li>Entity Engine Misc. Operations</li>
                            <li>Entity Engine Find Operations</li>
                            <li>Entity Engine Value Operations</li>
                            <li>Entity Engine List Operations</li>
                            <li>Entity Engine Transaction Operations</li>
                            <li>Conditional (If) Operations</li>
                            <li>Other Operations</li>
                        </ol>
                    </li>
                    <li>Some Examples</li>
                </ol>
            </li>
        </ol>
        <h4>Part 4: The Entity and Service Engines</h4>
        <ol>
            <li>The Entity Engine
                <ol>
                    <li>ofbiz/website/docs/entity.html</li>
                    <li>ofbiz/website/docs/entityconfig.html</li>
                    <li>Architecture &amp; Design Goals
                        <ol>
                            <li>Database (or datasource) Agnostic</li>
                            <li>Dynamic API Behaves According to Entity Definitions</li>
                            <li>Minimal Redundancy from Data Definitions</li>
                            <li>Uses JDBC and JTA J2EE Components
                                <ol>
                                    <li>Can operate in the same transaction with EJB , JDO, Hibernate, etc code</li>
                                    <li>Can drop down to JDBC when necessary</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>Configuration
                        <ol>
                            <li>ofbiz/components/entity/config/entityengine.xml</li>
                            <li>Transaction (JTA) Setup</li>
                            <li>Delegators</li>
                            <li>Datasources</li>
                        </ol>
                    </li>
                    <li>Entity Groups &amp; Delegation</li>
                    <li>Entity Definitions
                        <ol>
                            <li>Entities</li>
                            <li>Fields</li>
                            <li>Primary Keys</li>
                            <li>Relationships</li>
                        </ol>
                    </li>
                    <li>View Entity Definitions <ol>
                            <li>Member Entities</li>
                            <li>Field Aliases</li>
                            <li>View Links</li>
                            <li>Relationships</li>
                            <li>Joins: Inner &amp; Outer</li>
                            <li>Grouping and Summary Data</li>
                        </ol>
                    </li>
                    <li>The GenericDelegator API
                        <ol>
                            <li>Factory Methods (GenericDelegator, GenericPK, GenericValue)</li>
                            <li>Creating, Storing &amp; Removing</li>
                            <li>Finding
                                <ol>
                                    <li>By Primary Key</li>
                                    <li>By And</li>
                                    <li>EntityConditions
                                        <ol>
                                            <li>EntityFieldMap</li>
                                            <li>EntityExpr</li>
                                            <li>EntityConditionList</li>
                                            <li>EntityWhereString</li>
                                        </ol>
                                    </li>
                                    <li>The EntityListIterator (remember to close)</li>
                                </ol>
                            </li>
                            <li>Caching
                                <ol>
                                    <li>Theory of Operation</li>
                                    <li>UtilCache &amp; The Webtools Cache Page</li>
                                    <li>Automatic &amp; Manual Cache Clearing</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>The GenericEntity API
                        <ol>
                            <li>GenericPK</li>
                            <li>GenericValue</li>
                        </ol>
                    </li>
                    <li>Overview of GenericHelper Interface</li>
                    <li>Entity ECA (Event-Condition-Action) Rules
                        <ol>
                            <li>When to Use an Entity ECA: Data Maintenance, not Business Processes</li>
                            <li>Defining Entity ECAs</li>
                            <li>Limitations</li>
                        </ol>
                    </li>
                </ol>
            </li>
            <li>The Service Engine
                <ol>
                    <li>Architecture &amp; Design Goals
                        <ol>
                            <li>Agnostic Service Calls
                                <ol>
                                    <li>Implementation Agnostic</li>
                                    <li>Location Agnostic</li>
                                </ol>
                            </li>
                            <li>Synchronicity Support</li>
                            <li>Parameter Validation</li>
                            <li>Service Engines
                                <ol>
                                    <li>The GenericEngine Interface</li>
                                    <li>Overview of Existing Engines</li>
                                    <li>Designing a New Engine</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>Service Engine Configuration
                        <ol>
                            <li>website/docs/serviceconfig.html</li>
                            <li>ofbiz/components/service/dtd/service-config.dtd</li>
                            <li>commonapp/etc/serviceengine.xml</li>
                            <li>JNDI Servers &amp; Resource Loaders</li>
                            <li>Global Service Definition Files</li>
                            <li>Service Group and ECA Rule Files</li>
                            <li>JMS Servers</li>
                        </ol>
                    </li>
                    <li>Advanced Service Definitions
                        <ol>
                            <li>Parameters and Validation</li>
                            <li>Interface Services</li>
                            <li>Service Authentication</li>
                            <li>Transaction Control
                                <ol>
                                    <li>use-transaction</li>
                                    <li>require-new-transaction</li>
                                    <li>transaction-timout</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>Remote Services
                        <ol>
                            <li>JMS Services</li>
                            <li>HTTP Services</li>
                        </ol>
                    </li>
                    <li>Implementing Services
                        <ol>
                            <li>Service Context (parameters and return values)</li>
                            <li>Java Services</li>
                            <li>Bean Shell Services</li>
                            <li>simple-method Services</li>
                        </ol>
                    </li>
                    <li>Calling Services
                        <ol>
                            <li>Synch &amp; Asynch</li>
                            <li>Scheduled Services</li>
                            <li>Calling From:
                                <ol>
                                    <li>Java</li>
                                    <li>simple-method</li>
                                    <li>Control Servlet</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>Service Groups
                        <ol>
                            <li>ofbiz/components/service/dtd/service-group.dtd</li>
                            <li>Defining Groups
                                <ol>
                                    <li>Groups</li>
                                    <li>Services Per Group</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>Service Event-Condition-Action (ECA) Rules
                        <ol>
                            <li>ofbiz/components/service/dtd/service-eca.dtd</li>
                            <li>Defining ECA Rules
                                <ol>
                                    <li>Events</li>
                                    <li>Conditions Per Event</li>
                                    <li>Actions Per Event</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>Service Engine RemoteDispatcher
                        <ol>
                            <li>JNDI &amp; RMI Basics</li>
                            <li>rmi-dispatcher Container (in ofbiz-containers.xml)</li>
                            <li>ExampleRemoteClient.java</li>
                        </ol>
                    </li>
                </ol>
            </li>
        </ol>
        <h4>Part 5: The Workflow Engine, Data Files, etc</h4>
        <ol>
            <li>The Workflow Engine
                <ol>
                    <li>Process Management Concepts
                        <ol>
                            <li>Workflow Style
                                <ol>
                                    <li>States &amp; Transitions</li>
                                    <li>WfMC &amp; OMG</li>
                                    <li>OFBiz Workflow</li>
                                    <li>Shark &amp; JaWE</li>
                                </ol>
                            </li>
                            <li>Message Flow Style
                                <ol>
                                    <li>Messages &amp; Nodes (consumers &amp; producers)</li>
                                    <li>ebXML BPSS (Business Process Specification, like interface)</li>
                                    <li>BPML &amp; BPMI</li>
                                    <li>SOAP Related Standards</li>
                                </ol>
                            </li>
                        </ol>
                    </li>
                    <li>Workflow Concepts
                        <ol>
                            <li>Processes</li>
                            <li>Activities
                                <ol>
                                    <li>Manual Start/End</li>
                                    <li>Automatic Start/End</li>
                                </ol>
                            </li>
                            <li>Transitions</li>
                            <li>Splitting and Merging</li>
                            <li>Workflow Data Context</li>
                            <li>Asynchronous Execution</li>
                        </ol>
                    </li>
                    <li>Workflow Engine Architecture
                        <ol>
                            <li>Service Engine Based
                                <ol>
                                    <li>Calling Workflows Through Service Engine</li>
                                    <li>Calling Other Services in a Workflow</li>
                                </ol>
                            </li>
                            <li>Uses Entity Engine for Workflow Definition and Run-Time Data Persistence</li>
                        </ol>
                    </li>
                    <li>Designing Workflows
                        <ol>
                            <li>What Needs to be Done?</li>
                            <li>Who Will Do What?</li>
                            <li>What Dependencies Exist Between Activities?</li>
                        </ol>
                    </li>
                    <li>Defining Workflows
                        <ol>
                            <li>Basic XPDL</li>
                            <li>Working With Parties, Groups, and Roles</li>
                            <li>OFBiz Extensions</li>
                        </ol>
                    </li>
                    <li>Importing and Managing Workflow Definitions</li>
                    <li>Running Workflows</li>
                    <li>Interacting With Running Workflows</li>
                    <li>Client API (UI development)</li>
                    <li>Monitoring &amp; Testing Workflows</li>
                </ol>
            </li>
            <li>The Data File Tool
                <ol>
                    <li>The Wonderful World of Flat Files</li>
                    <li>Generic Data Structures for Flat File Data (very similar to the Entity Engine structures)</li>
                    <li>Defining Data Files</li>
                    <li>The Data File API</li>
                </ol>
            </li>
        </ol>
        <h4>Part 6: Review, Q&amp;A</h4>
        <ol>
            <li>Review</li>
            <li>Q&amp;A</li>
        </ol>
        <br/>
    </body>
</html>
