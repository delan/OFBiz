<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
$Id$

Copyright 2001-2006 The Apache Software Foundation

Licensed under the Apache License, Version 2.0 (the "License"); you may not
use this file except in compliance with the License. You may obtain a copy of
the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations
under the License.
-->
<html xmlns="http://www.w3.org/1999/xhtml">

 <head>
  <title>The Open For Business Project: General Setup</title>
  <link rel="stylesheet" href="../images/ofbws.css" type="text/css"/>
  <meta name="keywords" content="Open Source ERP,Open Source CRM,Open Source E-Commerce,Open Source eCommerce,Open Source POS,Open Source SCM,Open Source MRP,Open Source CMMS,Open Source EAM,web services,workflow,ebusiness,e-business,ecommerce,e-commerce,automation,enterprise software,open source,entity engine,service engine,erp,crm,party,accounting,facility,supply,chain,management,catalog,order,project,task,work effort,financial,ledger,content management,customer,inventory"/>
 </head>
<body>

<div class="headerboxoutside">
    <div class="headerboxtop">
        <div class="left">
            <a href="http://www.ofbiz.org"><img src="../images/ofbiz_logo.jpg"  border="0" alt="The Open For Business Project"/></a>
        </div>
        <div class="right">
            <a href="http://www.java.net"><img src="http://today.java.net/images/javanet_button_90.gif" width="90" height="25" border="0" alt="java.net Member Button"/></a>
            &nbsp;&nbsp;
            <a href="http://sf.net/projects/ofbiz"><img src="http://sourceforge.net/sflogo.php?group_id=27173" width="88" height="31" border="0" alt="SourceForge Logo"/></a>
            &nbsp;&nbsp;
            <a href="http://www.ofbiz.org"><img src="../images/ofbiz_powered.gif" width="88" border="0"/></a>
        </div>
        <div class="endcolumns"><span>&nbsp;</span></div>
    </div>
</div>

<div class="centerarea contentarea">

<h2 align="center">The Open For Business Project: General Setup</h2>
<br/>
Written by: David E. Jones and Andy Zeneski<br/>
Email: <a href="mailto:jonesde@ofbiz.org">jonesde@ofbiz.org</a> or <a
 href="mailto:jaz@ofbiz.org">jaz@ofbiz.org</a> <br/>
Edited by Les Austin<br/>
Open For Business Site: <a href="http://www.ofbiz.org/">http://www.ofbiz.org</a>&nbsp;
<br/>
<a href="http://sf.net/projects/ofbiz"> <img
 src="http://sourceforge.net/sflogo.php?group_id=27173"
 alt="SourceForge Logo" border="0"/></a> <br/>
Founders and Lead Architects: David E. Jones &amp; Andy Zeneski <br/>
Last Updated: 23 January 2006<br/>
<h3 align="left"><a name="Table of Contents">Table of Contents</a></h3>
<ul>
  <li><a href="#Introduction">Introduction</a></li>
  <li><a href="#Quick_Easy_Setup">Quick &amp; Easy Setup</a></li>
  <li><a href="#Building">Building From SVN</a></li>
  <li><a href="#Database_Setup">Database Setup</a></li>
  <li><a href="#J2EE_Containers">J2EE Containers</a></li>
</ul>
<hr/>
<h3><a name="Introduction">Introduction</a></h3>
<hr/>
<p>This document describes an initial setup process and basic
configuration options
for the Open For Business Project. For more detail see related
documents such
as the OFBiz Framework Configuration Guide, the Entity Engine
Configuration Guide,
the Service Engine Configuration Guide, and other related documents.</p>

<p>If you run into trouble there are various resources available to help. 
The first steps would be to search on the <a href="http://ofbizwiki.go-integral.com/">OFBiz Wiki</a>, and then on the 
<a href="http://lists.ofbiz.org/">OFBiz Mailing Lists</a>. If you can't find you answer there, then subscribe 
to the <a href="http://lists.ofbiz.org/mailman/listinfo/users">OFBiz Users Mailing List</a>, and send a message with as much detail 
as possible about the problem you are having.</p>

<br/>
<hr/>
<h3><a name="Quick_Easy_Setup">Quick &amp; Easy Setup</a></h3>
<hr/>
<p>You can get up and running quickly by downloading the OFBiz Complete
distribution and following some simple instructions. For more
options and explanations, see the rest of this document.</p>
<ol>
  <li>Download and install the Java 2 v1.4 or later (but only in the 1.4 series, <b>not 1.5</b>) JDK/J2SDK (not the
JRE, you need the full SDK) from <a href="java.sun.com">Sun's Java (J2SE) site</a>, and make sure
your JAVA_HOME environment variable is set to this JDK after installation 
(NOTE that for Mac OS X no JVM setup is needed, just make sure you are up to date with the Java 1.4 series with the OS X Software Update facility)</li>
  <li>Download the OFBiz Apps archive and unzip it in the directory of
your choice. This should create one sub-directory: <b>ofbiz</b>. This
will be the OFBIZ_HOME location.</li>
  <li>Start OFBiz with embedded Tomcat by going into the <b>ofbiz</b>
directory and then running <b>"startofbiz.bat"</b> (or
"%JAVA_HOME%\bin\java -jar ofbiz.jar") for Windows, or <b>"./startofbiz.sh"</b>
(or "$JAVA_HOME/bin/java -jar ofbiz.jar") for Linux/Unix.
For OS X you can just run "java -jar ofbiz.jar" and you don't need to setup the JAVA_HOME or anything because it is already there.</li>
  <li>Open a browser and go to <b><a
 href="http://127.0.0.1:8080/ecommerce/control/main">http://127.0.0.1:8080/ecommerce</a></b>
for the ecommerce application or <b><a
 href="https://127.0.0.1:8443/webtools/control/main">https://127.0.0.1:8443/webtools</a></b>
for the WebTools application or <b><a
 href="https://127.0.0.1:8443/catalog/control/main">https://127.0.0.1:8443/catalog</a></b>
for the Catalog Manager application.</li>
  <li>The default administrative account is username: "admin", password: "ofbiz".</li>
  <li>Have fun with it! You are running on a Java database. For more discussion of databases, read the section below on that topic.</li>
  <li>For more detailed options and configuration information, read on!</li>
</ol>
<hr/>
<h3><a name="Building">Building From SVN</a></h3>
<hr/>

<p>When building from SVN you will need to have a
Java 1.4 or newer J2SDK (NOT just the JRE, need to full SDK; 
also make sure it is a 1.4 series and not a 1.5 series JDK) as mentioned above.
The build is done using Ant, and sufficient Ant libraries
are included with OFBiz. If you have Ant installed separately 
just make sure you have version 1.5 or later, and then run Ant
as normal intead of as listed in the following examples.</p>

<p>In the directory where you want OFBiz to be, do a SVN checkout of
the ofbiz module on the java.net servers. For example: </p>

<p><code>svn co http://svn.ofbiz.org/svn/ofbiz/trunk ofbiz</code></p>

<p>For information on connecting to SVN <a href="http://svn.ofbiz.org/" target="_blank">click here (svn.ofbiz.org).</a></p>

<p>Now go into the "ofbiz" directory and run <b>"ant.bat"</b> (Windows), or <b>"./ant"</b> (Linux/Unix/OSX). It will compile all
modules and leave you an executable jar (ofbiz.jar) in the "ofbiz" directory.</p>

<p>To load the seed data, run <b>"ant.bat run-install"</b> or <b>"%JAVA_HOME%\bin\java -jar ofbiz.jar install"</b> (Windows), or <b>"./ant run-install"</b> or
<b>"$JAVA_HOME/bin/java -jar ofbiz.jar install"</b> (Linux/Unix/OSX)</p>

<p>To start the server run <b>"ant.bat run"</b> or <b>"%JAVA_HOME%\bin\java -jar ofbiz.jar"</b> (Windows), or <b>"./ant run"</b> or <b>"$JAVA_HOME/bin/java -jar ofbiz.jar"</b> (Linux/Unix/OSX)</p>

<p>Another build option in the Ant build script that is useful is 
<b>"ant.bat clean"</b> (Windows) or <b>"./ant clean"</b> (Linux/Unix/OSX). That will clean out all built classes allowing you to run "ant"
again to get a clean build. If you are running into funny errors after updating from SVN in the
future, give this clean build process a try first.</p>

<hr/>
<h3><a name="Database_Setup">Database Setup</a></h3>
<hr/>

<p>Database setup is done in the entityengine.xml file. There are many
options there which are described in the Entity Engine Configuration
Guide.</p>

<p>The OFBiz package comes with Derby, an open source Java database
from IBM that complies with DB2 specs and is based on the Cloudscape product.
This database is good for demonstration purposes because it is
easy to setup and use. It is not the best for large data sets and does not
provide the same performance or scalability that a major database would, 
but compared to HypersonicSQL (that we used to use) it is significantly better
because while not as fast for small scale operations it is closer to a production
database environment and allows us to catch issues earlier on.
Smaller sites might even consider this as an option for their production deployment,
especially once the database is a bit more stabilized.</p>

<p>There are many open source databases that will scale well and deliver good performance.
The two most popular are PostgreSQL and MySQL (4.1.11 or later, or the 5 series) . Postgres is a very full featured
database with transaction support, foreign keys, stored procedures, et
cetera. Postgres also has very friendly license terms. 
MySQL is a pretty good option these days as well. Please note that if
you use this in a commercial production instance you may have to purchase a
commercial license because it is GPL licensed and so is the JDBC driver.
MySQL AB allows use of the JDBC driver in open source projects in spite the GPL
license, but this may not apply for commercial use of a modified OFBiz.
For some a commercial license is the preferred way to go anyway because of support
and warranty and other issues. For those with this preference considering Postgres there is also
a commercial Postgres derivative called EnterpriseDB.</p>

<p>Commercial databases are also supported. If you have database
licenses for other needs, or have major in-house familiarity with and support for a
certain commercial database, then there is no reason not to take advantage of that. OFBiz
has been tested with Oracle, DB2, Sybase, MS SQL Server and others and should work fine with
any database that has a JDBC driver. Please note that we have experienced that in some cases the JDBC drivers included
with certain databases are not fully specification compliant. The options are often to use the database-specific
APIs or to get a third party driver. The database-specific code is an issue because of licensing restrictions
and additional difficulty needed to keep up with them, so sometimes a third party (even a commercial one) is preferred.
For example with Oracle we have had much more success with the DataDirect JDBC driver.</p>

<p>There is no need to run any SQL scripts to create the tables or
populate them with the default data. The entity engine can create missing tables or
fields when the server starts up and does so if the appropriate property is
set in the entityengine.xml file. This is the file that configures the servers for
the entity engine.</p>

<p>For the table creation routine to work properly, the field types
must be set up. Do this by specifying the corresponding fieldtypeXXX.xml (where XXX
is the database name) file for the server in the entityengine.xml file. These
fieldtypeXXX.xml files are located in the <b>ofbiz/framework/entity/fieldtype</b>
directory.</p>

<p>Default data can be loaded through the "run-install" Ant target as mentioned in the Building from SVN section.</p>
<hr/>
<h3><a name="J2EE_Containers">J2EE Containers</a></h3>
<hr/>
<p>OFBiz comes and runs by default with Tomcat for a Servlet/JSP container and
JOTM for a transaction (JTA) manager. A patched version of Minerva (included in SVN)
is the current preference for a transaction aware connection pool, though as
other options are made available that may change.</p>

<p>OFBiz can also be configured to run in different containers, but there may
be issues with certain quirks that other containers have, especially with
servlet containers. We have always been able to find work-arounds for these,
but they also seem to keep on appearing, so that is just something to watch for.</p>

<p>Because of the difficulty of deploying in an external application server we have
created a configuration and script template tool that takes the classpath and webapp
settings from the various OFBiz files to more easily generate the files you need.
For more information, see the README file in the ofbiz/framework/appservers directory.
 If you are looking for a good commercial J2EE app
server, Orion is a good place to start, but we recommend trying out Tomcat and JOTM
and see if they meet your needs.</p>

</div>
</body>
</html>
