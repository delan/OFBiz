<?xml version="1.0" encoding="UTF-8" ?>

<site-conf>
    <description>Catalog Module Site Configuration File</description>
    
    <owner>unused</owner>
    <datasource>unused</datasource>
    <errorpage>/error/error.jsp</errorpage>

    <!-- Security Mappings -->
    <request-map>
        <uri>checkLogin</uri><secure>false</secure><auth>false</auth>
        <event-type>java</event-type><event-path>org.ofbiz.core.security.WebEventSecurity</event-path><event-invoke>checkLogin</event-invoke>
        <success>view:main</success><error>view:login</error>
    </request-map>
    <request-map>
        <uri>login</uri><secure>true</secure><auth>false</auth>
        <event-type>java</event-type><event-path>org.ofbiz.core.security.WebEventSecurity</event-path><event-invoke>login</event-invoke>
        <success>view:main</success><error>view:login</error>
    </request-map>
    <request-map>
        <uri>logout</uri><secure>true</secure><auth>true</auth>
        <event-type>java</event-type><event-path>org.ofbiz.core.security.WebEventSecurity</event-path><event-invoke>logout</event-invoke>
        <success>view:main</success><error>view:main</error>
    </request-map>
    <view-map><view>login</view><mapped-page>/login.jsp</mapped-page></view-map>
    <!-- End of Security Mappings -->

    <!-- Request Mappings -->
    <request-map>
        <uri>view</uri>
        <secure>false</secure>
        <auth>false</auth>
        <success>view:main</success>
        <error>view:error</error>
    </request-map>
    <request-map>
        <uri>chain</uri>
        <event-type>java</event-type>
        <event-path>org.ofbiz.core.event.TestEvent</event-path>
        <event-invoke>test</event-invoke>
        <success>request:/view</success>
        <error>view:error</error>
    </request-map>

    <request-map><uri>main</uri><secure>false</secure><auth>false</auth><success>view:main</success></request-map>

    <request-map><uri>EditCategory</uri><secure>true</secure><auth>true</auth><success>view:EditCategory</success></request-map>
    <request-map>
        <uri>UpdateCategory</uri><secure>true</secure><auth>true</auth>
        <success>view:EditCategory</success><error>view:EditCategory</error>
        <event-type>java</event-type><event-path>org.ofbiz.catalog.CategoryEvents</event-path><event-invoke>updateCategory</event-invoke>
    </request-map>

    <request-map><uri>EditProduct</uri><secure>true</secure><auth>true</auth><success>view:EditProduct</success></request-map>
    <request-map>
        <uri>UpdateProduct</uri><secure>true</secure><auth>true</auth>
        <success>view:EditProduct</success><error>view:EditProduct</error>
        <event-type>java</event-type><event-path>org.ofbiz.catalog.ProductEvents</event-path><event-invoke>updateProduct</event-invoke>
    </request-map>
    <request-map>
        <uri>UpdateProductCategoryMember</uri><secure>true</secure><auth>true</auth>
        <success>view:EditProduct</success><error>view:EditProduct</error>
        <event-type>java</event-type><event-path>org.ofbiz.catalog.CategoryEvents</event-path><event-invoke>updateProductCategoryMember</event-invoke>
    </request-map>

    <request-map><uri>EditProductKeyword</uri><secure>true</secure><auth>true</auth><success>view:EditProductKeyword</success></request-map>
    <request-map>
        <uri>UpdateProductKeyword</uri><secure>true</secure><auth>true</auth>
        <success>view:EditProductKeyword</success><error>view:EditProductKeyword</error>
        <event-type>java</event-type><event-path>org.ofbiz.catalog.ProductEvents</event-path><event-invoke>updateProductKeyword</event-invoke>
    </request-map>
    <request-map>
        <uri>UpdateProductKeywords</uri><secure>true</secure><auth>true</auth>
        <success>view:EditProductKeyword</success><error>view:EditProductKeyword</error>
        <event-type>java</event-type><event-path>org.ofbiz.catalog.ProductEvents</event-path><event-invoke>updateProductKeywords</event-invoke>
    </request-map>

    <request-map><uri>UploadImage</uri><secure>true</secure><auth>true</auth><success>view:UploadImage</success></request-map>
    <!-- end of request mappings -->

    <!-- View Mappings -->
    <view-map><view>error</view><mapped-page>/error/error.jsp</mapped-page></view-map>
    <view-map><view>main</view><mapped-page>/main.jsp</mapped-page></view-map>

    <view-map><view>EditCategory</view><mapped-page>/EditCategory.jsp</mapped-page></view-map>
    <view-map><view>EditProduct</view><mapped-page>/EditProduct.jsp</mapped-page></view-map>
    <view-map><view>EditProductKeyword</view><mapped-page>/EditProductKeyword.jsp</mapped-page></view-map>
    <view-map><view>UploadImage</view><mapped-page>/UploadImage.jsp</mapped-page></view-map>
    <!-- end of view mappings -->
</site-conf>
