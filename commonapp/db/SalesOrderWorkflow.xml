<?xml version="1.0" encoding="UTF-8"?>
<entity-engine-xml>
  <!-- Data for Special Order Processing Workflow -->
  <WorkflowSpecification specificationId="XPDL" currentVersion="0.03"/>    
  <WorkflowPackage packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" packageName="" description="Demo Order Processing Workflow" specificationVersion="0.03" specificationId="XPDL" sourceVendorInfo="OFBiz.org" creationDateTime="2002-12-03 00:00:00.0" author="Andy Zeneski" publicationStatusId="WPS_UNDER_REVISION" graphConformanceEnumId="WGC_FULL_BLOCKED" priorityUomId="P" costUomId="USD" responsibleListId="10003" documentationUrl="None" participantListId="10004"/>    
  <WorkflowProcess packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" objectName="Processes incoming orders" objectPriority="5" description="Order Processing Workflow" creationDateTime="2002-12-01 12:00:00.0" author="OFBiz" publicationStatusId="WPS_UNDER_REVISION" timeLimit="12.0" validFromDate="2002-12-01 12:00:00.0" validToDate="2012-12-01 12:00:00.0" responsibleListId="10005" durationUomId="h" duration="3.0" waitingTime="2.0" defaultStartActivityId="receiveOrder" sourceReferenceField="orderId" processInitiateUrl="" processTaskUrl=""/>    
  <WorkflowActivity packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="clerkApprove" objectName="Clerk Approve Order" objectPriority="5" description="A clerk accepts and approves/declines the order" timeLimit="12.0" startModeEnumId="WAM_MANUAL" finishModeEnumId="WAM_MANUAL" performerParticipantId="clerk" activityTypeEnumId="WAT_TOOL" canStart="N" joinTypeEnumId="WJT_XOR" splitTypeEnumId="WST_XOR" acceptAllAssignments="N" completeAllAssignments="N" limitService="testScv" limitAfterStart="N" restartOnDelegate="Y" delegateAfterStart="Y" inheritPriority="Y"/>
  <WorkflowActivity packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="completeOrder" objectName="Complete Order" objectPriority="1" description="Set order status as complete" timeLimit="1.0" startModeEnumId="WAM_AUTOMATIC" finishModeEnumId="WAM_AUTOMATIC" performerParticipantId="admin" activityTypeEnumId="WAT_TOOL" canStart="N" joinTypeEnumId="WJT_XOR" splitTypeEnumId="WST_XOR" acceptAllAssignments="N" completeAllAssignments="N" limitAfterStart="Y" delegateAfterStart="Y" restartOnDelegate="N" inheritPriority="N"/>
  <WorkflowActivity packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="emailCustomer" objectName="Complete Order" objectPriority="1" description="E-Mail notification now that order has shipped" timeLimit="1.0" startModeEnumId="WAM_AUTOMATIC" finishModeEnumId="WAM_AUTOMATIC" performerParticipantId="admin" activityTypeEnumId="WAT_TOOL" canStart="N" joinTypeEnumId="WJT_XOR" splitTypeEnumId="WST_XOR" acceptAllAssignments="N" completeAllAssignments="N" limitAfterStart="Y" delegateAfterStart="Y" restartOnDelegate="N" inheritPriority="N"/>
  <WorkflowActivity packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="receiveOrder" objectName="Receive Order" objectPriority="1" description="Initial activity when order is received" timeLimit="1.0" startModeEnumId="WAM_AUTOMATIC" finishModeEnumId="WAM_AUTOMATIC" performerParticipantId="admin" activityTypeEnumId="WAT_ROUTE" canStart="Y" joinTypeEnumId="WJT_XOR" splitTypeEnumId="WST_XOR" acceptAllAssignments="N" completeAllAssignments="N" limitAfterStart="Y" delegateAfterStart="Y" restartOnDelegate="N" inheritPriority="N"/>
  <WorkflowActivity packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="suspendOrder" objectName="Suspend The Order" objectPriority="5" description="Order requires investigation; suspend the workflow and hold the order" timeLimit="1.0" startModeEnumId="WAM_AUTOMATIC" finishModeEnumId="WAM_AUTOMATIC" performerParticipantId="admin" activityTypeEnumId="WAT_TOOL" canStart="N" joinTypeEnumId="WJT_XOR" splitTypeEnumId="WST_XOR" acceptAllAssignments="N" completeAllAssignments="N" limitAfterStart="Y" delegateAfterStart="Y" restartOnDelegate="N" inheritPriority="N"/>      
  <WorkflowActivityTool packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="clerkApprove" toolId="addOrderRole" toolTypeEnumId="WTT_PROCEDURE" actualParameters="orderId,name:partyId=assignedPartyId,roleTypeId" extendedAttributes="roleTypeId=ORDER_CLERK"/>
  <WorkflowActivityTool packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="completeOrder" toolId="completeOrderStatus" toolTypeEnumId="WTT_PROCEDURE" actualParameters="orderId,statusId" extendedAttributes="runAsUser=admin|serviceName=changeOrderStatus|statusId=ORDER_COMPLETED"/>
  <WorkflowActivityTool packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="emailCustomer" toolId="emailOrderStatus" toolTypeEnumId="WTT_PROCEDURE" actualParameters="orderId"/>
  <WorkflowActivityTool packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="suspendOrder" toolId="suspendOrderChangeState" toolTypeEnumId="WTT_PROCEDURE" actualParameters="workEffortId,newState" extendedAttributes="serviceName=changeActivityState|newState=open.suspended"/>
  <WorkflowActivityTool packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="suspendOrder" toolId="suspendOrderChangeStatus" toolTypeEnumId="WTT_PROCEDURE" actualParameters="orderId,statusId" extendedAttributes="runAsUser=admin|serviceName=changeOrderStatus|statusId=ORDER_PROCESSING"/>
  <WorkflowActivityTool packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" activityId="suspendOrder" toolId="suspendOrderDelegate" toolTypeEnumId="WTT_PROCEDURE" actualParameters="workEffortId,partyId,roleTypeId" extendedAttributes="roleTypeId=ORDER_CLERK|partyId=_NA_"/>
  <WorkflowFormalParam packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" applicationId="_NA_" formalParamId="orderId" indexNumber="1" modeEnumId="WPM_IN" description="The order number" dataTypeEnumId="WDT_STRING"/>
  <WorkflowFormalParam packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" applicationId="_NA_" formalParamId="orderStatusId" indexNumber="1" modeEnumId="WPM_OUT" description="The final order status" dataTypeEnumId="WDT_STRING"/>    
  <WorkflowParticipant participantId="admin" participantName="Workflow Admin" partyId="admin" description="None" participantTypeId="HUMAN"/>
  <WorkflowParticipant participantId="clerk" participantName="Order Clerk" roleTypeId="ORDER_CLERK" description="First handler of each order" participantTypeId="HUMAN"/>
  <WorkflowParticipant participantId="user" participantName="Dynamic User" partyId="expr:partyId" description="Dynamic user assignment" participantTypeId="RESOURCE"/>    
  <WorkflowParticipantList participantListId="10003" participantId="admin" participantIndex="1"/>
  <WorkflowParticipantList participantListId="10004" participantId="admin" participantIndex="1"/>
  <WorkflowParticipantList participantListId="10004" participantId="clerk" participantIndex="2"/>
  <WorkflowParticipantList participantListId="10004" participantId="user" participantIndex="3"/>
  <WorkflowParticipantList participantListId="10005" participantId="admin" participantIndex="1"/>          
  <WorkflowTransition packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" transitionId="trans1" transitionName="Goto Order Approval" conditionTypeEnumId="WTC_OTHERWISE" fromActivityId="receiveOrder" toActivityId="clerkApprove" loopTypeEnumId="WTL_NOLOOP"/>
  <WorkflowTransition packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" transitionId="trans2" transitionName="Goto Suspend Order" conditionExpr=" " conditionTypeEnumId="WTC_CONDITION" fromActivityId="clerkApprove" toActivityId="suspendOrder" loopTypeEnumId="WTL_NOLOOP"/>
  <WorkflowTransition packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" transitionId="trans3" transitionName="Goto Complete Order" conditionExpr=" " conditionTypeEnumId="WTC_CONDITION" fromActivityId="clerkApprove" toActivityId="completeOrder" loopTypeEnumId="WTL_NOLOOP"/>
  <WorkflowTransition packageId="org.ofbiz.commonapp.order.order" packageVersion="1.1" processId="ProcessOrder" processVersion="1.0" transitionId="trans4" transitionName="Goto E-Mail Order" conditionTypeEnumId="WTC_OTHERWISE" fromActivityId="completeOrder" toActivityId="emailCustomer" loopTypeEnumId="WTL_NOLOOP"/>
</entity-engine-xml>
  
