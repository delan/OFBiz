<?xml version="1.0"?>

<!--
/**
 *  Title: Entity Generator Definitions
 *  Description: None
 *  Copyright (c) 2001 The Open For Business Project - www.ofbiz.org
 *
 *  Permission is hereby granted, free of charge, to any person obtaining a 
 *  copy of this software and associated documentation files (the "Software"), 
 *  to deal in the Software without restriction, including without limitation 
 *  the rights to use, copy, modify, merge, publish, distribute, sublicense, 
 *  and/or sell copies of the Software, and to permit persons to whom the 
 *  Software is furnished to do so, subject to the following conditions:
 *
 *  The above copyright notice and this permission notice shall be included 
 *  in all copies or substantial portions of the Software.
 *
 *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS 
 *  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. 
 *  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY 
 *  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT 
 *  OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR 
 *  THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 *@author     David E. Jones
 *@created    May 16, 2001
 *@version    1.0
 */
-->

<entitygen>
  <!-- ========================================================= -->
  <!-- ======================== Defaults ======================= -->
  <!-- ========================================================= -->
    <title>Entity of an Open For Business Project Component</title>
    <description>None</description>
    <copyright>Copyright (c) 2001 The Open For Business Project - www.ofbiz.org</copyright>
    <author>David E. Jones</author>
    <version>1.0</version>
  <!-- ===================== field-type-def ==================== -->
   <!-- General Types --> 
    <field-type-def><field-type>blob</field-type><sql-type>BLOB</sql-type><java-type>java.lang.Object</java-type></field-type-def>
    <field-type-def><field-type>comment</field-type><sql-type>VARCHAR(255)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>currency-amount</field-type><sql-type>NUMERIC(18,2)</sql-type><java-type>Double</java-type><validate>isSignedDouble</validate></field-type-def>
    <field-type-def><field-type>date-time</field-type><sql-type>DATETIME</sql-type><java-type>java.util.Date</java-type></field-type-def>
    <field-type-def><field-type>description</field-type><sql-type>VARCHAR(255)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>floating-point</field-type><sql-type>NUMERIC(18,6)</sql-type><java-type>Double</java-type><validate>isSignedDouble</validate></field-type-def>
    <field-type-def><field-type>id</field-type><sql-type>VARCHAR(20)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>id-long</field-type><sql-type>VARCHAR(60)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>indicator</field-type><sql-type>CHAR(1)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>long-varchar</field-type><sql-type>VARCHAR(255)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>name</field-type><sql-type>VARCHAR(60)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>numeric</field-type><sql-type>NUMERIC(18,0)</sql-type><java-type>Long</java-type><validate>isSignedLong</validate></field-type-def>
    <field-type-def><field-type>short-varchar</field-type><sql-type>VARCHAR(60)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>value</field-type><sql-type>VARCHAR(255)</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>very-long</field-type><sql-type>TEXT</sql-type><java-type>String</java-type></field-type-def>
    <field-type-def><field-type>very-short</field-type><sql-type>VARCHAR(10)</sql-type><java-type>String</java-type></field-type-def>
   <!-- Specialized Types -->
    <field-type-def><field-type>credit-card-number</field-type><sql-type>VARCHAR(40)</sql-type><java-type>String</java-type><validate>isAnyCard</validate></field-type-def>
    <field-type-def><field-type>credit-card-date</field-type><sql-type>VARCHAR(20)</sql-type><java-type>String</java-type><validate>isDateAfterToday</validate></field-type-def>
    <field-type-def><field-type>email</field-type><sql-type>VARCHAR(255)</sql-type><java-type>String</java-type><validate>isEmail</validate></field-type-def>
    <field-type-def><field-type>id-ne</field-type><sql-type>VARCHAR(20)</sql-type><java-type>String</java-type><validate>isNotEmpty</validate></field-type-def>
    <field-type-def><field-type>id-long-ne</field-type><sql-type>VARCHAR(60)</sql-type><java-type>String</java-type><validate>isNotEmpty</validate></field-type-def>
    <field-type-def><field-type>tel-number</field-type><sql-type>VARCHAR(60)</sql-type><java-type>String</java-type><validate>isInternationalPhoneNumber</validate></field-type-def>
  
  <!-- ========================================================= -->
  <!-- ========================= Security ====================== -->
  <!-- ========================================================= -->
  
  <!-- ========================================================= -->    
  <!-- ========================================================= -->    
    <entity>
      <title>User Login Entity</title>
      <package-name>org.ofbiz.commonapp.security.login</package-name>
      <table-name>USER_LOGIN</table-name>
      <cmp-field><column-name>USER_LOGIN_ID</column-name><field-type>id-ne</field-type></cmp-field>
      <cmp-field><column-name>PARTY_ID</column-name><field-type>id</field-type></cmp-field>
      <cmp-field><column-name>CONTACT_MECHANISM_ID</column-name><field-type>id</field-type></cmp-field>
      <cmp-field><column-name>CURRENT_USER_ID</column-name><field-type>id</field-type></cmp-field>
      <cmp-field><column-name>CURRENT_PASSWORD</column-name><field-type>short-varchar</field-type></cmp-field>
      <prim-key-column>USER_LOGIN_ID</prim-key-column>
      <finder><column-name>PARTY_ID</column-name></finder>
      <finder><column-name>CONTACT_MECHANISM_ID</column-name></finder>
      <finder><column-name>CURRENT_USER_ID</column-name></finder>
      <!-- <relation>
        <relation-type>one</relation-type>
        <related-table-name>PARTY</related-table-name>
        <key-map><column-name>PARTY_ID</column-name></key-map>
      </relation> -->
      <relation>
        <relation-type>many</relation-type>
        <related-table-name>USER_LOGIN_SECURITY_GROUP</related-table-name>
        <key-map><column-name>USER_LOGIN_ID</column-name></key-map>
        <relation>
          <relation-type>one</relation-type>
          <related-table-name>SECURITY_GROUP</related-table-name>
          <key-map><column-name>GROUP_ID</column-name></key-map>
          <relation>
            <relation-type>many</relation-type>
            <related-table-name>SECURITY_GROUP_PERMISSION</related-table-name>
            <key-map><column-name>GROUP_ID</column-name></key-map>
            <relation>
              <relation-type>one</relation-type>
              <related-table-name>SECURITY_PERMISSION</related-table-name>
              <key-map><column-name>PERMISSION_ID</column-name></key-map>
            </relation>
          </relation>
        </relation>
      </relation>
      <relation>
        <relation-type>many</relation-type>
        <related-table-name>LOGIN_ACCOUNT_HISTORY</related-table-name>
        <key-map><column-name>USER_LOGIN_ID</column-name></key-map>
      </relation>
    </entity>
    <!-- ========================================================= -->    
    <entity>
      <title>Login Account History Entity</title>
      <package-name>org.ofbiz.commonapp.security.login</package-name>
      <table-name>LOGIN_ACCOUNT_HISTORY</table-name>
      <cmp-field><column-name>USER_LOGIN_ID</column-name><field-type>id-ne</field-type></cmp-field>
      <cmp-field><column-name>USER_LOGIN_SEQ_ID</column-name><field-type>id-ne</field-type></cmp-field>
      <cmp-field><column-name>FROM_DATE</column-name><field-type>date-time</field-type></cmp-field>
      <cmp-field><column-name>THRU_DATE</column-name><field-type>date-time</field-type></cmp-field>      
      <cmp-field><column-name>PARTY_ID</column-name><field-type>id</field-type></cmp-field>
      <cmp-field><column-name>USER_ID</column-name><field-type>id</field-type></cmp-field>
      <cmp-field><column-name>PASSWORD</column-name><field-type>short-varchar</field-type></cmp-field>
      <prim-key-column>USER_LOGIN_ID</prim-key-column>
      <prim-key-column>USER_LOGIN_SEQ_ID</prim-key-column>
      <finder><column-name>USER_LOGIN_ID</column-name></finder>
      <finder><column-name>USER_ID</column-name></finder>
      <finder><column-name>PARTY_ID</column-name></finder>
      <relation>
        <relation-type>one</relation-type>
        <related-table-name>USER_LOGIN</related-table-name>
        <key-map><column-name>USER_LOGIN_ID</column-name></key-map>
      </relation>
      <!-- <relation>
        <relation-type>one</relation-type>
        <related-table-name>PARTY</related-table-name>
        <key-map><column-name>PARTY_ID</column-name></key-map>
      </relation> -->
    </entity>
  <!-- ========================================================= -->    
  <!-- ========================================================= -->    
    <entity>
      <title>Security Component - Security Group Entity</title>
      <package-name>org.ofbiz.commonapp.security.securitygroup</package-name>
      <table-name>SECURITY_GROUP</table-name>
      <cmp-field><column-name>GROUP_ID</column-name><field-type>id-ne</field-type></cmp-field>
      <cmp-field><column-name>DESCRIPTION</column-name><field-type>description</field-type></cmp-field>
      <prim-key-column>GROUP_ID</prim-key-column>
      <relation>
        <relation-type>many</relation-type>
        <related-table-name>USER_LOGIN_SECURITY_GROUP</related-table-name>
        <key-map><column-name>GROUP_ID</column-name></key-map>
        <relation>
          <relation-type>one</relation-type>
          <related-table-name>USER_LOGIN</related-table-name>
          <key-map><column-name>USERNAME</column-name></key-map>
        </relation>
      </relation>
      <relation>
        <relation-type>many</relation-type>
        <related-table-name>SECURITY_GROUP_PERMISSION</related-table-name>
        <key-map><column-name>GROUP_ID</column-name></key-map>
        <relation>
          <relation-type>one</relation-type>
          <related-table-name>SECURITY_PERMISSION</related-table-name>
          <key-map><column-name>PERMISSION_ID</column-name></key-map>
        </relation>
      </relation>
    </entity>
    <!-- ========================================================= -->    
    <entity>
      <title>Security Component - Security Permission Entity</title>
      <package-name>org.ofbiz.commonapp.security.securitygroup</package-name>
      <table-name>SECURITY_PERMISSION</table-name>
      <cmp-field><column-name>PERMISSION_ID</column-name><field-type>id-long-ne</field-type></cmp-field>
      <cmp-field><column-name>DESCRIPTION</column-name><field-type>description</field-type></cmp-field>
      <prim-key-column>PERMISSION_ID</prim-key-column>
      <finder><column-name>PERMISSION_ID</column-name></finder>
      <relation>
        <relation-type>many</relation-type>
        <related-table-name>SECURITY_GROUP_PERMISSION</related-table-name>
        <key-map><column-name>PERMISSION_ID</column-name></key-map>
        <relation>
          <relation-type>one</relation-type>
          <related-table-name>SECURITY_GROUP</related-table-name>
          <key-map><column-name>GROUP_ID</column-name></key-map>
        </relation>
      </relation>
    </entity>
    <!-- ========================================================= -->    
    <entity>
      <title>Security Component - Security Group Permission Entity</title>
      <description>Defines a permission available to a security group</description>
      <package-name>org.ofbiz.commonapp.security.securitygroup</package-name>
      <table-name>SECURITY_GROUP_PERMISSION</table-name>
      <cmp-field><column-name>GROUP_ID</column-name><field-type>id-ne</field-type></cmp-field>
      <cmp-field><column-name>PERMISSION_ID</column-name><field-type>id-long-ne</field-type></cmp-field>
      <prim-key-column>GROUP_ID</prim-key-column>
      <prim-key-column>PERMISSION_ID</prim-key-column>
      <finder><column-name>GROUP_ID</column-name></finder>
      <finder><column-name>PERMISSION_ID</column-name></finder>
      <relation>
        <relation-type>one</relation-type>
        <related-table-name>SECURITY_GROUP</related-table-name>
        <key-map><column-name>GROUP_ID</column-name></key-map>
      </relation>
      <relation>
        <relation-type>one</relation-type>
        <related-table-name>SECURITY_PERMISSION</related-table-name>
        <key-map><column-name>PERMISSION_ID</column-name></key-map>
      </relation>
    </entity>
    <!-- ========================================================= -->    
    <entity>
      <title>Security Component - User Login Security Group Entity</title>
      <description>Defines a permission available to a security group</description>
      <package-name>org.ofbiz.commonapp.security.securitygroup</package-name>
      <table-name>USER_LOGIN_SECURITY_GROUP</table-name>
      <cmp-field><column-name>USER_LOGIN_ID</column-name><field-type>id-ne</field-type></cmp-field>
      <cmp-field><column-name>GROUP_ID</column-name><field-type>id-ne</field-type></cmp-field>
      <prim-key-column>USER_LOGIN_ID</prim-key-column>
      <prim-key-column>GROUP_ID</prim-key-column>
      <finder><column-name>USER_LOGIN_ID</column-name></finder>
      <finder><column-name>GROUP_ID</column-name></finder>
      <relation>
        <relation-type>one</relation-type>
        <related-table-name>USER_LOGIN</related-table-name>
        <key-map><column-name>USER_LOGIN_ID</column-name></key-map>
      </relation>
      <relation>
        <relation-type>one</relation-type>
        <related-table-name>SECURITY_GROUP</related-table-name>
        <key-map><column-name>GROUP_ID</column-name></key-map>
      </relation>
      <relation>
        <relation-type>many</relation-type>
        <related-table-name>SECURITY_GROUP_PERMISSION</related-table-name>
        <key-map><column-name>GROUP_ID</column-name></key-map>
        <relation>
          <relation-type>one</relation-type>
          <related-table-name>SECURITY_PERMISSION</related-table-name>
          <key-map><column-name>PERMISSION_ID</column-name></key-map>
        </relation>
      </relation>
    </entity>
</entitygen>
