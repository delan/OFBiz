<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE services PUBLIC "-//OFBiz//DTD Services Config//EN" "http://www.ofbiz.org/dtds/services.dtd">

<services>
    <description>Common Application Shared Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>

    <!-- Test services -->
    <service name="testScv" engine="java" export="true"
    location="ServiceTest" invoke="testOne">
      <description>Test service</description>
      <attribute name="message" type="String" mode="IN" optional="true"/>	  
      <attribute name="resp" type="String" mode="OUT"/>
    </service>
	<service name="testSoap" engine="soap" export="true"
	location="http://nagoya.apache.org:5049/axis/servlet/AxisServlet" invoke="echoString">
	  <description>Test SOAP service; calls echoString service on Axis server</description>
	  <namespace>http://soapinterop.org/</namespace>
	  <attribute name="message" type="String" mode="IN"/>
	  <attribute name="result" type="String" mode="OUT"/>
	</service>

    <!-- Security services -->
    <service name="userLogin" engine="java"
    location="org.ofbiz.commonapp.security.login.LoginServices" invoke="userLogin">
        <description>Authenticate a username/password; create a UserLogin object</description>
        <attribute name="login.username" type="String" mode="IN"/>
        <attribute name="login.password" type="String" mode="IN"/>
        <attribute name="userLogin" type="org.ofbiz.core.entity.GenericValue" mode="OUT" optional="true"/>
    </service>

    <!-- Common services -->
	<service name="sendMail" engine="java"
	location="org.ofbiz.commonapp.common.CommonServices" invoke="sendMail">
	    <description>Send E-Mail Service</description>
		<attribute name="sendTo" type="String" mode="IN"/>
		<attribute name="sendCc" type="String" mode="IN" optional="true"/>
		<attribute name="sendBcc" type="String" mode="IN" optional="true"/>
		<attribute name="sendFrom" type="String" mode="IN"/>
		<attribute name="subject" type="String" mode="IN"/>
		<attribute name="body" type="String" mode="IN"/>
		<attribute name="sendVia" type="String" mode="IN"/>
		<attribute name="sendType" type="String" mode="IN" optional="true"/>
		<attribute name="contentType" type="String" mode="IN" optional="true"/>
	</service>
		
    <!-- Workflow services -->
    <service name="assignActivity" engine="java" 
    location="org.ofbiz.core.workflow.WorkflowServices" invoke="assignActivity">
        <description>Assign a new party or role to a workflow activity</description>
        <attribute name="workEffortId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="removeOldAssignments" type="String" mode="IN" optional="true"/>
    </service>  
    <service name="activateActivity" engine="java" 
    location="org.ofbiz.core.workflow.WorkflowServices" invoke="activateActivity">
        <description>Attempt to initiate a workflow activity</description>
        <attribute name="workEffortId" type="String" mode="IN"/> 
    </service>  
    <service name="completeActivity" engine="java" 
    location="org.ofbiz.core.workflow.WorkflowServices" invoke="completeActivity">
        <description>Attempt to complete a workflow activity</description>
        <attribute name="workEffortId" type="String" mode="IN"/> 
        <attribute name="result" type="Map" mode="IN" optional="true"/>
    </service>
    <service name="changeActivityState" engine="java"
    location="org.ofbiz.core.workflow.WorkflowServices" invoke="changeActivityState">
        <description>Manually change the state of a workflow activity</description>
        <attribute name="workEffortId" type="String" mode="IN"/>     
    </service>
    <service name="acceptAssignment" engine="java"
    location="org.ofbiz.core.workflow.WorkflowServices" invoke="acceptAssignment">
        <description>Accept a workflow assignment</description>
        <attribute name="workEffortId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN"/>
    </service>
    <service name="completeAssignment" engine="java"
    location="org.ofbiz.core.workflow.WorkflowServices" invoke="completeAssignment">
        <description>Complete a workflow assignment</description>
        <attribute name="workEffortId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN"/>	  
        <attribute name="result" type="Map" mode="IN" optional="true"/>
    </service>  
    <service name="assignApprover" engine="java" 
    location="ServiceTest" invoke="testOne" validate="false"/>    

    <!-- Order processing services -->
    <service name="processOrder" engine="workflow" location="TEST" invoke="ProcessOrder">
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="orderStatusId" type="String" mode="OUT"/>
    </service>
    <service name="storeOrder" engine="java" validate="false" 
    location="org.ofbiz.commonapp.order.order.OrderServices" invoke="createOrder">
        <description>Creates order entities</description>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="distributorId" type="String" mode="IN" optional="true"/>
        <attribute name="orderItems" type="java.util.List" mode="IN"/>
        <attribute name="shippingInstructions" type="String" mode="IN"/>
        <attribute name="billingAccountId" type="String" mode="IN"/>
        <attribute name="cartDiscount" type="Double" mode="IN"/>
        <attribute name="shippingAmount" type="Double" mode="IN"/>
        <attribute name="taxAmount" type="Double" mode="IN"/>
        <attribute name="shippingContactMechId" type="String" mode="IN"/>
        <attribute name="shipmentMethodTypeId" type="String" mode="IN"/>
        <attribute name="carrierPartyId" type="String" mode="IN"/>
        <attribute name="maySplit" type="Boolean" mode="IN"/>
        <attribute name="creditCardId" type="String" mode="IN"/>
    </service>
	<service name="changeOrderStatus" engine="java"
	location="org.ofbiz.commonapp.order.order.OrderServices" invoke="setOrderStatus">
	    <description>Change the status of an existing order</description>
		<attribute name="orderId" type="String" mode="IN"/>
		<attribute name="statusId" type="String" mode="IN"/>
    </service>
    <service name="addOrderRole" engine="java"
    location="org.ofbiz.commonapp.order.order.OrderServices" invoke="addRoleType">
        <description>Adds a RoleType to an order</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN"/>
    </service>
    <service name="removeOrderRole" engine="java"
    location="org.ofbiz.commonapp.order.order.OrderServices" invoke="removeRoleType">
        <description>Removes a RoleType from an order</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN"/>
    </service>
</services>
