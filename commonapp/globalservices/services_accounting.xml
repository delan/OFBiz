<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE services PUBLIC "-//OFBiz//DTD Services Config//EN" "http://www.ofbiz.org/dtds/services.dtd">

<services>
    <description>Common Application Shared Party Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>

    <!-- Payment Method services -->
    <service name="deletePaymentMethod" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentServices" invoke="deletePaymentMethod" auth="true">
        <description>Delete PaymentMethod</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="createCreditCard" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentServices" invoke="createCreditCard" auth="true">
        <description>Create CreditCard</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="nameOnCard" type="String" mode="IN" optional="false"/>
        <attribute name="companyNameOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="cardType" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="cardSecurityCode" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="expireDate" type="String" mode="IN" optional="false"/>
        <attribute name="paymentMethodId" type="String" mode="OUT" optional="true"/>
    </service>
    <service name="updateCreditCard" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentServices" invoke="updateCreditCard" auth="true">
        <description>Update CreditCard</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
        <attribute name="nameOnCard" type="String" mode="IN" optional="false"/>
        <attribute name="companyNameOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="cardType" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="cardSecurityCode" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="expireDate" type="String" mode="IN" optional="false"/>
        <attribute name="newPaymentMethodId" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="createEftAccount" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentServices" invoke="createEftAccount" auth="true">
        <description>Create EftAccount</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="bankName" type="String" mode="IN" optional="false"/>
        <attribute name="routingNumber" type="String" mode="IN" optional="false"/>
        <attribute name="accountType" type="String" mode="IN" optional="false"/>
        <attribute name="accountNumber" type="String" mode="IN" optional="false"/>
        <attribute name="nameOnAccount" type="String" mode="IN" optional="false"/>
        <attribute name="companyNameOnAccount" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="OUT" optional="true"/>
    </service>
    <service name="updateEftAccount" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentServices" invoke="updateEftAccount" auth="true">
        <description>Update EftAccount</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
        <attribute name="bankName" type="String" mode="IN" optional="false"/>
        <attribute name="routingNumber" type="String" mode="IN" optional="false"/>
        <attribute name="accountType" type="String" mode="IN" optional="false"/>
        <attribute name="accountNumber" type="String" mode="IN" optional="false"/>
        <attribute name="nameOnAccount" type="String" mode="IN" optional="false"/>
        <attribute name="companyNameOnAccount" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="newPaymentMethodId" type="String" mode="OUT" optional="true"/>
    </service>
    <service name="setPaymentMethodAddress" engine="simple"
            location="org/ofbiz/commonapp/accounting/payment/PaymentSimpleMethods.xml" invoke="setPaymentMethodAddress" auth="true">
        <description>Set the inital payment method address.</description>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="false"/>
    </service>

    <service name="createPayment" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentServices" invoke="createPayment" auth="true">
        <description>Create Payment</description>
        <attribute name="paymentTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="paymentMethodTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
        <attribute name="partyIdFrom" type="String" mode="IN" optional="false"/>
        <attribute name="partyIdTo" type="String" mode="IN" optional="false"/>
        <attribute name="effectiveDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="paymentRefNum" type="String" mode="IN" optional="false"/>
        <attribute name="amount" type="Double" mode="IN" optional="true"/>
        <attribute name="comments" type="String" mode="IN" optional="true"/>
        <attribute name="paymentId" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="processPayments" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentGatewayServices" invoke="processPayments" auth="false">
        <description>Process payments (authorizations)</description>
        <attribute name="orderId" type="String" mode="INOUT" optional="false"/>
        <attribute name="payToPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="currency" type="String" mode="IN" optional="true"/>
        <attribute name="processResult" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="ccProcessor" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentGatewayServices" invoke="testProcessor">
            <!-- location="org.ofbiz.commonapp.accounting.payment.PaymentGatewayServices" invoke="testProcessor"> -->
            <!-- location="org.ofbiz.commonapp.accounting.payment.PaymentGatewayServices" invoke="alwaysApproveProcessor"> -->
            <!-- location="org.ofbiz.commonapp.accounting.payment.PaymentGatewayServices" invoke="alwaysDeclineProcessor"> -->
            <!-- location="org.ofbiz.commonapp.thirdparty.verisign.PayflowPro" invoke="ccProcessor"> -->
            <!-- location="org.ofbiz.commonapp.thirdparty.cybersource.CSPaymentServices" invoke="ccProcessor"> -->
        <description>Credit Card Processing</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="processAmount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="orderItems" type="List" mode="IN" optional="false"/>
        <attribute name="contactPerson" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="contactEmail" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="billingAddress" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="shippingAddress" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="creditCard" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="true"/>
        <attribute name="authResult" type="Boolean" mode="OUT" optional="true"/>
        <attribute name="captureResult" type="Boolean" mode="OUT" optional="true"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="authRefNum" type="String" mode="OUT" optional="false"/>
        <attribute name="authFlag" type="String" mode="OUT" optional="false"/>
        <attribute name="authMessage" type="String" mode="OUT" optional="false"/>
        <attribute name="captureRefNum" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="eftProcessor" engine="java"
            location="org.ofbiz.commonapp.accounting.payment.PaymentGatewayServices" invoke="testProcessor" auth="false">
        <description>EFT Account Processing</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="processAmount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="orderItems" type="List" mode="IN" optional="false"/>
        <attribute name="contactPerson" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="contactEmail" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="billingAddress" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="shippingAddress" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="eftAccount" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="true"/>
        <attribute name="authResult" type="Boolean" mode="OUT" optional="true"/>
        <attribute name="captureResult" type="Boolean" mode="OUT" optional="true"/>
        <attribute name="authCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authRefNum" type="String" mode="OUT" optional="false"/>
        <attribute name="authFlag" type="String" mode="OUT" optional="false"/>
        <attribute name="authMessage" type="String" mode="OUT" optional="false"/>
        <attribute name="captureRefNum" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="authorizePayment" engine="java"
        location="org.ofbiz.commonapp.accounting.payment.PaymentServices" invoke="authorizePayment" auth="false">
        <description>Authorize Payment</description>
        <attribute name="orderId" type="String" mode="IN" optional="false" />
        <attribute name="currency" type="String" mode="IN" optional="true" />
        <attribute name="authResponse" type="String" mode="OUT" optional="false" />
    </service>

    <service name="capturePayment" engine="java"
        location="org.ofbiz.commonapp.accounting.payment.PaymentServices" invoke="capturePayment" auth="false">
        <description>Capture Payment</description>
        <attribute name="orderId" type="String" mode="IN" optional="false" />
    </service>

    <service name="captureAll" engine="simple"
                location="org/ofbiz/commonapp/accounting/payment/PaymentSimpleMethods.xml" invoke="captureAll" auth="false">
        <description>Capture all payments for orders with a given status</description>
        <attribute name="orderStatusId" type="String" mode="IN" optional="false" />
    </service>

</services>
