<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE services PUBLIC "-//OFBiz//DTD Services Config//EN" "http://www.ofbiz.org/dtds/services.dtd">

<services>
    <description>Common Application Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>	
    
    <service name="sendMailInterface" engine="interface" location="" invoke="">
    	<description>Interface service for mail services</description>
        <attribute name="sendTo" type="String" mode="IN" optional="false"/>
        <attribute name="sendCc" type="String" mode="IN" optional="true"/>
        <attribute name="sendBcc" type="String" mode="IN" optional="true"/>
        <attribute name="sendFrom" type="String" mode="IN" optional="false"/>
        <attribute name="subject" type="String" mode="IN" optional="false"/>        
        <attribute name="sendVia" type="String" mode="IN" optional="true"/>
        <attribute name="sendType" type="String" mode="IN" optional="true"/>
        <attribute name="contentType" type="String" mode="IN" optional="true"/>    	
    </service>
    
    <service name="sendMail" engine="java"
            location="org.ofbiz.commonapp.common.CommonServices" invoke="sendMail">
        <description>Send E-Mail Service</description>   
        <implements service="sendMailInterface"/>     
        <attribute name="body" type="String" mode="IN" optional="false"/>        
    </service>
    
    <service name="sendMailFromUrl" engine="java"
            location="org.ofbiz.commonapp.common.CommonServices" invoke="sendMailFromUrl">
        <description>Send E-Mail From URL Service</description>
        <implements service="sendMailInterface"/>
        <attribute name="bodyUrl" type="String" mode="IN" optional="false"/>
        <attribute name="bodyUrlParameters" type="java.util.Map" mode="IN" optional="true"/>
        <attribute name="body" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="createNote" engine="java"
            location="org.ofbiz.commonapp.common.CommonServices" invoke="createNote">
        <description>Create a new note record</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="noteName" type="String" mode="IN" optional="true"/>
        <attribute name="note" type="String" mode="IN"/>
        <attribute name="noteId" type="String" mode="OUT"/>
    </service>

    <service name="updateDebugLevel" engine="java"
            location="org.ofbiz.commonapp.common.CommonServices" invoke="setDebugLevels">
        <description>Sets/Updates cached debugging levels</description>
        <attribute name="verbose" type="Boolean" mode="IN" optional="true"/>
        <attribute name="timing" type="Boolean" mode="IN" optional="true"/>
        <attribute name="info" type="Boolean" mode="IN" optional="true"/>
        <attribute name="important" type="Boolean" mode="IN" optional="true"/>
        <attribute name="warning" type="Boolean" mode="IN" optional="true"/>
        <attribute name="error" type="Boolean" mode="IN" optional="true"/>
        <attribute name="fatal" type="Boolean" mode="IN" optional="true"/>
    </service>
    
    <!-- Entity Engine Services -->
    <service name="distributedClearAllEntityCaches" engine="jms" location="serviceMessenger" invoke="clearAllEntityCaches" auth="true">
        <description>Clear All Entity Engine Caches for all Servers listening to the topic</description>
    </service>
    <!-- Below uses Group/HTTP engine 
    <service name="distributedClearAllEntityCaches" engine="group" location="distributedClearAllEntityCaches" invoke=""/>
    -->
    <service name="clearAllEntityCaches" engine="java"
            location="org.ofbiz.commonapp.common.EntityCacheServices" invoke="clearAllEntityCaches" auth="true">
        <description>Clears all values from all Entity Engine caches. By default does not distribute.</description>
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>

    <service name="distributedClearCacheLineByValue" engine="jms" location="serviceMessenger" invoke="clearCacheLineByValue" auth="true">
        <description>Clear Cache Line by value for all Servers listening to the topic</description>
        <attribute name="value" type="GenericValue" mode="IN" optional="false"/>
    </service>
    <!-- Below uses Group/HTTP engine
    <service name="distributedClearCacheLineByValue" engine="group" location="distributedClearCacheLineByValue" invoke=""/>
    -->
    <service name="clearCacheLineByValue" engine="java"
            location="org.ofbiz.core.extentity.EntityCacheServices" invoke="clearCacheLine" auth="true">
        <description>Clear Cache Line with a value (GenericValue); this is the preferred method since the all, by primary key and by and caches will be cleared. By default does not distribute.</description>
        <attribute name="value" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>

    <service name="distributedClearCacheLineByDummyPK" engine="jms" location="serviceMessenger" invoke="clearCacheLineByDummyPK" auth="true">
        <description>Clear Cache Line by dummyPK for all Servers listening to the topic</description>
        <attribute name="dummyPK" type="GenericEntity" mode="IN" optional="false"/>
    </service>
    <!-- Below uses Group/HTTP engine
    <service name="distributedClearCacheLineByDummyPK" engine="group" location="distributedClearCacheLineByDummyPK" invoke=""/>
    -->
    <service name="clearCacheLineByDummyPK" engine="java"
            location="org.ofbiz.core.extentity.EntityCacheServices" invoke="clearCacheLine" auth="true">
        <description>Clear Cache Line with a dummyPK (GenericEntity); clears that all cache entry and depending on whether the dummyPK is a primaryKey or not this clears the by primary key cache or the specified entry in the by and cache. By default does not distribute.</description>
        <attribute name="dummyPK" type="GenericEntity" mode="IN" optional="false"/>
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>
    
    <service name="distributedClearCacheLineByPrimaryKey" engine="jms" location="serviceMessenger" invoke="clearCacheLineByPrimaryKey" auth="true">
        <description>Clear Cache Line by primaryKey for all Servers listening to the topic</description>
        <attribute name="primaryKey" type="GenericPK" mode="IN" optional="false"/>
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>
    <!-- Below uses Group/HTTP engine
    <service name="distributedClearCacheLineByPrimaryKey" engine="group" location="distributedClearCacheLineByPrimaryKey" invoke=""/>
    -->
    <service name="clearCacheLineByPrimaryKey" engine="java"
            location="org.ofbiz.core.extentity.EntityCacheServices" invoke="clearCacheLine" auth="true">
        <description>Clear Cache Line with a primaryKey (GenericPK); clears the all and by primary key caches. By default does not distribute.</description>
        <attribute name="primaryKey" type="GenericPK" mode="IN" optional="false"/>
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>
    
    <!-- HTTP Engine localhost cache clearing (example: duplicate entire block for each server) -->   
    <service name="localhostClearAllEntityCaches" engine="http"
            location="http://localhost:8080/commonapp/control/httpService" invoke="clearAllEntityCaches">        
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>
    <service name="localhostClearCacheLineByValue" engine="http"
            location="http://localhost:8080/commonapp/control/httpService" invoke="clearCacheLineByValue">        
        <attribute name="value" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>
    <service name="localhostClearCacheLineByDummyPK" engine="http"
            location="http://localhost:8080/commonapp/control/httpService" invoke="clearCacheLineByDummyPK">
        <attribute name="dummyPK" type="GenericEntity" mode="IN" optional="false"/>
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>   
    <service name="localhostClearCacheLineByPrimaryKey" engine="http"
            location="http://localhost:8080/commonapp/control/httpService" invoke="clearCacheLineByPrimaryKey">        
        <attribute name="primaryKey" type="GenericPK" mode="IN" optional="false"/>
        <attribute name="distribute" type="Boolean" mode="IN" optional="true"/>
    </service>   
    
    <!-- DataSource Services -->
    <service name="interfaceDataSource" engine="interface" location="" invoke="">
        <attribute name="dataSourceId" type="String" mode="IN" optional="false"/>
        <attribute name="dataSourceTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
    </service>
    <service name="createDataSource" engine="simple"
            location="org/ofbiz/commonapp/common/datasource/DataSourceServices.xml" invoke="createDataSource" auth="true">
        <description>Create a DataSource record</description>
        <implements service="interfaceDataSource"/>
    </service>
    <service name="updateDataSource" engine="simple"
            location="org/ofbiz/commonapp/common/datasource/DataSourceServices.xml" invoke="updateDataSource" auth="true">
        <description>Update a DataSource record</description>
        <implements service="interfaceDataSource"/>
    </service>
    <service name="deleteDataSource" engine="simple"
            location="org/ofbiz/commonapp/common/datasource/DataSourceServices.xml" invoke="deleteDataSource" auth="true">
        <description>Delete a DataSource record</description>
        <attribute name="dataSourceId" type="String" mode="IN" optional="false"/>
    </service>
    
    <!-- CustomTimePeriod Services -->
    <service name="interfaceCustomTimePeriod" engine="interface" location="" invoke="">
        <attribute name="parentPeriodId" type="String" mode="IN" optional="true"/>
        <attribute name="organizationPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="periodTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="periodNum" type="Long" mode="IN" optional="true"/>
        <attribute name="periodName" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="java.sql.Date" mode="IN" optional="true"/>
        <attribute name="thruDate" type="java.sql.Date" mode="IN" optional="true"/>
    </service>
    <service name="createCustomTimePeriod" engine="simple"
            location="org/ofbiz/commonapp/common/period/PeriodServices.xml" invoke="createCustomTimePeriod" auth="true">
        <description>Create a CustomTimePeriod record</description>
        <implements service="interfaceCustomTimePeriod"/>
        <attribute name="customTimePeriodId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="updateCustomTimePeriod" engine="simple"
            location="org/ofbiz/commonapp/common/period/PeriodServices.xml" invoke="updateCustomTimePeriod" auth="true">
        <description>Update a CustomTimePeriod record</description>
        <implements service="interfaceCustomTimePeriod"/>
        <attribute name="customTimePeriodId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="deleteCustomTimePeriod" engine="simple"
            location="org/ofbiz/commonapp/common/period/PeriodServices.xml" invoke="deleteCustomTimePeriod" auth="true">
        <description>Delete a CustomTimePeriod record</description>
        <attribute name="customTimePeriodId" type="String" mode="IN" optional="false"/>
    </service>
</services>
