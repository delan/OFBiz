<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE services PUBLIC "-//OFBiz//DTD Services Config//EN" "http://www.ofbiz.org/dtds/services.dtd">

<services>
    <description>Common Application Components Order Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>

    <!-- Order processing services -->
    <service name="processOrder" engine="workflow" location="TEST" invoke="ProcessOrder">
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="orderStatusId" type="String" mode="OUT"/>
    </service>
    <service name="storeOrder" engine="java" validate="false"
    location="org.ofbiz.commonapp.order.order.OrderServices" invoke="createOrder">
        <description>Creates order entities</description>
        <attribute name="partyId" type="String" mode="IN"/>
		<attribute name="affiliateId" type="String" mode="IN" optional="true"/>
        <attribute name="distributorId" type="String" mode="IN" optional="true"/>
        <attribute name="orderItems" type="java.util.List" mode="IN"/>
        <attribute name="shippingInstructions" type="String" mode="IN"/>
        <attribute name="billingAccountId" type="String" mode="IN"/>
        <attribute name="cartDiscount" type="Double" mode="IN"/>
        <attribute name="shippingAmount" type="Double" mode="IN"/>
        <attribute name="taxAmount" type="Double" mode="IN"/>
        <attribute name="shippingContactMechId" type="String" mode="IN"/>
        <attribute name="shipmentMethodTypeId" type="String" mode="IN"/>
        <attribute name="carrierPartyId" type="String" mode="IN"/>
        <attribute name="maySplit" type="Boolean" mode="IN"/>
        <attribute name="creditCardId" type="String" mode="IN"/>
        <attribute name="orderId" type="String" mode="OUT"/>
    </service>
    <service name="changeOrderStatus" engine="java"
            location="org.ofbiz.commonapp.order.order.OrderServices" invoke="setOrderStatus">
        <description>Change the status of an existing order</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="statusId" type="String" mode="IN"/>
        <attribute name="orderStatusId" type="String" mode="OUT" optional="true"/>
    </service>
    <service name="addOrderRole" engine="java"
    location="org.ofbiz.commonapp.order.order.OrderServices" invoke="addRoleType">
        <description>Adds a RoleType to an order</description>
        <attribute name="removeOld" type="String" mode="IN" optional="true"/>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN"/>
    </service>
    <service name="removeOrderRole" engine="java"
    location="org.ofbiz.commonapp.order.order.OrderServices" invoke="removeRoleType">
        <description>Removes a RoleType from an order</description>
        <attribute name="orderId" type="String" mode="IN"/>
        <attribute name="partyId" type="String" mode="IN"/>
        <attribute name="roleTypeId" type="String" mode="IN"/>
    </service>
</services>
