
# -- the transaction factory class to use, one is needed for each method of getting JTA interface
#transaction.factory.class=org.ofbiz.core.entity.transaction.TyrexFactory

# NOTE: to use the JndiFactory you must specify the necessary JNDI properties
transaction.factory.class=org.ofbiz.core.entity.transaction.JNDIFactory
transaction.factory.UserTransaction.jndi.name=java:comp/UserTransaction
#transaction.factory.TransactionManager.jndi.name=
transaction.factory.context.provider.url=ormi://localhost/default
transaction.factory.initial.context.factory=com.evermind.server.rmi.RMIInitialContextFactory
#transaction.factory.url.pkg.prefixes=java.naming.rmi.security.manager
transaction.factory.security.principal=user
transaction.factory.security.credentials=456

# -- define default root path for OFBiz --
# note that the ${env.ofbiz.home} trick will only work if java is started with 
#  the arguemnt: -Dofbiz.home=<<OFBIZ_HOME>> where OFBIZ_HOME is the path to the
#  directory that contains the OFBiz modules.
ofbiz.root.path=${env.ofbiz.home}

# -- define the server delegators --
default.model.reader=main
default.model.group.reader=main
default.group.org.ofbiz.commonapp=localpostgres

# -- define the model readers --
main.xml.entity=${ofbiz.root.path}/commonapp/entitydef/entitymodel.xml;\
                ${ofbiz.root.path}/commonapp/entitydef/entitymodel_accounting.xml;\
                ${ofbiz.root.path}/commonapp/entitydef/entitymodel_humanres.xml;\
                ${ofbiz.root.path}/commonapp/entitydef/entitymodel_shipment.xml;\
                ${ofbiz.root.path}/commonapp/entitydef/entitymodel_workeffort.xml;\
                ${ofbiz.root.path}/commonapp/entitydef/entitymodel_workflow.xml;\
                ${ofbiz.root.path}/commonapp/entitydef/entitymodel_order.xml;\
                ${ofbiz.root.path}/commonapp/entitydef/entitymodel_party.xml;\
                ${ofbiz.root.path}/commonapp/entitydef/entitymodel_product.xml

# -- define the model group readers --
main.xml.group=${ofbiz.root.path}/commonapp/entitydef/entitygroup.xml

# -- define the model field type readers --
postgres.xml.field.type=${ofbiz.root.path}/commonapp/entitydef/fieldtypepostgres.xml
mysql.xml.field.type=${ofbiz.root.path}/commonapp/entitydef/fieldtypemysql.xml
hsql.xml.field.type=${ofbiz.root.path}/commonapp/entitydef/fieldtypehsql.xml
oracle.xml.field.type=${ofbiz.root.path}/commonapp/entitydef/fieldtypeoracle.xml

# -- define the helpers --

#
#For DAO/JDBC: Tries: 
#  1. JNDI Datasource IF jdbc.jndi.name, context.provider, etc are specified
#  2. Tyrex if available (uses jdbc.driver, jdbc.uri, jdbc.username, jdbc.password, isolation.level)
#  3. Direct to manually laoded JDBC driver (uses jdbc.driver, jdbc.uri, jdbc.username, jdbc.password)
#
#Transaction Isolation Levels - For Tyrex (<helperName>.isolation.level) can be as follows:
# * ReadCommitted
# * ReadUncommitted
# * RepeatableRead
# * Serializable (default)
#

# -- Postgres --
localpostgres.helper.class=org.ofbiz.core.entity.GenericHelperDAO
localpostgres.field.type.reader=postgres
localpostgres.datasource.check.on.start=true
localpostgres.datasource.add.missing.on.start=true
localpostgres.sql.load.paths=${ofbiz.root.path}/commonapp/db;${ofbiz.root.path}/ecommerce/etc

#localpostgres.jdbc.driver=org.postgresql.Driver
#localpostgres.jdbc.uri=jdbc:postgresql://127.0.0.1/ofbiz
#localpostgres.jdbc.username=ofbiz
#localpostgres.jdbc.password=ofbiz
#localpostgres.isolation.level=Serializable

localpostgres.jdbc.jndi.name=jdbc/xa/PostgresDataSource
localpostgres.context.provider.url=ormi://localhost/default
localpostgres.initial.context.factory=com.evermind.server.rmi.RMIInitialContextFactory
#localpostgres.url.pkg.prefixes=java.naming.rmi.security.manager
#localpostgres.security.principal=
#localpostgres.security.credentials=

# -- Oracle --
localoracle.helper.class=org.ofbiz.core.entity.GenericHelperDAO
localoracle.field.type.reader=oracle
localoracle.datasource.check.on.start=true
localoracle.datasource.add.missing.on.start=true
localoracle.sql.load.paths=${ofbiz.root.path}/commonapp/db;${ofbiz.root.path}/ecommerce/etc

localoracle.jdbc.driver=oracle.jdbc.driver.OracleDriver
localoracle.jdbc.uri=jdbc:oracle:thin:@localhost:1521:ofbiz
localoracle.jdbc.username=ofbiz
localoracle.jdbc.password=ofbiz
localoracle.isolation.level=Serializable

#localoracle.jdbc.jndi.name=java:/OracleDataSource
#localoracle.context.provider.url=rmi://127.0.0.1:1099
#localoracle.initial.context.factory=com.sun.jndi.rmi.registry.RegistryContextFactory
#localoracle.url.pkg.prefixes=java.naming.rmi.security.manager
#localoracle.security.principal=
#localoracle.security.credentials=
