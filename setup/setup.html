<html>
<head>
<title>The Open For Business Project: General Setup</title>
</head>

<body>

<h2 align="center">The Open For Business Project: General Setup</h2>

<br>Written By: David E. Jones
<br>Email: <a href="mailto:jonesde@ofbiz.org">jonesde@ofbiz.org</a>
<br>Open For Business Site: <a href="http://www.ofbiz.org/">http://www.ofbiz.org</a>
<br>Last Updated: May 23, 2001

<h3 align="left"><a name="Table of Contents">Table of Contents</a></h3>
<ul>
  <li>Introduction</li>
  <li>MySQL Setup (or other database)</li>
  <li>JBoss &amp; Tomcat Setup</li>
  <li>Running</li>
</ul>

<h3><a name="Introduction">Introduction</a></h3>
<p>This document describes an initial setup for the Open For Business Project.</p>
<h3><a name="MySQL Setup">MySQL Setup</a></h3>
<p>MySQL is the default database for ofbiz. It will run with any database that
JBoss supports with Container Managed Persistence, which is a lot of databases.
For other databases, the SQL table creation and data loading files will have to
be changed, and the jaws.xml deployment descriptor may have to be changed, but
that is all.</p>
<p>You can download MySQL from <a href="http://www.mysql.com" target="_blank">www.mysql.com</a>,
get the newest version, for Windows <a href="http://www.mysql.com/Downloads/MySQL-3.23/mysql-3.23.38-win.zip">mysql-3.23.38-win.zip</a></p>
<p>You will also need the MySQL JDBC driver, get the <a href="http://www.mysql.com/Downloads/Contrib/mm.mysql-2.0.4-bin.jar">mm.mysql-2.0.4-bin.jar</a>
file.</p>
<p>To use the default settings in the ofbiz configuration files, create a
database called &quot;ofbiz&quot; and start the MySQL server with a username of
&quot;mysqldb&quot; and a password of &quot;mysqldb&quot;. If you use different
settings, change them in the jboss.jcml file in the jboss/conf/ofbiz directory.</p>
<p>After MySQL is setup, the tables need to be created and the initial data
needs to be loaded. These two tasks can be done by running the sql files <b>ofbiz/commonapp/db/commonapp-mysql.sql</b>
and <b>ofbiz/commonapp/db/commonapp-data-mysql.sql</b>.&nbsp;</p>
<p>One easy way of doing this is to run mysql/bin/mysql.exe (for Windows),
connect to the ofbiz database (connect ofbiz) and then copy the SQL to run from
a text editor, and paste it into the command line environment. Pasting in a
command-line box in Windows is done by right-clicking on the window title bar
and clicking on paste in the edit sub-menu.</p>
<p>The JDBC driver mm.mysql-2.0.4-bin.jar is used most easily by putting it in
the jboss/lib/ext directory, after you have installed JBoss. Or, put it on the
JBOSS_CLASSPATH explicitly in your startup script.</p>
<h3><a name="JBoss &amp; Tomcat Setup">JBoss &amp; Tomcat Setup</a></h3>
<p>JBoss is the default application server for ofbiz. The default servlet
container running with JBoss is Tomcat, but Jetty could easily be used instead.
A sample configuration file for Tomcat is included, but the only things in there
are the webapp contexts to mount. An application server other than JBoss could
be used fairly easily by changing all of the EJB deployment descriptors (could
be done with the entity code generator) and re-creating the EJB JAR file.
Everything in ofbiz is standard J2EE so there shouldn't be many problems with
this.</p>
<p>You can download JBoss-Tomcat from <a href="http://sf.net/projects/jboss" target="_blank">sf.net/projects/jboss</a>,
get the <a href="http://prdownloads.sourceforge.net/jboss/JBoss-2.2.2_Tomcat-3.2.2.zip">JBoss-2.2.2_Tomcat-3.2.2.zip</a> file.</p>
<p>You will also need the Java 2 version 1.3 JDK (or just the JRE) from <a href="http://java.sun.com" target="_blank">java.sun.com</a>&nbsp;</p>
<p>In the JBoss/Tomcat ZIP file there are two main directories: <b>jboss</b> and
<b>tomcat</b>. Unzip the JBoss/Tomcat ZIP file to some directory, I usually use
a directory called /ofbiz/work, but anywhere will work</p>
<p>Unzip the ofbiz ZIP file and move the <b>ofbiz</b> directory so that it is a
sibling (in the same directory) of the <b>jboss</b> and <b>tomcat</b>
directories.</p>
<p>Create the JBoss ofbiz conf directory by copying the <b>jboss/conf/tomcat</b>
directory, making a <b>jboss/conf/ofbiz</b> directory. Move the default <b>jboss.jcml
</b>file to the new ofbiz conf directory from <b>ofbiz/setup/jboss/conf/ofbiz/jboss.jcml</b>,
replacing the existing <b>jboss.jcml</b> file. Also copy the startup scripts (<b>ofbiz.bat</b>
and <b>ofbiz.sh</b>) to <b>jboss/bin</b> from <b>ofbiz/setup/jboss/bin</b>.</p>
<p>Modify the Tomcat default configuration by copying the <b>server.xml</b> file
to <b>tomcat/conf</b> from <b>ofbiz/setup/tomcat/conf</b>.</p>
<p>Remember to move the JDBC driver(s) to <b>jboss/lib/ext</b>.</p>
<h3><a name="Running">Running</a></h3>

<p>The last step is to make sure the directories are correct in the <b>ofbiz.bat</b>
or <b>ofbiz.sh</b> file in <b>jboss/bin</b>, especially the JDK path.</p>
<p>You should now be able to run the <b>jboss/bin/ofbiz.bat</b> (for Windows) or
<b>jboss/bin/ofbiz.sh</b> (for Unix).</p>
<p>To access the site, go to <a href="http://localhost:8080/commonapp/control/main">http://localhost:8080/commonapp/control/main</a>
for the Common Application Components, or <a href="http://localhost:8080/entitygen/entitygen.jsp">http://localhost:8080/entitygen/entitygen.jsp</a>
for the Entity Code Generator. For secured areas of the site, the default admin
account information is in the SQL data loader file. The default is 'admin' for
the username, and 'ofbiz' for the password. Be patient when you hit each page
for the first time, they all need to be compiled when it is run fresh.</p>
<p>&nbsp;</p>

</body>

</html>
