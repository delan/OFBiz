<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE services PUBLIC "-//OFBiz//DTD Services Config//EN" "http://www.ofbiz.org/dtds/services.dtd">

<!--
 *  Copyright (c) 2001-2004 The Open For Business Project - www.ofbiz.org
 *
 *  Permission is hereby granted, free of charge, to any person obtaining a 
 *  copy of this software and associated documentation files (the "Software"), 
 *  to deal in the Software without restriction, including without limitation 
 *  the rights to use, copy, modify, merge, publish, distribute, sublicense, 
 *  and/or sell copies of the Software, and to permit persons to whom the 
 *  Software is furnished to do so, subject to the following conditions:
 *
 *  The above copyright notice and this permission notice shall be included 
 *  in all copies or substantial portions of the Software.
 *
 *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS 
 *  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF 
 *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. 
 *  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY 
 *  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT 
 *  OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR 
 *  THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *  $Id$
-->

<services>
    <description>Accounting Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>

    <!-- Invoice services -->
    <service name="createInvoice" engine="simple"
            location="org/ofbiz/accounting/invoice/InvoiceServices.xml" invoke="createInvoice">
        <description>Create Inovice Record</description>
        <attribute name="invoiceTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="roleTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
        <attribute name="billingAccountId" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="invoiceMessage" type="String" mode="IN" optional="true"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="invoiceId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="createInvoiceItem" engine="simple"
            location="org/ofbiz/accounting/invoice/InvoiceServices.xml" invoke="createInvoiceItem">
        <description>Create Invoice Item Record</description>
        <attribute name="invoiceId" type="String" mode="IN" optional="false"/>
        <attribute name="invoiceItemSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="invoiceItemTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="inventoryItemId" type="String" mode="IN" optional="true"/>
        <attribute name="productId" type="String" mode="IN" optional="true"/>
        <attribute name="productFeatureId" type="String" mode="IN" optional="true"/>
        <attribute name="uomId" type="String" mode="IN" optional="true"/>
        <attribute name="taxableFlag" type="Boolean" mode="IN" optional="false"/>
        <attribute name="quantity" type="Double" mode="IN" optional="false"/>
        <attribute name="amount" type="Double" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
    </service>
    <service name="createInvoiceRole" engine="simple"
            location="org/ofbiz/accounting/invoice/InvoiceServices.xml" invoke="createInvoiceRole">
        <description>Create Invoice Role Record</description>
        <attribute name="invoiceId" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="roleTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="datetimePerformed" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="percentage" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="setInvoiceStatus" engine="simple"
            location="org/ofbiz/accounting/invoice/InvoiceServices.xml" invoke="setInvoiceStatus">
        <description>Create Invoice (Item) Term Record</description>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
        <attribute name="invoiceId" type="String" mode="IN" optional="false"/>
        <attribute name="statusDate" type="Timestamp" mode="IN" optional="true"/>
    </service>
    <service name="createInvoiceTerm" engine="simple"
            location="org/ofbiz/accounting/invoice/InvoiceServices.xml" invoke="createInvoiceTerm">
        <description>Create Invoice (Item) Term Record</description>
        <attribute name="termTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="invoiceId" type="String" mode="IN" optional="false"/>
        <attribute name="invoiceItemSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="termValue" type="Long" mode="IN" optional="false"/>
        <attribute name="uomId" type="String" mode="IN" optional="true"/>
        <attribute name="invoiceTermId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="createInvoiceForOrder" engine="java"
            location="org.ofbiz.accounting.invoice.InvoiceServices" invoke="createInvoiceForOrder">
        <description>
                Create an invoice from existing order
                orderId = The orderId to associate the invoice with
                billItems = List of ItemIssuance records to use for creating the invoice
        </description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="billItems" type="List" mode="IN" optional="false"/>
        <attribute name="invoiceId" type="String" mode="OUT" optional="true"/>
    </service>
    <service name="createInvoicesFromShipment" engine="java"
            location="org.ofbiz.accounting.invoice.InvoiceServices" invoke="createInvoicesFromShipment">
        <description>
            Create invoice(s) from a Shipment
            invoicesCreated = List of invoiceIds which were created by this service
        </description>
        <attribute name="shipmentId" type="String" mode="IN" optional="false"/>
        <attribute name="invoicesCreated" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="checkInvoicePaymentApplications" engine="java"
            location="org.ofbiz.accounting.invoice.InvoiceServices" invoke="checkInvoicePaymentApplications">
        <description>Checks to see if the payments applied to an invoice total up to the invoice total; if so sets to PAID</description>
        <attribute name="invoiceId" type="String" mode="IN" optional="false"/>
    </service>

    <!-- Billing Account Services -->
    <service name="createBillingAccount" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="createBillingAccount">
        <description>Create a Billing Account</description>
        <attribute name="accountLimit" type="Double" mode="IN" optional="true"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="billingAccountId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="updateBillingAccount" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="updateBillingAccount">
        <description>Update a Billing Account</description>
        <attribute name="billingAccountId" type="String" mode="IN" optional="false"/>
        <attribute name="accountLimit" type="Double" mode="IN" optional="true"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
    </service>
    <service name="createBillingAccountRole" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="createBillingAccountRole">
        <description>Create a Billing Account Role</description>
        <attribute name="billingAccountId" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="roleTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
    </service>
    <service name="updateBillingAccountRole" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="updateBillingAccountRole">
        <description>Update a Billing Account Role</description>
        <attribute name="billingAccountId" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="roleTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="false"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="false"/>
    </service>
    <service name="createBillingAccountTerm" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="createBillingAccountTerm">
        <description>Create a Billing Account Term</description>
        <attribute name="billingAccountId" type="String" mode="IN" optional="false"/>
        <attribute name="termTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="termValue" type="Long" mode="IN" optional="false"/>
        <attribute name="uomId" type="String" mode="IN" optional="true"/>
        <attribute name="billingAccountTermId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="updateBillingAccountTerm" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="updateBillingAccountTerm">
        <description>Update a Billing Account Term</description>
        <attribute name="billingAccountTermId" type="String" mode="IN" optional="false"/>
        <attribute name="billingAccountId" type="String" mode="IN" optional="true"/>
        <attribute name="termTypeId" type="String" mode="IN" optional="true"/>
        <attribute name="termValue" type="Long" mode="IN" optional="true"/>
        <attribute name="uomId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="removeBillingAccountTerm" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="removeBillingAccountTerm">
        <description>Remove a Billing Account Term</description>
        <attribute name="billingAccountTermId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="calcBillingAccountBalance" engine="java"
            location="org.ofbiz.accounting.payment.BillingAccountWorker" invoke="calcBillingAccountBalance">
        <description>Calculate the balance of a Billing Account</description>
        <attribute name="billingAccountId" type="String" mode="IN" optional="false"/>
        <attribute name="accountBalance" type="Double" mode="OUT" optional="false"/>
        <attribute name="billingAccount" type="GenericValue" mode="OUT" optional="false"/>
    </service>

    <!-- Payment Method services -->
    <service name="deletePaymentMethod" engine="java"
            location="org.ofbiz.accounting.payment.PaymentServices" invoke="deletePaymentMethod" auth="true">
        <description>Delete PaymentMethod</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
    </service>

    <service name="createCreditCard" default-entity-name="CreditCard" engine="java"
            location="org.ofbiz.accounting.payment.PaymentServices" invoke="createCreditCard" auth="true">
        <description>Create CreditCard</description>
        <auto-attributes include="pk" mode="OUT" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <!-- these three fields are for updating on the PaymentMethod -->
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <!-- these two will be assembled into a expireDate by buildCcExpireDate on an ECA if needed -->
        <attribute name="expMonth" type="String" mode="IN" optional="true"/>
        <attribute name="expYear" type="String" mode="IN" optional="true"/>     
        <override name="firstNameOnCard" optional="false"/>
        <override name="lastNameOnCard" optional="false"/>
        <override name="cardType" optional="false"/>
        <override name="cardNumber" optional="false"/>
        <override name="expireDate" optional="false"/>
    </service>
    <service name="createCreditCardAndAddress" engine="group" location="createCreditCardAndAddress" invoke="" auth="true">
        <description>Creates a CreditCard and PostalAddress</description>
        <attribute name="contactMechId" type="String" mode="INOUT" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="INOUT" optional="true"/>
    </service>
    <service name="updateCreditCardAndAddress" engine="group" location="updateCreditCardAndAddress" invoke="" auth="true">
        <description>Updates a CreditCard and PostalAddress</description>
        <attribute name="contactMechId" type="String" mode="INOUT" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="INOUT" optional="true"/>
    </service>
    <service name="updateCreditCard" default-entity-name="CreditCard" engine="java"
            location="org.ofbiz.accounting.payment.PaymentServices" invoke="updateCreditCard" auth="true">
        <description>Update CreditCard</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <!-- these three fields are for updating on the PaymentMethod -->
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <!-- these two will be assembled into a expireDate by buildCcExpireDate on an ECA if needed -->
        <attribute name="expMonth" type="String" mode="IN" optional="true"/>
        <attribute name="expYear" type="String" mode="IN" optional="true"/>
        <attribute name="newPaymentMethodId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="buildCcExpireDate" engine="java"
                location="org.ofbiz.accounting.payment.PaymentServices" invoke="makeExpireDate">
        <description>Makes a Expire Date</description>
        <attribute name="expMonth" type="String" mode="IN" optional="false"/>
        <attribute name="expYear" type="String" mode="IN" optional="false"/>
        <attribute name="expireDate" type="String" mode="OUT"/>
    </service>

    <service name="createGiftCard" engine="java"
            location="org.ofbiz.accounting.payment.PaymentServices" invoke="createGiftCard" auth="true">
        <description>Create GiftCard</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pinNumber" type="String" mode="IN" optional="false"/>
        <attribute name="expireDate" type="String" mode="IN" optional="true"/>
        <attribute name="expMonth" type="String" mode="IN" optional="true"/>
        <attribute name="expYear" type="String" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="OUT" optional="true"/>
    </service>
    <service name="updateGiftCard" engine="java"
            location="org.ofbiz.accounting.payment.PaymentServices" invoke="updateGiftCard" auth="true">
        <description>Update GiftCard</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="true"/>
        <attribute name="pinNumber" type="String" mode="IN" optional="true"/>
        <attribute name="expireDate" type="String" mode="IN" optional="true"/>
        <attribute name="expMonth" type="String" mode="IN" optional="true"/>
        <attribute name="expYear" type="String" mode="IN" optional="true"/>
        <attribute name="newPaymentMethodId" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="createEftAccount" engine="java"
            location="org.ofbiz.accounting.payment.PaymentServices" invoke="createEftAccount" auth="true">
        <description>Create EftAccount</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="bankName" type="String" mode="IN" optional="false"/>
        <attribute name="routingNumber" type="String" mode="IN" optional="false"/>
        <attribute name="accountType" type="String" mode="IN" optional="false"/>
        <attribute name="accountNumber" type="String" mode="IN" optional="false"/>
        <attribute name="nameOnAccount" type="String" mode="IN" optional="false"/>
        <attribute name="companyNameOnAccount" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="OUT" optional="true"/>
    </service>
    <service name="createEftAccountAndAddress" engine="group" location="createEftAccountAndAddress" invoke="" auth="true">
        <description>Creates an EftAccount and PostalAddress</description>
        <attribute name="contactMechId" type="String" mode="INOUT" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="INOUT" optional="true"/>
    </service>
    <service name="updateEftAccountAndAddress" engine="group" location="updateEftAccountAndAddress" invoke="" auth="true">
        <description>Updates an EftAccount and PostalAddress</description>
        <attribute name="contactMechId" type="String" mode="INOUT" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="INOUT" optional="true"/>
    </service>
    <service name="updateEftAccount" engine="java"
            location="org.ofbiz.accounting.payment.PaymentServices" invoke="updateEftAccount" auth="true">
        <description>Update EftAccount</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
        <attribute name="bankName" type="String" mode="IN" optional="false"/>
        <attribute name="routingNumber" type="String" mode="IN" optional="false"/>
        <attribute name="accountType" type="String" mode="IN" optional="false"/>
        <attribute name="accountNumber" type="String" mode="IN" optional="false"/>
        <attribute name="nameOnAccount" type="String" mode="IN" optional="false"/>
        <attribute name="companyNameOnAccount" type="String" mode="IN" optional="true"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="true"/>
        <attribute name="newPaymentMethodId" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="setPaymentMethodAddress" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="setPaymentMethodAddress" auth="true">
        <description>Set the inital payment method address.</description>
        <attribute name="paymentMethodId" type="String" mode="IN" optional="false"/>
        <attribute name="contactMechId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="updatePaymentMethodAddress" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="updatePaymentMethodAddress" auth="true" use-transaction="false">
        <description>Finds CreditCards and EftAccounts that use the contactMechId and updates to the newContactMechId</description>
        <attribute name="contactMechId" type="String" mode="IN" optional="false"/>
        <attribute name="newContactMechId" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createPayment" engine="simple" default-entity-name="Payment"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="createPayment" auth="true">
        <description>Create a Payment</description>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <auto-attributes include="pk" mode="OUT" optional="false"/>
        <override name="paymentTypeId" optional="false"/>
        <override name="paymentMethodTypeId" optional="false"/>
        <override name="partyIdFrom" optional="false"/>
        <override name="partyIdTo" optional="false"/>
        <override name="statusId" optional="false"/>
        <override name="amount" optional="false"/>
    </service>

    <service name="updatePayment" engine="simple" default-entity-name="Payment"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="updatePayment" auth="true">
        <description>Update a Payment</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>

    <service name="createPaymentApplication" engine="simple"
            location="org/ofbiz/accounting/payment/PaymentSimpleMethods.xml" invoke="createPaymentApplication" auth="true">
        <description>Create a payment application</description>
        <attribute name="paymentId" type="String" mode="IN" optional="false"/>
        <attribute name="invoiceId" type="String" mode="IN" optional="true"/>
        <attribute name="invoiceItemSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="billingAccountId" type="String" mode="IN" optional="true"/>
        <attribute name="amountApplied" type="Double" mode="IN" optional="false"/>
        <attribute name="paymentApplicationId" type="String" mode="OUT" optional="false"/>
    </service>

    <!-- Payment Auth/Capture Services -->
    <service name="manualForcedCcTransaction" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="processManualCcTx" auth="true">
        <description>Direct link to payment processors to force manual transactions; not logged in system</description>
        <attribute name="paymentMethodTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="productStoreId" type="String" mode="IN" optional="false"/>
        <attribute name="transactionType" type="String" mode="IN" optional="false"/>
        <attribute name="companyNameOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="titleOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="firstNameOnCard" type="String" mode="IN" optional="false"/>
        <attribute name="middleNameOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="lastNameOnCard" type="String" mode="IN" optional="false"/>
        <attribute name="suffixOnCard" type="String" mode="IN" optional="true"/>
        <attribute name="cardType" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="cardSecurityCode" type="String" mode="IN" optional="true"/>
        <attribute name="expMonth" type="String" mode="IN" optional="false"/>
        <attribute name="expYear" type="String" mode="IN" optional="false"/>
        <attribute name="firstName" type="String" mode="IN" optional="false"/>
        <attribute name="lastName" type="String" mode="IN" optional="false"/>
        <attribute name="infoString" type="String" mode="IN" optional="false"/>
        <attribute name="address1" type="String" mode="IN" optional="false"/>
        <attribute name="address2" type="String" mode="IN" optional="true"/>
        <attribute name="city" type="String" mode="IN" optional="false"/>
        <attribute name="stateProvinceGeoId" type="String" mode="IN" optional="true"/>
        <attribute name="postalCode" type="String" mode="IN" optional="false"/>
        <attribute name="countryGeoId" type="String" mode="IN" optional="false"/>
        <attribute name="stateProvinceGeoId" type="String" mode="IN" optional="false"/>
        <attribute name="amount" type="Double" mode="IN" optional="false"/>
        <attribute name="referenceCode" type="String" mode="IN" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
        <attribute name="tranRespMsgs" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="retryFailedAuths" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="retryFailedAuths" auth="true">
        <description>(Batch) Retries failed authorizations due to processor/connection problems</description>
        <!-- this service has no parameters IN or OUT -->
    </service>

    <service name="retryFailedOrderAuth" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="retryFailedOrderAuth" auth="true">
        <description>Retries failed authorizations due to processor/connection problems for an order</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="processResult" type="String" mode="OUT" optional="true"/>
        <attribute name="authResultMsgs" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="authOrderPayments" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="authOrderPayments" auth="true">
        <description>Process (authorizes/re-authorizes) payments for an order</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="processResult" type="String" mode="OUT" optional="false"/>
        <attribute name="authResultMsgs" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="releaseOrderPayments" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="releaseOrderPayments" auth="true">
        <description>Releases all payment authorizations for an order</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="processResult" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="capturePaymentsByInvoice" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="capturePaymentsByInvoice" auth="true">
        <description>Captures (settles) pre-authorized order payments by invoice</description>
        <attribute name="invoiceId" type="String" mode="IN" optional="false"/>
        <attribute name="processResult" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="captureOrderPayments" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="captureOrderPayments" auth="true">
        <description>Captures (settles) pre-authorized order payments</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="invoiceId" type="String" mode="IN" optional="true"/>
        <attribute name="billingAccountId" type="String" mode="IN" optional="true"/>
        <attribute name="captureAmount" type="Double" mode="IN" optional="false"/>
        <attribute name="processResult" type="String" mode="OUT" optional="false"/>
    </service>

    <service name="refundPayment" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="refundPayment" auth="true">
        <description>Refunds A Payment</description>
        <attribute name="orderPaymentPreference" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="refundAmount" type="Double" mode="IN" optional="false"/>
        <attribute name="paymentId" type="String" mode="OUT" optional="false"/>
    </service>

    <!-- Payment Gateway Interfaces -->
    <service name="paymentProcessInterface" engine="interface" location="" invoke="">
        <description>Generic Payment Processing Interface</description>
        <attribute name="orderId" type="String" mode="IN" optional="false"/>
        <attribute name="orderPaymentPreference" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="processAmount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="orderItems" type="List" mode="IN" optional="false"/>
        <attribute name="contactPerson" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="contactEmail" type="GenericValue" mode="IN" optional="true"/>
        <attribute name="billingAddress" type="GenericValue" mode="IN" optional="true"/>
        <attribute name="shippingAddress" type="GenericValue" mode="IN" optional="true"/>
        <attribute name="currency" type="String" mode="IN" optional="true"/>
        <attribute name="paymentConfig" type="String" mode="IN" optional="true"/>
        <attribute name="authResult" type="Boolean" mode="OUT" optional="true"/>
        <attribute name="captureResult" type="Boolean" mode="OUT" optional="true"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="authRefNum" type="String" mode="OUT" optional="false"/>
        <attribute name="authFlag" type="String" mode="OUT" optional="true"/>
        <attribute name="authMessage" type="String" mode="OUT" optional="true"/>
        <attribute name="cvCode" type="String" mode="OUT" optional="true"/>
        <attribute name="avsCode" type="String" mode="OUT" optional="true"/>
        <attribute name="scoreCode" type="String" mode="OUT" optional="true"/>
        <attribute name="captureCode" type="String" mode="OUT" optional="true"/>
        <attribute name="captureRefNum" type="String" mode="OUT" optional="true"/>
        <attribute name="internalRespMsgs" type="List" mode="OUT" optional="true"/>
        <attribute name="customerRespMsgs" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="paymentReleaseInterface" engine="interface" location="" invoke="">
        <description>Generic Payment Release (reverse) Interface</description>
        <attribute name="orderPaymentPreference" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="releaseAmount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="true"/>
        <attribute name="paymentConfig" type="String" mode="IN" optional="true"/>
        <attribute name="releaseResult" type="Boolean" mode="OUT" optional="true"/>
        <attribute name="releaseRefNum" type="String" mode="OUT" optional="false"/>
        <attribute name="releaseCode" type="String" mode="OUT" optional="true"/>
        <attribute name="releaseFlag" type="String" mode="OUT" optional="true"/>
        <attribute name="releaseMessage" type="String" mode="OUT" optional="true"/>
        <attribute name="internalRespMsgs" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="paymentCreditInterface" engine="interface" location="" invoke="">
        <description>Generic Payment Credit Interface</description>
        <attribute name="referenceCode" type="String" mode="IN" optional="false"/>
        <attribute name="creditAmount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="orderItems" type="List" mode="IN" optional="true"/>
        <attribute name="contactPerson" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="contactEmail" type="GenericValue" mode="IN" optional="true"/>
        <attribute name="billingAddress" type="GenericValue" mode="IN" optional="true"/>
        <attribute name="currency" type="String" mode="IN" optional="true"/>
        <attribute name="paymentConfig" type="String" mode="IN" optional="true"/>
        <attribute name="creditResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="creditRefNum" type="String" mode="OUT" optional="false"/>
        <attribute name="creditCode" type="String" mode="OUT" optional="true"/>
        <attribute name="creditFlag" type="String" mode="OUT" optional="true"/>
        <attribute name="creditMessage" type="String" mode="OUT" optional="true"/>
        <attribute name="internalRespMsgs" type="List" mode="OUT" optional="true"/>
    </service>

    <service name="paymentRefundInterface" engine="interface" location="" invoke="">
        <description>Generic Payment Refund Interface</description>
        <attribute name="orderPaymentPreference" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="refundAmount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="true"/>
        <attribute name="paymentConfig" type="String" mode="IN" optional="true"/>
        <attribute name="refundResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="refundRefNum" type="String" mode="OUT" optional="false"/>
        <attribute name="refundCode" type="String" mode="OUT" optional="true"/>
        <attribute name="refundFlag" type="String" mode="OUT" optional="true"/>
        <attribute name="refundMessage" type="String" mode="OUT" optional="true"/>
        <attribute name="internalRespMsgs" type="List" mode="OUT" optional="true"/>
    </service>

    <!-- Credit Card Interfaces -->
    <service name="ccAuthInterface" engine="interface" location="" invoke="">
        <description>Credit Card Authorization Interface</description>
        <implements service="paymentProcessInterface"/>
        <attribute name="creditCard" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="cardSecurityCode" type="String" mode="IN" optional="true"/>
    </service>

    <service name="ccCaptureInterface" engine="interface" location="" invoke="">
        <description>Credit Card Capture Interface</description>
        <attribute name="orderPaymentPreference" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="captureAmount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="true"/>
        <attribute name="paymentConfig" type="String" mode="IN" optional="true"/>
        <attribute name="captureResult" type="Boolean" mode="OUT" optional="true"/>
        <attribute name="captureRefNum" type="String" mode="OUT" optional="false"/>
        <attribute name="captureCode" type="String" mode="OUT" optional="true"/>
        <attribute name="captureFlag" type="String" mode="OUT" optional="true"/>
        <attribute name="captureMessage" type="String" mode="OUT" optional="true"/>
    </service>

    <service name="ccCreditInterface" engine="interface" location="" invoke="">
        <description>Credit Card 'Credit' Inteface</description>
        <implements service="paymentCreditInterface"/>
        <attribute name="creditCard" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="cardSecurityCode" type="String" mode="IN" optional="true"/>
    </service>

    <!-- EFT Account Interfaces -->
    <service name="eftProcessInterface" engine="interface" location="" invoke="">
        <description>EFT Account Processing Interface</description>
        <implements service="paymentProcessInterface"/>
        <attribute name="eftAccount" type="GenericValue" mode="IN" optional="false"/>
    </service>

    <!-- Gift Card Interfaces -->
    <service name="giftCardProcessInterface" engine="interface" location="" invoke="">
        <description>Gift Card Processing Interface</description>
        <implements service="paymentProcessInterface"/>
        <attribute name="giftCard" type="GenericValue" mode="IN" optional="false"/>
    </service>

    <!-- Test Implementations -->
    <service name="testCCProcessor" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="testProcessor">
        <description>Credit Card Processing</description>
        <implements service="ccAuthInterface"/>
    </service>
    <service name="alwaysApproveCCProcessor" engine="java"
             location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="alwaysApproveProcessor">
        <description>Credit Card Processing</description>
        <implements service="ccAuthInterface"/>
    </service>
    <service name="alwaysApproveWithCaptureCCProcessor" engine="java"
             location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="alwaysApproveWithCapture">
        <description>Credit Card Processing</description>
        <implements service="ccAuthInterface"/>
    </service>
    <service name="alwaysDeclineCCProcessor" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="alwaysDeclineProcessor">
        <description>Credit Card Processing</description>
        <implements service="ccAuthInterface"/>
    </service>
    <service name="alwaysFailCCProcessor" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="alwaysFailProcessor">
        <description>Credit Card Processing</description>
        <implements service="ccAuthInterface"/>
    </service>
    <service name="testCCCapture" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="testCapture">
        <description>Credit Card Test Capture</description>
        <implements service="ccCaptureInterface"/>
    </service>
    <service name="testCCRelease" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="testRelease">
        <description>Credit Card Test Release</description>
        <implements service="paymentReleaseInterface"/>
    </service>
    <service name="testCCRefund" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="testRefund">
        <description>Credit Card Test Refund</description>
        <implements service="paymentRefundInterface"/>
    </service>

    <!-- Test GiftCard Services -->
    <service name="alwaysApproveGCProcessor" engine="java"
             location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="alwaysApproveWithCapture">
        <description>Gift Card Processing</description>
        <implements service="giftCardProcessInterface"/>
    </service>
    <service name="alwaysDeclineGCProcessor" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="alwaysDeclineProcessor">
        <description>Gift Card Processing</description>
        <implements service="giftCardProcessInterface"/>
    </service>
    <service name="testGCRelease" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="testRelease">
        <description>Gift Card Test Release</description>
        <implements service="paymentReleaseInterface"/>
    </service>

    <!-- Test EFT Implementations -->
    <service name="testEFTProcessor" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="testProcessor">
        <description>EFT Account Processing</description>
        <implements service="eftProcessInterface"/>
    </service>
    <service name="alwaysApproveEFTProcessor" engine="java"
             location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="alwaysApproveProcessor">
        <description>EFT Account Processing</description>
        <implements service="eftProcessInterface"/>
    </service>
    <service name="alwaysDeclineEFTProcessor" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="alwaysDeclineProcessor">
        <description>EFT Account Processing</description>
        <implements service="eftProcessInterface"/>
    </service>
    <service name="testEFTRelease" engine="java"
            location="org.ofbiz.accounting.payment.PaymentGatewayServices" invoke="testRelease">
        <description>EFT Account Test Release</description>
        <implements service="paymentReleaseInterface"/>
    </service>

    <!-- Verisign Payflow Pro Implementations -->
    <service name="payflowCCProcessor" engine="java"
             location="org.ofbiz.accounting.thirdparty.verisign.PayflowPro" invoke="ccProcessor">
        <description>Credit Card Processing</description>
        <implements service="ccAuthInterface"/>
    </service>

    <!-- CyberSource Implementations -->
    <service name="cyberSourceCCAuth" engine="java"
            location="org.ofbiz.accounting.thirdparty.cybersource.IcsPaymentServices" invoke="ccAuth">
        <description>Credit Card Processing</description>
        <implements service="ccAuthInterface"/>
    </service>
    <service name="cyberSourceCCCapture" engine="java"
            location="org.ofbiz.accounting.thirdparty.cybersource.IcsPaymentServices" invoke="ccCapture">
        <description>Credit Card Processing</description>
        <implements service="ccCaptureInterface"/>
    </service>
    <service name="cyberSourceCCRelease" engine="java"
            location="org.ofbiz.accounting.thirdparty.cybersource.IcsPaymentServices" invoke="ccRelease">
        <description>Credit Card Processing</description>
        <implements service="paymentReleaseInterface"/>
    </service>
    <service name="cyberSourceCCRefund" engine="java"
            location="org.ofbiz.accounting.thirdparty.cybersource.IcsPaymentServices" invoke="ccRefund">
        <description>Credit Card Processing</description>
        <implements service="paymentRefundInterface"/>
    </service>
    <service name="cyberSourceCCCredit" engine="java"
            location="org.ofbiz.accounting.thirdparty.cybersource.IcsPaymentServices" invoke="ccCredit">
        <description>Credit Card Processing</description>
        <implements service="ccCreditInterface"/>
    </service>

    <!-- ClearCommerce Implementations -->
    <service name="clearCommerceCCAuth" engine="java"
            location="org.ofbiz.accounting.thirdparty.clearcommerce.CCPaymentServices" invoke="ccAuth">
        <description>ClearCommerce Credit Card Authorization</description>
        <implements service="ccAuthInterface"/>
    </service>
    <service name="clearCommerceCCCapture" engine="java"
            location="org.ofbiz.accounting.thirdparty.clearcommerce.CCPaymentServices" invoke="ccCapture">
        <description>ClearCommerce Credit Card Capture</description>
        <implements service="ccCaptureInterface"/>
    </service>
    <service name="clearCommerceCCRelease" engine="java"
            location="org.ofbiz.accounting.thirdparty.clearcommerce.CCPaymentServices" invoke="ccRelease">
        <description>ClearCommerce Credit Card Release</description>
        <implements service="paymentReleaseInterface"/>
    </service>
    <service name="clearCommerceCCRefund" engine="java"
            location="org.ofbiz.accounting.thirdparty.clearcommerce.CCPaymentServices" invoke="ccRefund">
        <description>ClearCommerce Credit Card Refund</description>
        <implements service="paymentRefundInterface"/>
    </service>
    <service name="clearCommerceCCCredit" engine="java"
            location="org.ofbiz.accounting.thirdparty.clearcommerce.CCPaymentServices" invoke="ccCredit">
        <description>ClearCommerce Credit Card Credit</description>
        <implements service="ccCreditInterface"/>
    </service>

    <!-- ValueLink Implementations -->
    <service name="valueLinkProcessor" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="giftCardProcessor" auth="true">
        <description>Gift Card Payment Processing</description>
        <implements service="giftCardProcessInterface"/>
    </service>
    <service name="valueLinkRelease" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="giftCardRelease" auth="true">
        <description>Gift Card Release (reverse) Payment</description>
        <implements service="paymentReleaseInterface"/>
    </service>
    <service name="valueLinkRefund" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="giftCardRefund" auth="true">
        <description>Gift Card Refund Payment</description>
        <implements service="paymentRefundInterface"/>
    </service>

    <!-- ValueLink Fulfillment Services -->
    <service name="valueLinkGcPurchase" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="giftCardPurchase" auth="true">
        <description>Gift Card Payment Processing</description>
        <implements service="itemFulfillmentInterface"/>
    </service>
    <service name="valueLinkGcReload" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="giftCardReload" auth="true">
        <description>Gift Card Payment Processing</description>
        <implements service="itemFulfillmentInterface"/>
    </service>
    <service name="createVLFulFillmentRecord" engine="java" require-new-transaction="true" use-transaction="true"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="createFulfillmentRecord" auth="true">
        <description>Creates the fulfillment log</description>
        <attribute name="typeEnumId" type="String" mode="IN" optional="false"/>
        <attribute name="merchantId" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="orderItemSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="surveyResponseId" type="String" mode="IN" optional="true"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="true"/>
        <attribute name="pinNumber" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="IN" optional="true"/>
        <attribute name="responseCode" type="String" mode="IN" optional="true"/>
        <attribute name="referenceNum" type="String" mode="IN" optional="true"/>
        <attribute name="authCode" type="String" mode="IN" optional="true"/>
    </service>
    <service name="refundVLReload" engine="java" require-new-transaction="true" use-transaction="true"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="refundReload" auth="true">
        <description>Creates return for reload on failure</description>
        <attribute name="orderItem" type="GenericValue" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
    </service>

    <!-- ValueLink Transaction Services -->
    <service name="createVLKeys" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="createKeys" auth="true">
        <description>Create Public/Private Keys + KEK and Display Them</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="kekOnly" type="Boolean" mode="IN" optional="true"/>
        <attribute name="kekTest" type="String" mode="IN" optional="true"/>
        <attribute name="output" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="testKekEncryption" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="testKekEncryption" auth="true">
        <description>Test KEK Encryption</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="kekTest" type="String" mode="IN" optional="false"/>
        <attribute name="mode" type="Integer" mode="IN" optional="false"/>
        <attribute name="output" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="assignWorkingKey" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="assignWorkingKey" auth="true">
        <description>Assign a new working key to ValueLink</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="desHexString" type="String" mode="IN" optional="true"/>
    </service>
    <service name="activateGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="activate" auth="true">
        <description>Activate (create new) gift card</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="vlPromoCode" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="cardNumber" type="String" mode="OUT" optional="true"/>
        <attribute name="pin" type="String" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="voidActivateGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="voidActivate" auth="true">
        <description>Void a Activate (create new) gift card</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="cardNumber" type="String" mode="INOUT" optional="true"/>
        <attribute name="pin" type="String" mode="INOUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="redeemGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="redeem" auth="true">
        <description>Redeem (take money off) gift card</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="previousAmount" type="Double" mode="OUT" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="cashBack" type="Double" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="voidRedeemGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="voidRedeem" auth="true">
        <description>Void a Redeem (take money off) gift card</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="previousAmount" type="Double" mode="OUT" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="cashBack" type="Double" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="reloadGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="reload" auth="true">
        <description>Reload (add money to) gift card</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="previousAmount" type="Double" mode="OUT" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="voidReloadGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="voidReload" auth="true">
        <description>Void a Reload (add money to) gift card</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="previousAmount" type="Double" mode="OUT" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="balanceInquireGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="balanceInquire" auth="false">
        <description>Inquire current card balance</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="balance" type="Double" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="transactionHistoryGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="transactionHistory" auth="false">
        <description>Obtain card transaction history</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="balance" type="Double" mode="OUT" optional="true"/>
        <attribute name="history" type="List" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="refundGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="refund" auth="true">
        <description>Refund a gift card</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="previousAmount" type="Double" mode="OUT" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="voidRefundGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="voidRefund" auth="true">
        <description>Refund a gift card</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="currency" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="amount" type="Double" mode="INOUT" optional="false"/>
        <attribute name="previousAmount" type="Double" mode="OUT" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="linkPhysicalGiftCard" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="linkPhysicalCard" auth="false">
        <description>Link a physical card to a virtual account</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="virtualCard" type="String" mode="IN" optional="false"/>
        <attribute name="virtualPin" type="String" mode="IN" optional="false"/>
        <attribute name="physicalCard" type="String" mode="IN" optional="false"/>
        <attribute name="physicalPin" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="authCode" type="String" mode="OUT" optional="true"/>
        <attribute name="amount" type="Double" mode="OUT" optional="false"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="disableGiftCardPin" engine="java"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="disablePin" auth="true">
        <description>Disable a gift card PIN</description>
        <attribute name="paymentConfig" type="String" mode="IN" optional="false"/>
        <attribute name="cardNumber" type="String" mode="IN" optional="false"/>
        <attribute name="pin" type="String" mode="IN" optional="false"/>
        <attribute name="orderId" type="String" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="processResult" type="Boolean" mode="OUT" optional="false"/>
        <attribute name="responseCode" type="String" mode="OUT" optional="false"/>
        <attribute name="balance" type="Double" mode="OUT" optional="true"/>
        <attribute name="expireDate" type="String" mode="OUT" optional="true"/>
        <attribute name="cardClass" type="String" mode="OUT" optional="true"/>
        <attribute name="referenceNum" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="vlTimeOutReversal" engine="java" validate="false"
            location="org.ofbiz.accounting.thirdparty.valuelink.ValueLinkServices" invoke="timeOutReversal" auth="true">
        <description></description>
    </service>

    <!-- ========= General Ledger Services ========= -->

    <!-- GlAccount & Related -->
    <service name="createGlAccount" default-entity-name="GlAccount" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="createGlAccount" auth="true">
        <description>Create a GlAccount record</description>
        <auto-attributes include="pk" mode="INOUT" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="glAccountTypeId" optional="false"/>
        <override name="glAccountClassId" optional="false"/>
        <override name="glResourceTypeId" optional="false"/>
        <override name="accountName" optional="false"/>
    </service>
    <service name="updateGlAccount" default-entity-name="GlAccount" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="updateGlAccount" auth="true">
        <description>Update a GlAccount record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="deleteGlAccount" default-entity-name="GlAccount" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="deleteGlAccount" auth="true">
        <description>Delete a GlAccount record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <service name="createGlAccountOrganization" default-entity-name="GlAccountOrganization" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="createGlAccountOrganization" auth="true">
        <description>Create a GlAccount record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="updateGlAccountOrganization" default-entity-name="GlAccountOrganization" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="updateGlAccountOrganization" auth="true">
        <description>Update a GlAccount record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="deleteGlAccountOrganization" default-entity-name="GlAccountOrganization" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="deleteGlAccountOrganization" auth="true">
        <description>Delete a GlAccount record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- GlJournal -->
    <service name="createGlJournal" default-entity-name="GlJournal" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="createGlJournal" auth="true">
        <description>Create a GlJournal record</description>
        <auto-attributes include="pk" mode="OUT" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true">
            <exclude field-name="isPosted"/>
            <exclude field-name="postedDate"/>
        </auto-attributes>
        <override name="organizationPartyId" optional="false"/>
    </service>
    <service name="updateGlJournal" default-entity-name="GlJournal" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="updateGlJournal" auth="true">
        <description>Update a GlJournal record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true">
            <exclude field-name="isPosted"/>
            <exclude field-name="postedDate"/>
        </auto-attributes>
    </service>
    <service name="deleteGlJournal" default-entity-name="GlJournal" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="deleteGlJournal" auth="true">
        <description>Delete a GlJournal record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <service name="calculateGlJournalTrialBalance" default-entity-name="GlJournal" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="calculateGlJournalTrialBalance" auth="true">
        <description>Calculate Trial Balance for a GlJournal</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
    <service name="postGlJournal" default-entity-name="GlJournal" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="postGlJournal" auth="true">
        <description>Post a GlJournal</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <!-- GlReconciliation & Related -->
    <service name="createGlReconciliation" default-entity-name="GlReconciliation" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="createGlReconciliation" auth="true">
        <description>Create a GlReconciliation record</description>
        <auto-attributes include="pk" mode="OUT" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true">
            <exclude field-name="createdByUserLogin"/>
            <exclude field-name="lastModifiedByUserLogin"/>
        </auto-attributes>
        <override name="glReconciliationName" optional="false"/>
    </service>
    <service name="updateGlReconciliation" default-entity-name="GlReconciliation" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="updateGlReconciliation" auth="true">
        <description>Update a GlReconciliation record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true">
            <exclude field-name="createdByUserLogin"/>
            <exclude field-name="lastModifiedByUserLogin"/>
        </auto-attributes>
    </service>
    <service name="deleteGlReconciliation" default-entity-name="GlReconciliation" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="deleteGlReconciliation" auth="true">
        <description>Delete a GlReconciliation record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <service name="createGlReconciliationEntry" default-entity-name="GlReconciliationEntry" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="createGlReconciliationEntry" auth="true">
        <description>Add an Entry to a GlReconciliation</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="false"/>
    </service>
    <service name="updateGlReconciliationEntry" default-entity-name="GlReconciliationEntry" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="updateGlReconciliationEntry" auth="true">
        <description>Update an Entry to a GlReconciliation record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="false"/>
    </service>
    <service name="deleteGlReconciliationEntry" default-entity-name="GlReconciliationEntry" engine="simple"
            location="org/ofbiz/accounting/ledger/GeneralLedgerServices.xml" invoke="deleteGlReconciliationEntry" auth="true">
        <description>Remove an Entry from a GlReconciliation</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

        <!-- AcctgTrans & Related -->
    <service name="interfaceAcctgTrans" default-entity-name="AcctgTrans" engine="interface" location="" invoke="">
        <auto-attributes include="nonpk" mode="IN" optional="true">
            <exclude field-name="isPosted"/>
            <exclude field-name="postedDate"/>
            <exclude field-name="createdByUserLogin"/>
            <exclude field-name="lastModifiedByUserLogin"/>
        </auto-attributes>
        <override name="acctgTransTypeId" optional="false"/>
        <override name="transactionDate" optional="false"/>
        <override name="glFiscalTypeId" optional="false"/>
    </service>
    <service name="createAcctgTrans" default-entity-name="AcctgTrans" engine="simple"
            location="org/ofbiz/accounting/ledger/AcctgTransServices.xml" invoke="createAcctgTrans" auth="true">
        <description>Create a AcctgTrans record</description>
        <implements service="interfaceAcctgTrans"/>
        <auto-attributes include="pk" mode="OUT" optional="false"/>
    </service>
    <service name="updateAcctgTrans" default-entity-name="AcctgTrans" engine="simple"
            location="org/ofbiz/accounting/ledger/AcctgTransServices.xml" invoke="updateAcctgTrans" auth="true">
        <description>Update a AcctgTrans record</description>
        <implements service="interfaceAcctgTrans"/>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
    <service name="deleteAcctgTrans" default-entity-name="AcctgTrans" engine="simple"
            location="org/ofbiz/accounting/ledger/AcctgTransServices.xml" invoke="deleteAcctgTrans" auth="true">
        <description>Delete a AcctgTrans record</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <service name="calculateAcctgTransTrialBalance" default-entity-name="AcctgTrans" engine="simple"
            location="org/ofbiz/accounting/ledger/AcctgTransServices.xml" invoke="calculateAcctgTransTrialBalance" auth="true">
        <description>Calculate Trial Balance for a AcctgTrans</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
    <service name="postAcctgTrans" default-entity-name="AcctgTrans" engine="simple"
            location="org/ofbiz/accounting/ledger/AcctgTransServices.xml" invoke="postAcctgTrans" auth="true">
        <description>Post a AcctgTrans</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>

    <service name="interfaceAcctgTransEntry" default-entity-name="AcctgTransEntry" engine="interface" location="" invoke="">
        <auto-attributes include="nonpk" mode="IN" optional="true">
            <exclude field-name="reconcileStatusId"/>
        </auto-attributes>
        <override name="acctgTransEntryTypeId" optional="false"/>
        <override name="glAccountId" optional="false"/>
        <override name="organizationPartyId" optional="false"/>
        <override name="amount" optional="false"/>
        <override name="debitCreditFlag" optional="false"/>
    </service>
    <service name="createAcctgTransEntry" default-entity-name="AcctgTransEntry" engine="simple"
            location="org/ofbiz/accounting/ledger/AcctgTransServices.xml" invoke="createAcctgTransEntry" auth="true">
        <description>Add an Entry to a AcctgTrans</description>
        <implements service="interfaceAcctgTransEntry"/>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <override name="acctgTransEntrySeqId" mode="OUT"/>
    </service>
    <service name="updateAcctgTransEntry" default-entity-name="AcctgTransEntry" engine="simple"
            location="org/ofbiz/accounting/ledger/AcctgTransServices.xml" invoke="updateAcctgTransEntry" auth="true">
        <description>Update an Entry to a AcctgTrans record</description>
        <implements service="interfaceAcctgTransEntry"/>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
    <service name="deleteAcctgTransEntry" default-entity-name="AcctgTransEntry" engine="simple"
            location="org/ofbiz/accounting/ledger/AcctgTransServices.xml" invoke="deleteAcctgTransEntry" auth="true">
        <description>Remove an Entry from a AcctgTrans</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
</services>
