<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE screens PUBLIC "-//OFBiz//DTD OFBiz Screen Widget//EN" "http://www.ofbiz.org/dtds/widget-screen.dtd">

<!--
 *  Copyright (c) 2004 The Open For Business Project - www.ofbiz.org
 *
 *  Permission is hereby granted, free of charge, to any person obtaining a
 *  copy of this software and associated documentation files (the "Software"),
 *  to deal in the Software without restriction, including without limitation
 *  the rights to use, copy, modify, merge, publish, distribute, sublicense,
 *  and/or sell copies of the Software, and to permit persons to whom the
 *  Software is furnished to do so, subject to the following conditions:
 *
 *  The above copyright notice and this permission notice shall be included
 *  in all copies or substantial portions of the Software.
 *
 *  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 *  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 *  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 *  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 *  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
 *  OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR
 *  THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 *  $Id: CommonScreens.xml 2951 2004-08-03 16:33:32Z byersa $
-->


<screens>
	<screen name="cmsCommon">
		<section>
		<actions>
		    <script location="component://content/widget/getMenuContext.bsh"/>
		</actions>
                  <widgets>
                       <decorator-screen name="main" location="component://content/widget/CommonScreens.xml" >
                         <decorator-section name="body">
                           <menu name="cms" location="component://content/webapp/content/cms/CMSMenus.xml" />
                           <decorator-section-include name="body"/>
                          </decorator-section>
                        </decorator-screen>
                  </widgets>
		</section>
	</screen>

	<screen name="CMSContentFind">
		<section>
		<actions>
		    <script location="component://content/widget/getMenuContext.bsh"/>
                    <set field="title" value="CMS Content Find Page"/>
                    <set field="titleProperty" value="PageTitleEditOfbizDoc"/>
                    <set field="entityName" value="ContentAssocDataResourceViewFrom"/>
                    <service service-name="performFind" result-map-name="result">
                    	<field-map field-name="inputFields" env-name="requestParameters"/>
                    	<field-map field-name="entityName" env-name="entityName"/>
                    </service>
                    <set field="queryString" from-field="result.queryString"/>
		</actions>
                  <widgets>
                       <decorator-screen name="cmsCommon" >
                         <decorator-section name="body">
                           <form name="findContent" location="component://content/webapp/content/cms/CMSForms.xml" />
                           <form name="listFindContent" location="component://content/webapp/content/cms/CMSForms.xml" />
                          </decorator-section>
                        </decorator-screen>
                  </widgets>
		</section>
	</screen>

	<screen name="CMSContentEdit">
		<section>
		<actions>
		    <script location="component://content/widget/getMenuContext.bsh"/>
                    <set field="title" value="CMS Content Edit Page"/>
                    <set field="titleProperty" value="PageTitleEditContent"/>
			<entity-one entity-name="Content" value-name="currentValue">
				<field-map field-name="contentId" env-name="parameters.contentId"/>
			</entity-one>
		</actions>
                  <widgets>
                       <decorator-screen name="cmsCommon" >
                         <decorator-section name="body">
                           <form name="EditContent" location="component://content/webapp/content/cms/CMSForms.xml" />
                          </decorator-section>
                        </decorator-screen>
                  </widgets>
		</section>
	</screen>
	
	<screen name="CMSContentAdd">
		<section>
		<actions>
		    <script location="component://content/widget/getMenuContext.bsh"/>
                    <set field="title" value="CMS Content Edit Page"/>
                    <set field="titleProperty" value="PageTitleEditContent"/>
		</actions>
                  <widgets>
                       <decorator-screen name="cmsCommon" >
                         <decorator-section name="body">
                           <form name="AddContent" location="component://content/webapp/content/cms/CMSForms.xml" />
                          </decorator-section>
                        </decorator-screen>
                  </widgets>
		</section>
	</screen>
	
	<screen name="AdminSearch">
		<section>
		<actions>
		    <script location="component://content/widget/getMenuContext.bsh"/>
		    <script location="component://content/webapp/content/WEB-INF/actions/cms/advancedsearchprep.bsh"/>
		    <script location="component://content/webapp/content/WEB-INF/actions/cms/search.bsh"/>
                    <set field="title" value="CMS Search Page"/>
                    <set field="titleProperty" value="PageTitleSearchContent"/>
		</actions>
                  <widgets>
                       <decorator-screen name="cmsCommon" >
                         <decorator-section name="body">
                    		<platform-specific>
                         		<html>
                             		<html-template location="component://content/webapp/content/cms/AdminSearch.ftl"/>
                         		</html>
                    		</platform-specific>
                           <form name="searchList" location="component://content/webapp/content/cms/CMSForms.xml" />
                          </decorator-section>
                        </decorator-screen>
                  </widgets>
		</section>
	</screen>

	
	<screen name="AdminIndex">
		<section>
		<actions>
		    <script location="component://content/widget/getMenuContext.bsh"/>
                    <set field="title" value="CMS Search Page"/>
                    <set field="titleProperty" value="PageTitleSearchContent"/>
		</actions>
                  <widgets>
                       <decorator-screen name="cmsCommon" >
                         <decorator-section name="body">
                           <form name="AdminIndex" location="component://content/webapp/content/cms/CMSForms.xml" />
                           <form name="AdminIndexAll" location="component://content/webapp/content/cms/CMSForms.xml" />
                          </decorator-section>
                        </decorator-screen>
                  </widgets>
		</section>
	</screen>
	
	<screen name="CMSSites">
		<section>
		<actions>
		    <script location="component://content/widget/getMenuContext.bsh"/>
                    <set field="title" value="CMS Search Page"/>
                    <set field="titleProperty" value="PageTitleSearchContent"/>
                    <set field="forumId" from-field="parameters.contentId"/>
		</actions>
                  <widgets>
                       <decorator-screen name="cmsCommon" >
                         <decorator-section name="body">
                           <form name="searchQuery" location="component://content/webapp/content/cms/CMSForms.xml" />
                    <platform-specific>
                         <html>
                             <html-template location="component://content/webapp/content/cms/CMSSites.ftl"/>
                         </html>
                    </platform-specific>
                          </decorator-section>
                        </decorator-screen>
                  </widgets>
		</section>
	</screen>

</screens>

