<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE entity-eca PUBLIC "-//OFBiz//DTD Entity ECA Config//EN" "http://www.ofbiz.org/dtds/entity-eca.dtd">

<entity-eca>
    <!-- Inventory Issue ECAs for Immediately Fulfilled Orders -->
    <eca entity="OrderHeader" operation="create-store" event="return">
        <condition field-name="statusId" operator="equals" value="ORDER_COMPLETED"/>
        <condition field-name="needsInventoryIssuance" operator="equals" value="Y"/>
        <action service="issueImmediatelyFulfilledOrder" mode="sync"/>
    </eca>

    <!-- Inventory Receive ECAs for Immediately Received Returns -->
    <eca entity="ReturnHeader" operation="create-store" event="return">
        <condition field-name="statusId" operator="equals" value="RETURN_ACCEPTED"/>
        <condition field-name="needsInventoryReceive" operator="equals" value="Y"/>
        <action service="quickReceiveReturn" mode="sync"/>
    </eca>
</entity-eca>
