<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE services PUBLIC "-//OFBiz//DTD Services Config//EN" "http://www.ofbiz.org/dtds/services.dtd">

<services>
    <description>Common Application Shared WorkEffort Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>

  <!-- WorkEffort services -->
    <service name="interfaceWorkEffort" default-entity-name="WorkEffort" engine="interface" location="" invoke="">
        <description>WorkEffort Entity Interface</description>
        <auto-attributes mode="IN" include="nonpk" optional="true">
            <exclude field-name="lastStatusUpdate"/>
            <exclude field-name="revisionNumber"/>
            <exclude field-name="createdDate"/>
            <exclude field-name="createdByUserLogin"/>
            <exclude field-name="lastModifiedDate"/>
            <exclude field-name="lastModifiedByUserLogin"/>
        </auto-attributes>
    </service>
    <service name="createWorkEffort" default-entity-name="WorkEffort" engine="simple"
            location="org/ofbiz/workeffort/workeffort/WorkEffortSimpleServices.xml" invoke="createWorkEffort">
        <description>Create a WorkEffort Entity</description>
        <implements service="interfaceWorkEffort"/>        
        <auto-attributes mode="OUT" include="pk" optional="false"/>
        <attribute name="quickAssignPartyId" type="String" mode="IN" optional="true"/>
        <attribute name="requirementId" type="String" mode="IN" optional="true"/>
        <attribute name="communicationEventId" type="String" mode="IN" optional="true"/>
        <override name="workEffortTypeId" optional="false"/>
        <override name="workEffortName" optional="false"/>
        <override name="currentStatusId" optional="false"/>
    </service>
    <service name="updateWorkEffort" default-entity-name="WorkEffort" engine="simple"
            location="org/ofbiz/workeffort/workeffort/WorkEffortSimpleServices.xml" invoke="updateWorkEffort">
        <description>Update a WorkEffort Entity</description>
        <implements service="interfaceWorkEffort"/>
        <auto-attributes mode="IN" include="pk" optional="false"/>
        <attribute name="communicationEventId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="deleteWorkEffort" default-entity-name="WorkEffort" engine="simple"
            location="org/ofbiz/workeffort/workeffort/WorkEffortSimpleServices.xml" invoke="deleteWorkEffort">
        <description>Delete a WorkEffort Entity</description>
        <auto-attributes mode="IN" include="pk" optional="false"/>        
    </service>
    
    <!-- Communication Event WorkEffort -->
    <service name="makeCommunicationEventWorkEffort" default-entity-name="CommunicationEventWorkEff" engine="simple"
            location="org/ofbiz/workeffort/workeffort/WorkEffortSimpleServices.xml" invoke="makeCommunicationEventWorkEffort" auth="true">
        <description>Make a Communication Event Workeffort</description>
        <auto-attributes include="all" mode="IN" optional="false"/>
        <override name="description" optional="true"/>
    </service>

    <!-- WorkEffortPartyAssignment services -->
    <service name="assignPartyToWorkEffort" default-entity-name="WorkEffortPartyAssignment" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortPartyAssignmentServices" invoke="assignPartyToWorkEffort">
        <description>Create a WorkEffortPartyAssignment Entity</description>
        <auto-attributes mode="IN" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true">
            <exclude field-name="statusDateTime"/>
        </auto-attributes>
        <override name="fromDate" mode="INOUT" optional="true"/>
        <override name="statusId" optional="false"/>
    </service>
    <service name="updatePartyToWorkEffortAssignment" default-entity-name="WorkEffortPartyAssignment" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortPartyAssignmentServices" invoke="updatePartyToWorkEffortAssignment">
        <description>Update a WorkEffortPartyAssignment Entity</description>
        <auto-attributes mode="IN" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true">
            <exclude field-name="statusDateTime"/>
        </auto-attributes>
    </service>
    <service name="unassignPartyFromWorkEffort" default-entity-name="WorkEffortPartyAssignment" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortPartyAssignmentServices" invoke="unassignPartyFromWorkEffort">
        <description>Delete a WorkEffortPartyAssignment Entity</description>
        <auto-attributes mode="IN" include="pk" optional="false"/>
    </service>

    <service name="quickAssignPartyToWorkEffort" engine="simple"
            location="org/ofbiz/workeffort/workeffort/WorkEffortSimpleServices.xml" invoke="quickAssignPartyToWorkEffort">
        <description>Quick Assign Party To WorkEffort as Owner</description>
        <attribute name="workEffortId" type="String" mode="IN" optional="false"/>
        <attribute name="quickAssignPartyId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="quickAssignPartyToWorkEffortWithRole" engine="simple"
            location="org/ofbiz/workeffort/workeffort/WorkEffortSimpleServices.xml" invoke="quickAssignPartyToWorkEffortWithRole">
        <description>Quick Assign Party To WorkEffort as Owner</description>
        <attribute name="workEffortId" type="String" mode="IN" optional="false"/>
        <attribute name="quickAssignPartyId" type="String" mode="IN" optional="false"/>
        <attribute name="roleTypeId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="createWorkEffortNote" engine="simple"
            location="org/ofbiz/workeffort/workeffort/WorkEffortSimpleServices.xml" invoke="createWorkEffortNote">
        <description>Create a WorkEffort Note</description>
        <attribute name="workEffortId" type="String" mode="IN" optional="false"/>
        <attribute name="noteInfo" type="String" mode="IN" optional="false"/>
        <attribute name="noteParty" type="String" mode="IN" optional="true"/>
        <attribute name="noteName" type="String" mode="IN" optional="true"/>
        <attribute name="noteId" type="String" mode="OUT" optional="false"/>
    </service>
    
    <!-- Services for finding Assigned WorkEfforts -->
    <service name="getWorkEffortAssignedTasks" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortServices" invoke="getWorkEffortAssignedTasks">
        <description>Get WorkEffort Assigned Tasks</description>
        <attribute name="tasks" type="java.util.List" mode="OUT" optional="false"/>
    </service>
    <service name="getWorkEffortAssignedActivities" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortServices" invoke="getWorkEffortAssignedActivities">
        <description>Get WorkEffort Assigned Activities</description>
        <attribute name="activities" type="java.util.List" mode="OUT" optional="false"/>
    </service>
    <service name="getWorkEffortAssignedActivitiesByRole" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortServices" invoke="getWorkEffortAssignedActivitiesByRole">
        <description>Get WorkEffort Assigned Activities By Role</description>
        <attribute name="roleActivities" type="java.util.List" mode="OUT" optional="false"/>
    </service>
    <service name="getWorkEffortAssignedActivitiesByGroup" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortServices" invoke="getWorkEffortAssignedActivitiesByGroup">
        <description>Get WorkEffort Assigned Activities By Group</description>
        <attribute name="groupActivities" type="java.util.List" mode="OUT" optional="false"/>
    </service>
    
    <!-- Worker services -->
    <service name="getWorkEffort" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortServices" invoke="getWorkEffort">
        <description>Get WorkEffort</description>
        <attribute name="workEffortId" type="java.lang.String" mode="INOUT" optional="true"/>
        <attribute name="currentStatusId" type="java.lang.String" mode="IN" optional="true"/>
        <attribute name="workEffort" type="org.ofbiz.entity.GenericValue" mode="OUT" optional="true"/>
        <attribute name="canView" type="java.lang.Boolean" mode="OUT" optional="true"/>
        <attribute name="tryEntity" type="java.lang.Boolean" mode="OUT" optional="true"/>
        <attribute name="currentStatusItem" type="org.ofbiz.entity.GenericValue" mode="OUT" optional="true"/>
        <attribute name="partyAssigns" type="java.util.Collection" mode="OUT" optional="true"/>
    </service>    
    <service name="getWorkEffortEventsByDays" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortServices" invoke="getWorkEffortEventsByDays">
        <description>Get WorkEffort Events by days</description>
        <attribute name="startDay" type="java.sql.Timestamp" mode="IN" optional="false"/>
        <attribute name="numDays" type="java.lang.Integer" mode="IN" optional="true"/>
        <attribute name="days" type="java.util.List" mode="OUT" optional="false"/>
    </service>      
    <service name="getWorkEffortEventsByPeriod" auth="true" engine="java"
            location="org.ofbiz.workeffort.workeffort.WorkEffortServices" invoke="getWorkEffortEventsByPeriod">
        <description>Get WorkEffort Events by a period spcified by periodSeconds attribute. Returna a Map with periodStart as the key and a Collection of events for that period as value</description>
        <attribute name="partyId" type="String" mode="IN" optional="true"/>
        <attribute name="facilityId" type="String" mode="IN" optional="true"/>
        <attribute name="start" type="java.sql.Timestamp" mode="IN" optional="false"/>
        <attribute name="numPeriods" type="java.lang.Integer" mode="IN" optional="false"/>
        <attribute name="periodSeconds" type="java.lang.Integer" mode="IN" optional="false"/>
        <attribute name="periods" type="java.util.List" mode="OUT" optional="false"/>
        <attribute name="maxConcurrentEntries" type="java.lang.Integer" mode="OUT" optional="false"/>
    </service>          
</services>
