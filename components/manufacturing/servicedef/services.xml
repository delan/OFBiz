<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE services PUBLIC "-//OFBiz//DTD Services Config//EN" "http://www.ofbiz.org/dtds/services.dtd">

<services>
    <description>Common Application Shared Manufacturing Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>

    <!-- Routing services -->
    <service name="createMachineGroup" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createMachineGroup">
        <description>Create a Machine Group</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
        <attribute name="fixedAssetName" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateMachineGroup" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateMachineGroup">
        <description>Update a Machine Group</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
        <attribute name="fixedAssetName" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createCalendar" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createCalendar">
        <description>Create a calendar</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateCalendar" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateCalendar">
        <description>Update a calendar</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="removeCalendar" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeCalendar">
        <description>Remove a calendar</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="createCalendarWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createCalendarWeek">
        <description>Create a Calendar Week</description>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="false"/>
        	<attribute name="description" type="String" mode="IN" optional="true"/>
           <attribute name="mondayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="mondayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="tuesdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="tuesdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="wednesdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="wednesdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="thursdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="thursdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="fridayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="fridayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="saturdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="saturdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="sundayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="sundayCapacity" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="updateCalendarWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateCalendarWeek">
        <description>Update a Calendar Week</description>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="false"/>
        	<attribute name="description" type="String" mode="IN" optional="true"/>
           <attribute name="mondayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="mondayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="tuesdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="tuesdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="wednesdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="wednesdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="thursdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="thursdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="fridayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="fridayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="saturdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="saturdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="sundayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="sundayCapacity" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="removeCalendarWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeCalendarWeek">
        <description>Remove a Calendar Week</description>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="false"/>
    </service>

    <service name="createCalendarExceptionDay" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createCalendarExceptionDay">
        <description>Create a calendar ExceptionDay</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="exceptionDateStartTime" type="java.sql.Timestamp" mode="IN" optional="false"/>
        <attribute name="exceptionCapacity" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="updateCalendarExceptionDay" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateCalendarExceptionDay">
        <description>Update a calendar ExceptionDay</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="exceptionDateStartTime" type="java.sql.Timestamp" mode="IN" optional="false"/>
        <attribute name="exceptionCapacity" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="removeCalendarExceptionDay" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeCalendarExceptionDay">
        <description>Update a calendar ExceptionDay</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="exceptionDateStartTime" type="java.sql.Timestamp" mode="IN" optional="false"/>
    </service>
    
     <service name="createCalendarExceptionWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createCalendarExceptionWeek">
        <description>Create a Calendar Exception Week</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="exceptionDateStart" type="java.sql.Date" mode="IN" optional="false"/>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateCalendarExceptionWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateCalendarExceptionWeek">
        <description>Update a Calendar Exception Week</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="exceptionDateStart" type="java.sql.Date" mode="IN" optional="false"/>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="removeCalendarExceptionWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeCalendarExceptionWeek">
        <description>Remove a Calendar Exception Week</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="exceptionDateStart" type="java.sql.Date" mode="IN" optional="false"/>
    </service>
    
    <service name="createMachine" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createMachine">
        <description>Create a Machine</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
        <attribute name="fixedAssetName" type="String" mode="IN" optional="true"/>
        <attribute name="parentFixedAssetId" type="String" mode="IN" optional="true"/>
        <attribute name="calendarId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateMachine" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateMachine">
        <description>Update a Machine</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
        <attribute name="fixedAssetName" type="String" mode="IN" optional="true"/>
        <attribute name="parentFixedAssetId" type="String" mode="IN" optional="true"/>
        <attribute name="calendarId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="removeMachine" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeMachine">
        <description>Remove a Machine</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
    </service>
    
    <!-- Misc services -->
    <service name="lookupRoutingTask" engine="java"
            location="org.ofbiz.manufacturing.techdata.TechDataServices" invoke="lookupRoutingTask" auth="true">
        <description>Only used to defined the query lookup for Routing Task</description>
        <attribute name="workEffortName" type="String" form-display="true" form-label="${uiLabelMap.ManufacturingTaskName}" mode="IN" optional="true"/>
        <attribute name="fixedAssetId" type="String" form-display="true" form-label="${uiLabelMap.ManufacturingMachineGroup}" mode="IN" optional="true"/>
        <attribute name="lookupResult" type="List" mode="OUT" optional="false"/>
    </service>
    <service name="checkRoutingTaskAssoc" engine="java"
            location="org.ofbiz.manufacturing.techdata.TechDataServices" invoke="checkRoutingTaskAssoc" auth="true">
        <description>Check if a new routingTaskAssoc is ok or not (same SeqId and Date)</description>
        <auto-attributes entity-name="WorkEffortAssoc" include="pk" mode="IN"/>
        <attribute name="sequenceNum" type="Long" mode="IN" optional="true"/>
        <attribute name="thruDate" type="java.sql.Timestamp" mode="IN" optional="true"/>
        <attribute name="create" type="String" mode="IN" optional="true"/>
        <attribute name="sequenceNumNotOk" type="String" mode="OUT" optional="false"/> 
    </service>

    <!-- Job Shop Management services -->
    <service name="createProductionRun" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="createProductionRun" auth="true">
        <description>Create a Production Run</description>
        <attribute name="productId" type="String" mode="IN" optional="false"/>
        <attribute name="pRQuantity" type="Double" mode="IN" optional="false"/>
        <attribute name="startDate" type="java.sql.Timestamp" mode="IN" optional="false"/>
        <attribute name="facilityId" type="String" mode="IN" optional="false"/>
        <attribute name="routingId" type="String" mode="IN" optional="true"/>
        <attribute name="workEffortName" type="String" mode="IN" optional="true"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="productionRunId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="updateProductionRun" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="updateProductionRun" auth="true">
        <description>Update a Production Run</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="quantity" type="Double" mode="IN"/>
        <attribute name="estimatedStartDate" type="Timestamp" mode="IN"/>
        <attribute name="workEffortName" type="String" mode="IN" optional="true"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
    </service>
    <service name="changeProductionRunStatus" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="changeProductionRunStatus" auth="true">
        <description>Change the Production Run status</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="statusId" type="String" mode="IN" optional="true"/>
        <attribute name="newStatusId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="changeProductionRunTaskStatus" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="changeProductionRunTaskStatus" auth="true">
        <description>Change the Production Run Task status</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="taskId" type="String" mode="IN" optional="false"/>
        <attribute name="statusId" type="String" mode="IN" optional="true"/>
        <attribute name="newStatusId" type="String" mode="OUT" optional="false"/>
    </service>
    <service name="addProductionRunRoutingTask" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="addProductionRunRoutingTask" auth="true">
        <description>add a RoutingTask to an existing ProductionRun</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="routingTaskId" type="String" mode="INOUT" optional="false"/>
        <attribute name="priority" type="Long" mode="IN" optional="false"/>
        <attribute name="estimatedSetupMillis" type="Double" mode="IN" optional="true"/>
        <attribute name="estimatedMilliSeconds" type="Double" mode="IN" optional="true"/>
        <attribute name="workEffortName" type="String" mode="IN" optional="true"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="estimatedStartDate" type="Timestamp" mode="INOUT" optional="true"/>
        <attribute name="estimatedCompletionDate" type="Timestamp" mode="INOUT" optional="true"/>
    </service>
    <service name="checkUpdatePrunRoutingTask" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="checkUpdatePrunRoutingTask" auth="true">
        <description>check if field for routingTask update are correct and if needed  recalculated data and update Production Run</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="routingTaskId" type="String" mode="IN" optional="false"/>
        <attribute name="priority" type="Long" mode="IN"/>
        <attribute name="estimatedStartDate" type="Timestamp" mode="IN"/>
        <attribute name="estimatedSetupMillis" type="Double" mode="IN"/>
        <attribute name="estimatedMilliSeconds" type="Double" mode="IN"/>
    </service>
    <!-- TODO: NOT STILL IMPLEMENTED ('deleteWorkEffort' is called directly) -->
    <service name="deleteProductionRunRoutingTask" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="deleteProductionRunRoutingTask" auth="true">
        <description>delete a RoutingTask to an existing ProductionRun</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="routingTaskId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="addProductionRunComponent" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="addProductionRunComponent" auth="true">
        <description>add a Product Component to an existing ProductionRun</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="productId" type="String" mode="IN" optional="false"/>
        <attribute name="estimatedQuantity" type="Double" mode="IN"/>
        <attribute name="workEffortId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateProductionRunComponent" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="updateProductionRunComponent" auth="true">
        <description>update a Product Component to an existing ProductionRun</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="productId" type="String" mode="IN" optional="false"/>
        <attribute name="workEffortId" type="String" mode="IN" optional="true"/>
        <attribute name="estimatedQuantity" type="Double" mode="IN" optional="true"/>
    </service>
    <!-- TODO: NOT STILL IMPLEMENTED ('removeWorkEffortGoodStandard' is called directly) -->
    <service name="deleteProductionRunComponent" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="deleteProductionRunComponent" auth="true">
        <description>delete a Product Component to an existing ProductionRun</description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="productId" type="String" mode="IN" optional="false"/>
    </service>
    <service name="issueProductionRunTask" engine="simple"
                location="org/ofbiz/manufacturing/jobshopmgt/ProductionRunServices.xml" invoke="issueProductionRunTask" auth="false">
        <description>
            Issues the Inventory for a Production Run Task.
            Note that this skips the normal inventory reservation process.
        </description>
        <attribute name="workEffortId" type="String" mode="IN" optional="false"/>
        <attribute name="reserveOrderEnumId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="issueProductionRunTaskComponent" engine="simple"
                location="org/ofbiz/manufacturing/jobshopmgt/ProductionRunServices.xml" invoke="issueProductionRunTaskComponent" auth="false">
        <description>
            Issues the Inventory for a Production Run Task Component. For more info see the issueProductionRunTask service.
        </description>
        <attribute name="workEffortId" type="String" mode="IN" optional="false"/>
        <attribute name="productId" type="String" mode="IN" optional="false"/>
        <attribute name="workEffort" type="GenericValue" mode="IN" optional="true"/>
        <attribute name="workEffortGoodStandard" type="GenericValue" mode="IN" optional="true"/>
        <attribute name="reserveOrderEnumId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="createWorkEffortInventoryAssign" default-entity-name="WorkEffortInventoryAssign" engine="simple"
            location="org/ofbiz/manufacturing/jobshopmgt/ProductionRunServices.xml" invoke="createWorkEffortInventoryAssign" auth="true">
        <description>Create WorkEffortInventoryAssign</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="productionRunProduce" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="productionRunProduce" auth="true">
        <description>
            Create Inventory for product produced by a Production Run.
        </description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="quantity" type="Double" mode="INOUT" optional="true"/>
        <attribute name="createSerializedInventory" type="Boolean" mode="IN" optional="true"/>
        <attribute name="lotId" type="String" mode="IN" optional="true"/>
        <attribute name="createLotIfNeeded" type="Boolean" mode="IN" optional="true"/>
        <attribute name="autoCreateLot" type="Boolean" mode="IN" optional="true"/>
    </service>
    <service name="updateProductionRunTask" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="updateProductionRunTask" auth="true">
        <description>
            Add a TimeEntry for the production run task and updates the relevant fields.
        </description>
        <attribute name="productionRunId" type="String" mode="IN" optional="false"/>
        <attribute name="productionRunTaskId" type="String" mode="IN" optional="false"/>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="fromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="addQuantityProduced" type="Double" mode="IN" optional="true"/>
        <attribute name="addQuantityRejected" type="Double" mode="IN" optional="true"/>
        <attribute name="addSetupTime" type="Double" mode="IN" optional="true"/>
        <attribute name="addTaskTime" type="Double" mode="IN" optional="true"/>
        <attribute name="comments" type="String" mode="IN" optional="true"/>
    </service>

    <!-- MRP services -->
    <service name="runningMrp" engine="java"
            location="org.ofbiz.manufacturing.mrp.MrpServices" invoke="runningMrp" auth="true" use-transaction="false">
        <description>Performs a run of Mrp</description>
        <attribute name="facilityId" type="String" form-display="true" form-label="Facility" mode="IN" optional="false"/>
        <attribute name="timePeriod" type="String" form-display="true" form-label="Time Period" mode="IN" optional="true"/>
        <attribute name="msgResult" type="List" mode="OUT" optional="false"/>
    </service>
    
    <service name="initInventoryEventPlanned" engine="java"
            location="org.ofbiz.manufacturing.mrp.MrpServices" invoke="initInventoryEventPlanned" auth="true" use-transaction="false">
        <description>Initialize the table "InventoryEventPlanned"</description>
        <attribute name="reInitialize" type="Boolean" mode="IN" optional="false"/>
    </service>
    
    <service name="listProductForMrp" engine="java"
            location="org.ofbiz.manufacturing.mrp.MrpServices" invoke="listProductForMrp" auth="true">
        <description>List the products for the MRP"</description>
        <attribute name="billOfMaterialLevel" type="Long" mode="IN" optional="false"/>
        <attribute name="listInventoryEventForMrp" type="List" mode="OUT" optional="false"/>
    </service>
    
    <service name="findProductMrpQoh" engine="java"
            location="org.ofbiz.manufacturing.mrp.MrpServices" invoke="findProductMrpQoh" auth="true">
        <description>Find the quantity on hand of products for the MRP</description>
        <attribute name="productId" type="String" mode="IN" optional="false"/>
        <attribute name="quantityOnHandTotal" type="Double" mode="OUT" optional="false"/>
    </service>
    
    <service name="createInventoryEventPlanned" engine="java"
            location="org.ofbiz.manufacturing.mrp.InventoryEventPlannedServices" invoke="createInventoryEventPlanned" auth="false">
        <description>create an createInventoryEventPlanned record in the database</description>
		<attribute name="productId" type="String" mode="IN" optional="false"/>
		<attribute name="eventDate" type="Timestamp" mode="IN" optional="false"/>
		<attribute name="inventoryEventPlanTypeId" type="String" mode="IN" optional="false"/>
		<attribute name="eventQuantity" type="Double" mode="IN" optional="false"/>
	</service>
    <service name="prepInventoryEventPlannedFromRequirement" engine="java"
            location="org.ofbiz.manufacturing.mrp.InventoryEventPlannedServices" invoke="prepParamFromRequirement" auth="false">
        <description>Transform parameters used to created a requirement to parameters needed to created an InventoryEventPlanned.</description>
		<attribute name="productId" type="String" mode="INOUT" optional="false"/>
		<attribute name="requiredByDate" type="Timestamp" mode="IN" optional="false"/>
		<attribute name="eventDate" type="Timestamp" mode="OUT" optional="false"/>
		<attribute name="requirementTypeId" type="String" mode="IN" optional="false"/>
		<attribute name="inventoryEventPlanTypeId" type="String" mode="OUT" optional="false"/>
		<attribute name="quantity" type="Double" mode="IN" optional="false"/>
		<attribute name="eventQuantity" type="Double" mode="OUT" optional="false"/>
	</service>

    <!-- Bill of Materials services -->
    <service name="createBOMAssoc" default-entity-name="ProductAssoc" engine="simple"
                location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="createBOMAssoc" auth="true">
        <description>Add Product to Product Association</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute name="errorMessage" type="String" optional="true" mode="OUT"/>
        <override name="fromDate" optional="true"/>
    </service>
    <service name="updateBOMAssoc" default-entity-name="ProductAssoc" engine="simple"
                location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="updateBOMAssoc" auth="true">
        <description>Update Product to Product Association</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    <service name="removeBOMAssoc" default-entity-name="ProductAssoc" engine="simple"
                location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="removeBOMAssoc" auth="true">
        <description>Remove Product to Product Association</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>

    <service name="copyBOMAssocs" default-entity-name="ProductAssoc" engine="simple"
                location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="copyBOMAssocs" auth="true">
        <description>Copy BOM associations from one product to another</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <attribute name="copyToProductId" type="String" optional="false" mode="IN"/>
        <override name="fromDate" optional="true"/>
        <override name="productIdTo" optional="true"/>
    </service>

    <service name="updateProductManufacturingRule" engine="simple"
            location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="updateProductManufacturingRule">
        <description>Update a Product Manufacturing Rule</description>
        <attribute name="ruleId" form-label="${uiLabelMap.ManufacturingRuleId}"  type="String" mode="IN" optional="false"/>
        <attribute name="productId" form-label="${uiLabelMap.ProductProductId}" type="String" mode="IN" optional="true"/>
        <attribute name="productIdIn" form-label="${uiLabelMap.ProductProductIdIn}" type="String" mode="IN" optional="false"/>
        <attribute name="productIdFor" form-label="${uiLabelMap.ProductProductIdFor}" type="String" mode="IN" optional="true"/>
        <attribute name="productIdInSubst" form-label="${uiLabelMap.ProductProductIdInSubst}" type="String" mode="IN" optional="true"/>
        <attribute name="productFeature" form-label="${uiLabelMap.ProductProductFeature}" type="String" mode="IN" optional="true"/>
        <attribute name="quantity" form-label="${uiLabelMap.ManufacturingQuantity}" type="Double" mode="IN" optional="true"/>
        <attribute name="ruleOperator" form-label="${uiLabelMap.ManufacturingRuleOperator}" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" form-label="${uiLabelMap.CommonFromDate}" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" form-label="${uiLabelMap.CommonThruDate}" type="Timestamp" mode="IN" optional="true"/>
    </service>

    <service name="addProductManufacturingRule" engine="simple"
            location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="addProductManufacturingRule">
        <description>Create a Product Manufacturing Rule</description>
        <attribute name="ruleId" form-label="${uiLabelMap.ManufacturingRuleId}" type="String" mode="IN" optional="true"/>
        <attribute name="productId" form-label="${uiLabelMap.ProductProductId}" type="String" mode="IN" optional="true"/>
        <attribute name="productIdIn" form-label="${uiLabelMap.ProductProductIdIn}" type="String" mode="IN" optional="false"/>
        <attribute name="productIdFor" form-label="${uiLabelMap.ProductProductIdFor}" type="String" mode="IN" optional="true"/>
        <attribute name="productIdInSubst" form-label="${uiLabelMap.ProductProductIdInSubst}" type="String" mode="IN" optional="true"/>
        <attribute name="productFeature" form-label="${uiLabelMap.ProductProductFeature}" type="String" mode="IN" optional="true"/>
        <attribute name="quantity" form-label="${uiLabelMap.ManufacturingQuantity}" type="Double" mode="IN" optional="true"/>
        <attribute name="ruleOperbator" form-label="${uiLabelMap.ManufacturingRuleOperator}" type="String" mode="IN" optional="true"/>
        <attribute name="fromDate" form-label="${uiLabelMap.CommonFromDate}" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" form-label="${uiLabelMap.CommonThruDate}" type="Timestamp" mode="IN" optional="true"/>
    </service>

    <service name="deleteProductManufacturingRule" engine="simple"
            location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="deleteProductManufacturingRule">
        <description>Remove a Product Manufacturing Rule</description>
        <attribute name="ruleId" form-label="${uiLabelMap.ManufacturingRuleId}" type="String" mode="IN" optional="false"/>
    </service>

    <service name="getMaxDepth" default-entity-name="ProductAssoc" engine="java"
            location="org.ofbiz.manufacturing.bom.BOMServices" invoke="getMaxDepth">
        <description>Returns the max product's depth in the bill of materials</description>
        <attribute mode="IN" name="productId" optional="false" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="bomType" optional="true" type="String"/>
        <attribute mode="OUT" name="depth" optional="false" type="Integer"/>
    </service>

    <service name="updateLowLevelCode" engine="java"
            location="org.ofbiz.manufacturing.bom.BOMServices" invoke="updateLowLevelCode">
        <description>Updates the low level code of the product in the Product entity</description>
        <attribute mode="IN" name="productId" optional="false" type="String"/>
        <attribute mode="IN" name="alsoComponents" optional="true" type="Boolean"/>
        <attribute mode="IN" name="alsoVariants" optional="true" type="Boolean"/>
        <attribute mode="OUT" name="lowLevelCode" optional="false" type="Integer"/>
    </service>

    <service name="initLowLevelCode" engine="java"
            location="org.ofbiz.manufacturing.bom.BOMServices" invoke="initLowLevelCode">
        <description>Updates the low level code of all the products in the Product entity</description>
        <attribute mode="OUT" name="productLLCs" optional="false" type="java.util.List"/>
    </service>

    <service name="searchDuplicatedAncestor" default-entity-name="ProductAssoc" engine="java"
            location="org.ofbiz.manufacturing.bom.BOMServices" invoke="searchDuplicatedAncestor">
        <description>Returns the ProductAssoc generic value for a duplicate productIdKey ancestor if present, null otherwise. Useful to avoid loops when adding new assocs to a bill of materials.</description>
        <attribute mode="IN" name="productId" optional="false" type="String"/>
        <attribute mode="IN" name="productIdKey" optional="false" type="String"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="bomType" optional="false" type="String"/>
        <attribute mode="OUT" name="duplicatedProductAssoc" optional="true" type="org.ofbiz.entity.GenericValue"/>
    </service>

    <service name="getBOMTree" default-entity-name="ProductAssoc" engine="java"
            location="org.ofbiz.manufacturing.bom.BOMServices" invoke="getBOMTree">
        <description>Returns a BOMTree (an object that represents a configured bill of material tree in memory). Useful for tree traversal (breakdown, explosion, implosion).</description>
        <attribute mode="IN" name="productId" optional="false" type="String"/>
        <attribute mode="IN" name="type" optional="true" type="Integer"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="bomType" optional="false" type="String"/>
        <attribute mode="OUT" name="tree" optional="true" type="org.ofbiz.manufacturing.bom.BOMTree"/>
    </service>

    <service name="getManufacturingComponents" engine="java"
            location="org.ofbiz.manufacturing.bom.BOMServices" invoke="getManufacturingComponents">
        <description>Returns the product's routing id and the components of a given product (if necessary, running the configurator).</description>
        <attribute mode="IN" name="productId" optional="false" type="String"/>
        <attribute mode="IN" name="quantity" optional="true" type="Double"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="excludePhantoms" optional="true" type="Boolean"/>
        <attribute mode="OUT" name="workEffortId" optional="true" type="String"/>
        <attribute mode="OUT" name="components" optional="true" type="java.util.List"/>
    </service>

    <service name="createProductionRunsForOrder" engine="java"
            location="org.ofbiz.manufacturing.bom.BOMServices" invoke="createProductionRunsForOrder" auth="true">
        <description>Explodes a product id and creates all the needed production runs; if an order id is also provided, it links the production runs to the sales order.</description>
        <attribute mode="IN" name="productId" optional="false" type="String"/>
        <attribute mode="IN" name="quantity" optional="true" type="Double"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="IN" name="orderId" optional="true" type="String"/>
        <attribute mode="IN" name="orderItemSeqId" optional="true" type="String"/>
        <attribute mode="IN" name="shipmentId" optional="true" type="String"/>
        <attribute mode="OUT" name="productionRuns" type="java.util.List"/>
    </service>
    <service name="createProductionRunFromRequirement" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="createProductionRunFromRequirement" auth="true">
        <description>Creates a production run from a requirement.</description>
        <attribute mode="IN" name="requirementId" optional="false" type="String"/>
        <attribute mode="IN" name="quantity" optional="true" type="Double"/>
        <attribute mode="OUT" name="productionRunId" optional="true" type="String"/>
    </service>
    <service name="createProductionRunFromConfiguration" engine="java"
            location="org.ofbiz.manufacturing.jobshopmgt.ProductionRunServices" invoke="createProductionRunFromConfiguration" auth="true">
        <description>Creates a production run from a product configuration.</description>
        <attribute mode="IN" name="facilityId" optional="false" type="String"/>
        <attribute mode="IN" name="configId" optional="true" type="String"/>
        <attribute mode="IN" name="config" optional="true" type="org.ofbiz.product.config.ProductConfigWrapper"/>
        <attribute mode="IN" name="quantity" optional="true" type="Double"/>
        <attribute mode="IN" name="orderId" optional="true" type="String"/>
        <attribute mode="IN" name="orderItemSeqId" optional="true" type="String"/>
        <attribute mode="OUT" name="productionRunId" optional="false" type="String"/>
    </service>
    
    <service name="getNotAssembledComponents" engine="java"
                location="org.ofbiz.manufacturing.bom.BOMServices" invoke="getNotAssembledComponents" auth="true">
        <description>Explodes a product id and returns all the components that are not manufactured on customer order: these components will be taken from warehouse.</description>
        <attribute mode="IN" name="productId" optional="false" type="String"/>
        <attribute mode="IN" name="quantity" optional="true" type="Double"/>
        <attribute mode="IN" name="fromDate" optional="true" type="String"/>
        <attribute mode="OUT" name="notAssembledComponents" type="java.util.List"/>
    </service>
    
</services>
