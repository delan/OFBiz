<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE services PUBLIC "-//OFBiz//DTD Services Config//EN" "http://www.ofbiz.org/dtds/services.dtd">

<services>
    <description>Common Application Shared Manufacturing Services</description>
    <vendor>OFBiz</vendor>
    <version>1.0</version>

    <!-- Routing services -->
    <service name="createMachineGroup" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createMachineGroup">
        <description>Create a Machine Group</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
        <attribute name="fixedAssetName" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateMachineGroup" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateMachineGroup">
        <description>Update a Machine Group</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
        <attribute name="fixedAssetName" type="String" mode="IN" optional="true"/>
    </service>

    <service name="createCalendar" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createCalendar">
        <description>Create a calendar</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateCalendar" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateCalendar">
        <description>Update a calendar</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="removeCalendar" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeCalendar">
        <description>Remove a calendar</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="createCalendarWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createCalendarWeek">
        <description>Create a Calendar Week</description>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="false"/>
        	<attribute name="description" type="String" mode="IN" optional="true"/>
           <attribute name="mondayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="mondayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="tuesdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="tuesdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="wednesdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="wednesdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="thursdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="thursdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="fridayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="fridayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="saturdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="saturdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="sundayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="sundayCapacity" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="updateCalendarWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateCalendarWeek">
        <description>Update a Calendar Week</description>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="false"/>
        	<attribute name="description" type="String" mode="IN" optional="true"/>
           <attribute name="mondayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="mondayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="tuesdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="tuesdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="wednesdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="wednesdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="thursdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="thursdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="fridayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="fridayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="saturdayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="saturdayCapacity" type="Double" mode="IN" optional="true"/>
           <attribute name="sundayStartTime" type="java.sql.Time" mode="IN" optional="true"/>
           <attribute name="sundayCapacity" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="removeCalendarWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeCalendarWeek">
        <description>Remove a Calendar Week</description>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="false"/>
    </service>

    <service name="createCalendarExceptionDay" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createCalendarExceptionDay">
        <description>Create a calendar ExceptionDay</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="exceptionDateStartTime" type="java.sql.Timestamp" mode="IN" optional="false"/>
        <attribute name="exceptionCapacity" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="updateCalendarExceptionDay" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateCalendarExceptionDay">
        <description>Update a calendar ExceptionDay</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="exceptionDateStartTime" type="java.sql.Timestamp" mode="IN" optional="false"/>
        <attribute name="exceptionCapacity" type="Double" mode="IN" optional="true"/>
    </service>
    <service name="removeCalendarExceptionDay" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeCalendarExceptionDay">
        <description>Update a calendar ExceptionDay</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="exceptionDateStartTime" type="java.sql.Timestamp" mode="IN" optional="false"/>
    </service>
    
     <service name="createCalendarExceptionWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createCalendarExceptionWeek">
        <description>Create a Calendar Exception Week</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="exceptionDateStart" type="java.sql.Date" mode="IN" optional="false"/>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateCalendarExceptionWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateCalendarExceptionWeek">
        <description>Update a Calendar Exception Week</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="description" type="String" mode="IN" optional="true"/>
        <attribute name="exceptionDateStart" type="java.sql.Date" mode="IN" optional="false"/>
        <attribute name="calendarWeekId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="removeCalendarExceptionWeek" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeCalendarExceptionWeek">
        <description>Remove a Calendar Exception Week</description>
        <attribute name="calendarId" type="String" mode="IN" optional="false"/>
        <attribute name="exceptionDateStart" type="java.sql.Date" mode="IN" optional="false"/>
    </service>
    
    <service name="createMachine" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="createMachine">
        <description>Create a Machine</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
        <attribute name="fixedAssetName" type="String" mode="IN" optional="true"/>
        <attribute name="parentFixedAssetId" type="String" mode="IN" optional="true"/>
        <attribute name="calendarId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="updateMachine" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="updateMachine">
        <description>Update a Machine</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
        <attribute name="fixedAssetName" type="String" mode="IN" optional="true"/>
        <attribute name="parentFixedAssetId" type="String" mode="IN" optional="true"/>
        <attribute name="calendarId" type="String" mode="IN" optional="true"/>
    </service>
    <service name="removeMachine" engine="simple"
            location="org/ofbiz/manufacturing/techdata/RoutingSimpleServices.xml" invoke="removeMachine">
        <description>Remove a Machine</description>
        <attribute name="fixedAssetId" type="String" mode="IN" optional="false"/>
    </service>
    <!-- Misc services -->
    <service name="lookupRoutingTask" engine="java"
            location="org.ofbiz.manufacturing.techdata.TechDataServices" invoke="lookupRoutingTask" auth="true">
        <description>Performs a lookup for Routing Task</description>
        <attribute name="workEffortName" type="String" form-display="true" form-label="${uiLabelMap.ManufacturingTaskName}" mode="IN" optional="true"/>
        <attribute name="fixedAssetId" type="String" form-display="true" form-label="${uiLabelMap.ManufacturingMachineGroup}" mode="IN" optional="true"/>
        <attribute name="lookupResult" type="List" mode="OUT" optional="false"/>
    </service>
    <service name="checkRoutingTaskAssoc" engine="java"
            location="org.ofbiz.manufacturing.techdata.TechDataServices" invoke="checkRoutingTaskAssoc" auth="true">
        <description>Check if a new routingTaskAssoc is ok or not (same SeqId and Date)</description>
        <auto-attributes entity-name="WorkEffortAssoc" include="pk" mode="IN"/>
<!--        <auto-attributes entity-name="WorkEffortAssoc" include="nopk" mode="IN" optional="true"/> -->
        <attribute name="fromDate" type="java.sql.Timestamp" mode="IN" optional="true"/>
        <attribute name="thruDate" type="java.sql.Timestamp" mode="IN" optional="true"/> 
        <attribute name="seqIdNotOk" type="String" mode="OUT" optional="false"/> 
    </service>

    <!-- MRP services -->
    <service name="runningMrp" engine="java"
            location="org.ofbiz.manufacturing.mrp.MrpServices" invoke="runningMrp" auth="true">
        <description>Performs a run of Mrp</description>
        <attribute name="timePeriod" type="String" form-display="true" form-label="Time Period" mode="IN" optional="true"/>
        <attribute name="MsgResult" type="List" mode="OUT" optional="false"/>
    </service>

    <!-- Bill of Materials services -->
    <service name="updateProductManufacturingRule" engine="simple"
            location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="updateProductManufacturingRule">
        <description>Update a Product Manufacturing Rule</description>
        <attribute name="ruleId" type="String" mode="IN" optional="false"/>
        <attribute name="productId" type="String" mode="IN" optional="true"/>
        <attribute name="productIdIn" type="String" mode="IN" optional="false"/>
        <attribute name="productIdFor" type="String" mode="IN" optional="true"/>
        <attribute name="productIdInSubst" type="String" mode="IN" optional="true"/>
        <attribute name="productFeature" type="String" mode="IN" optional="true"/>
        <attribute name="ruleOperator" type="String" mode="IN" optional="true"/>
    </service>

    <service name="addProductManufacturingRule" engine="simple"
            location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="addProductManufacturingRule">
        <description>Create a Product Manufacturing Rule</description>
        <attribute name="ruleId" type="String" mode="IN" optional="true"/>
        <attribute name="productId" type="String" mode="IN" optional="true"/>
        <attribute name="productIdIn" type="String" mode="IN" optional="false"/>
        <attribute name="productIdFor" type="String" mode="IN" optional="true"/>
        <attribute name="productIdInSubst" type="String" mode="IN" optional="true"/>
        <attribute name="productFeature" type="String" mode="IN" optional="true"/>
        <attribute name="ruleOperator" type="String" mode="IN" optional="true"/>
    </service>

    <service name="deleteProductManufacturingRule" engine="simple"
            location="org/ofbiz/manufacturing/bom/BomSimpleMethods.xml" invoke="deleteProductManufacturingRule">
        <description>Remove a Product Manufacturing Rule</description>
        <attribute name="ruleId" type="String" mode="IN" optional="false"/>
    </service>

</services>
